/*! For license information please see main.bd7028ce.js.LICENSE.txt */
(()=>{"use strict";var e={4:(e,t,n)=>{var r=n(853),o=n(43),a=n(950);function i(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function l(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function c(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function u(e){if(31===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function d(e){if(l(e)!==e)throw Error(i(188))}function h(e){var t=e.tag;if(5===t||26===t||27===t||6===t)return e;for(e=e.child;null!==e;){if(null!==(t=h(e)))return t;e=e.sibling}return null}var f=Object.assign,p=Symbol.for("react.element"),m=Symbol.for("react.transitional.element"),g=Symbol.for("react.portal"),v=Symbol.for("react.fragment"),y=Symbol.for("react.strict_mode"),b=Symbol.for("react.profiler"),w=Symbol.for("react.consumer"),x=Symbol.for("react.context"),S=Symbol.for("react.forward_ref"),k=Symbol.for("react.suspense"),_=Symbol.for("react.suspense_list"),E=Symbol.for("react.memo"),C=Symbol.for("react.lazy");Symbol.for("react.scope");var A=Symbol.for("react.activity");Symbol.for("react.legacy_hidden"),Symbol.for("react.tracing_marker");var j=Symbol.for("react.memo_cache_sentinel");Symbol.for("react.view_transition");var T=Symbol.iterator;function N(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=T&&e[T]||e["@@iterator"])?e:null}var D=Symbol.for("react.client.reference");function P(e){if(null==e)return null;if("function"===typeof e)return e.$$typeof===D?null:e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case v:return"Fragment";case b:return"Profiler";case y:return"StrictMode";case k:return"Suspense";case _:return"SuspenseList";case A:return"Activity"}if("object"===typeof e)switch(e.$$typeof){case g:return"Portal";case x:return e.displayName||"Context";case w:return(e._context.displayName||"Context")+".Consumer";case S:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case E:return null!==(t=e.displayName||null)?t:P(e.type)||"Memo";case C:t=e._payload,e=e._init;try{return P(e(t))}catch(n){}}return null}var O=Array.isArray,R=o.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,I=a.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,M={pending:!1,data:null,method:null,action:null},F=[],L=-1;function U(e){return{current:e}}function z(e){0>L||(e.current=F[L],F[L]=null,L--)}function B(e,t){L++,F[L]=e.current,e.current=t}var q,V,W=U(null),H=U(null),K=U(null),G=U(null);function Q(e,t){switch(B(K,t),B(H,e),B(W,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?vd(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)e=yd(t=vd(t),e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}z(W),B(W,e)}function Y(){z(W),z(H),z(K)}function $(e){null!==e.memoizedState&&B(G,e);var t=W.current,n=yd(t,e.type);t!==n&&(B(H,e),B(W,n))}function X(e){H.current===e&&(z(W),z(H)),G.current===e&&(z(G),uh._currentValue=M)}function J(e){if(void 0===q)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);q=t&&t[1]||"",V=-1<n.stack.indexOf("\n    at")?" (<anonymous>)":-1<n.stack.indexOf("@")?"@unknown:0:0":""}return"\n"+q+e+V}var Z=!1;function ee(e,t){if(!e||Z)return"";Z=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var r={DetermineComponentFrameRoot:function(){try{if(t){var n=function(){throw Error()};if(Object.defineProperty(n.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(n,[])}catch(o){var r=o}Reflect.construct(e,[],n)}else{try{n.call()}catch(a){r=a}e.call(n.prototype)}}else{try{throw Error()}catch(i){r=i}(n=e())&&"function"===typeof n.catch&&n.catch(function(){})}}catch(s){if(s&&r&&"string"===typeof s.stack)return[s.stack,r.stack]}return[null,null]}};r.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var o=Object.getOwnPropertyDescriptor(r.DetermineComponentFrameRoot,"name");o&&o.configurable&&Object.defineProperty(r.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var a=r.DetermineComponentFrameRoot(),i=a[0],s=a[1];if(i&&s){var l=i.split("\n"),c=s.split("\n");for(o=r=0;r<l.length&&!l[r].includes("DetermineComponentFrameRoot");)r++;for(;o<c.length&&!c[o].includes("DetermineComponentFrameRoot");)o++;if(r===l.length||o===c.length)for(r=l.length-1,o=c.length-1;1<=r&&0<=o&&l[r]!==c[o];)o--;for(;1<=r&&0<=o;r--,o--)if(l[r]!==c[o]){if(1!==r||1!==o)do{if(r--,0>--o||l[r]!==c[o]){var u="\n"+l[r].replace(" at new "," at ");return e.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",e.displayName)),u}}while(1<=r&&0<=o);break}}}finally{Z=!1,Error.prepareStackTrace=n}return(n=e?e.displayName||e.name:"")?J(n):""}function te(e,t){switch(e.tag){case 26:case 27:case 5:return J(e.type);case 16:return J("Lazy");case 13:return e.child!==t&&null!==t?J("Suspense Fallback"):J("Suspense");case 19:return J("SuspenseList");case 0:case 15:return ee(e.type,!1);case 11:return ee(e.type.render,!1);case 1:return ee(e.type,!0);case 31:return J("Activity");default:return""}}function ne(e){try{var t="",n=null;do{t+=te(e,n),n=e,e=e.return}while(e);return t}catch(r){return"\nError generating stack: "+r.message+"\n"+r.stack}}var re=Object.prototype.hasOwnProperty,oe=r.unstable_scheduleCallback,ae=r.unstable_cancelCallback,ie=r.unstable_shouldYield,se=r.unstable_requestPaint,le=r.unstable_now,ce=r.unstable_getCurrentPriorityLevel,ue=r.unstable_ImmediatePriority,de=r.unstable_UserBlockingPriority,he=r.unstable_NormalPriority,fe=r.unstable_LowPriority,pe=r.unstable_IdlePriority,me=r.log,ge=r.unstable_setDisableYieldValue,ve=null,ye=null;function be(e){if("function"===typeof me&&ge(e),ye&&"function"===typeof ye.setStrictMode)try{ye.setStrictMode(ve,e)}catch(t){}}var we=Math.clz32?Math.clz32:function(e){return 0===(e>>>=0)?32:31-(xe(e)/Se|0)|0},xe=Math.log,Se=Math.LN2;var ke=256,_e=262144,Ee=4194304;function Ce(e){var t=42&e;if(0!==t)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return 261888&e;case 262144:case 524288:case 1048576:case 2097152:return 3932160&e;case 4194304:case 8388608:case 16777216:case 33554432:return 62914560&e;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function Ae(e,t,n){var r=e.pendingLanes;if(0===r)return 0;var o=0,a=e.suspendedLanes,i=e.pingedLanes;e=e.warmLanes;var s=134217727&r;return 0!==s?0!==(r=s&~a)?o=Ce(r):0!==(i&=s)?o=Ce(i):n||0!==(n=s&~e)&&(o=Ce(n)):0!==(s=r&~a)?o=Ce(s):0!==i?o=Ce(i):n||0!==(n=r&~e)&&(o=Ce(n)),0===o?0:0!==t&&t!==o&&0===(t&a)&&((a=o&-o)>=(n=t&-t)||32===a&&0!==(4194048&n))?t:o}function je(e,t){return 0===(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)}function Te(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function Ne(){var e=Ee;return 0===(62914560&(Ee<<=1))&&(Ee=4194304),e}function De(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Pe(e,t){e.pendingLanes|=t,268435456!==t&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Oe(e,t,n){e.pendingLanes|=t,e.suspendedLanes&=~t;var r=31-we(t);e.entangledLanes|=t,e.entanglements[r]=1073741824|e.entanglements[r]|261930&n}function Re(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-we(n),o=1<<r;o&t|e[r]&t&&(e[r]|=t),n&=~o}}function Ie(e,t){var n=t&-t;return 0!==((n=0!==(42&n)?1:Me(n))&(e.suspendedLanes|t))?0:n}function Me(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Fe(e){return 2<(e&=-e)?8<e?0!==(134217727&e)?32:268435456:8:2}function Le(){var e=I.p;return 0!==e?e:void 0===(e=window.event)?32:Ch(e.type)}function Ue(e,t){var n=I.p;try{return I.p=e,t()}finally{I.p=n}}var ze=Math.random().toString(36).slice(2),Be="__reactFiber$"+ze,qe="__reactProps$"+ze,Ve="__reactContainer$"+ze,We="__reactEvents$"+ze,He="__reactListeners$"+ze,Ke="__reactHandles$"+ze,Ge="__reactResources$"+ze,Qe="__reactMarker$"+ze;function Ye(e){delete e[Be],delete e[qe],delete e[We],delete e[He],delete e[Ke]}function $e(e){var t=e[Be];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Ve]||n[Be]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=Md(e);null!==e;){if(n=e[Be])return n;e=Md(e)}return t}n=(e=n).parentNode}return null}function Xe(e){if(e=e[Be]||e[Ve]){var t=e.tag;if(5===t||6===t||13===t||31===t||26===t||27===t||3===t)return e}return null}function Je(e){var t=e.tag;if(5===t||26===t||27===t||6===t)return e.stateNode;throw Error(i(33))}function Ze(e){var t=e[Ge];return t||(t=e[Ge]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function et(e){e[Qe]=!0}var tt=new Set,nt={};function rt(e,t){ot(e,t),ot(e+"Capture",t)}function ot(e,t){for(nt[e]=t,e=0;e<t.length;e++)tt.add(t[e])}var at=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),it={},st={};function lt(e,t,n){if(o=t,re.call(st,o)||!re.call(it,o)&&(at.test(o)?st[o]=!0:(it[o]=!0,0)))if(null===n)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":return void e.removeAttribute(t);case"boolean":var r=t.toLowerCase().slice(0,5);if("data-"!==r&&"aria-"!==r)return void e.removeAttribute(t)}e.setAttribute(t,""+n)}var o}function ct(e,t,n){if(null===n)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":return void e.removeAttribute(t)}e.setAttribute(t,""+n)}}function ut(e,t,n,r){if(null===r)e.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":return void e.removeAttribute(n)}e.setAttributeNS(t,n,""+r)}}function dt(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function ht(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function ft(e){if(!e._valueTracker){var t=ht(e)?"checked":"value";e._valueTracker=function(e,t,n){var r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t);if(!e.hasOwnProperty(t)&&"undefined"!==typeof r&&"function"===typeof r.get&&"function"===typeof r.set){var o=r.get,a=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return o.call(this)},set:function(e){n=""+e,a.call(this,e)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(e){n=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e,t,""+e[t])}}function pt(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=ht(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function mt(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}var gt=/[\n"\\]/g;function vt(e){return e.replace(gt,function(e){return"\\"+e.charCodeAt(0).toString(16)+" "})}function yt(e,t,n,r,o,a,i,s){e.name="",null!=i&&"function"!==typeof i&&"symbol"!==typeof i&&"boolean"!==typeof i?e.type=i:e.removeAttribute("type"),null!=t?"number"===i?(0===t&&""===e.value||e.value!=t)&&(e.value=""+dt(t)):e.value!==""+dt(t)&&(e.value=""+dt(t)):"submit"!==i&&"reset"!==i||e.removeAttribute("value"),null!=t?wt(e,i,dt(t)):null!=n?wt(e,i,dt(n)):null!=r&&e.removeAttribute("value"),null==o&&null!=a&&(e.defaultChecked=!!a),null!=o&&(e.checked=o&&"function"!==typeof o&&"symbol"!==typeof o),null!=s&&"function"!==typeof s&&"symbol"!==typeof s&&"boolean"!==typeof s?e.name=""+dt(s):e.removeAttribute("name")}function bt(e,t,n,r,o,a,i,s){if(null!=a&&"function"!==typeof a&&"symbol"!==typeof a&&"boolean"!==typeof a&&(e.type=a),null!=t||null!=n){if(!("submit"!==a&&"reset"!==a||void 0!==t&&null!==t))return void ft(e);n=null!=n?""+dt(n):"",t=null!=t?""+dt(t):n,s||t===e.value||(e.value=t),e.defaultValue=t}r="function"!==typeof(r=null!=r?r:o)&&"symbol"!==typeof r&&!!r,e.checked=s?e.checked:!!r,e.defaultChecked=!!r,null!=i&&"function"!==typeof i&&"symbol"!==typeof i&&"boolean"!==typeof i&&(e.name=i),ft(e)}function wt(e,t,n){"number"===t&&mt(e.ownerDocument)===e||e.defaultValue===""+n||(e.defaultValue=""+n)}function xt(e,t,n,r){if(e=e.options,t){t={};for(var o=0;o<n.length;o++)t["$"+n[o]]=!0;for(n=0;n<e.length;n++)o=t.hasOwnProperty("$"+e[n].value),e[n].selected!==o&&(e[n].selected=o),o&&r&&(e[n].defaultSelected=!0)}else{for(n=""+dt(n),t=null,o=0;o<e.length;o++){if(e[o].value===n)return e[o].selected=!0,void(r&&(e[o].defaultSelected=!0));null!==t||e[o].disabled||(t=e[o])}null!==t&&(t.selected=!0)}}function St(e,t,n){null==t||((t=""+dt(t))!==e.value&&(e.value=t),null!=n)?e.defaultValue=null!=n?""+dt(n):"":e.defaultValue!==t&&(e.defaultValue=t)}function kt(e,t,n,r){if(null==t){if(null!=r){if(null!=n)throw Error(i(92));if(O(r)){if(1<r.length)throw Error(i(93));r=r[0]}n=r}null==n&&(n=""),t=n}n=dt(t),e.defaultValue=n,(r=e.textContent)===n&&""!==r&&null!==r&&(e.value=r),ft(e)}function _t(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var Et=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Ct(e,t,n){var r=0===t.indexOf("--");null==n||"boolean"===typeof n||""===n?r?e.setProperty(t,""):"float"===t?e.cssFloat="":e[t]="":r?e.setProperty(t,n):"number"!==typeof n||0===n||Et.has(t)?"float"===t?e.cssFloat=n:e[t]=(""+n).trim():e[t]=n+"px"}function At(e,t,n){if(null!=t&&"object"!==typeof t)throw Error(i(62));if(e=e.style,null!=n){for(var r in n)!n.hasOwnProperty(r)||null!=t&&t.hasOwnProperty(r)||(0===r.indexOf("--")?e.setProperty(r,""):"float"===r?e.cssFloat="":e[r]="");for(var o in t)r=t[o],t.hasOwnProperty(o)&&n[o]!==r&&Ct(e,o,r)}else for(var a in t)t.hasOwnProperty(a)&&Ct(e,a,t[a])}function jt(e){if(-1===e.indexOf("-"))return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Tt=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Nt=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Dt(e){return Nt.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function Pt(){}var Ot=null;function Rt(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var It=null,Mt=null;function Ft(e){var t=Xe(e);if(t&&(e=t.stateNode)){var n=e[qe]||null;e:switch(e=t.stateNode,t.type){case"input":if(yt(e,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll('input[name="'+vt(""+t)+'"][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var o=r[qe]||null;if(!o)throw Error(i(90));yt(r,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name)}}for(t=0;t<n.length;t++)(r=n[t]).form===e.form&&pt(r)}break e;case"textarea":St(e,n.value,n.defaultValue);break e;case"select":null!=(t=n.value)&&xt(e,!!n.multiple,t,!1)}}}var Lt=!1;function Ut(e,t,n){if(Lt)return e(t,n);Lt=!0;try{return e(t)}finally{if(Lt=!1,(null!==It||null!==Mt)&&(Zc(),It&&(t=It,e=Mt,Mt=It=null,Ft(t),e)))for(t=0;t<e.length;t++)Ft(e[t])}}function zt(e,t){var n=e.stateNode;if(null===n)return null;var r=n[qe]||null;if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(i(231,t,typeof n));return n}var Bt=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),qt=!1;if(Bt)try{var Vt={};Object.defineProperty(Vt,"passive",{get:function(){qt=!0}}),window.addEventListener("test",Vt,Vt),window.removeEventListener("test",Vt,Vt)}catch(Xh){qt=!1}var Wt=null,Ht=null,Kt=null;function Gt(){if(Kt)return Kt;var e,t,n=Ht,r=n.length,o="value"in Wt?Wt.value:Wt.textContent,a=o.length;for(e=0;e<r&&n[e]===o[e];e++);var i=r-e;for(t=1;t<=i&&n[r-t]===o[a-t];t++);return Kt=o.slice(e,1<t?1-t:void 0)}function Qt(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function Yt(){return!0}function $t(){return!1}function Xt(e){function t(t,n,r,o,a){for(var i in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=o,this.target=a,this.currentTarget=null,e)e.hasOwnProperty(i)&&(t=e[i],this[i]=t?t(o):o[i]);return this.isDefaultPrevented=(null!=o.defaultPrevented?o.defaultPrevented:!1===o.returnValue)?Yt:$t,this.isPropagationStopped=$t,this}return f(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=Yt)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=Yt)},persist:function(){},isPersistent:Yt}),t}var Jt,Zt,en,tn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},nn=Xt(tn),rn=f({},tn,{view:0,detail:0}),on=Xt(rn),an=f({},rn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:vn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==en&&(en&&"mousemove"===e.type?(Jt=e.screenX-en.screenX,Zt=e.screenY-en.screenY):Zt=Jt=0,en=e),Jt)},movementY:function(e){return"movementY"in e?e.movementY:Zt}}),sn=Xt(an),ln=Xt(f({},an,{dataTransfer:0})),cn=Xt(f({},rn,{relatedTarget:0})),un=Xt(f({},tn,{animationName:0,elapsedTime:0,pseudoElement:0})),dn=Xt(f({},tn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}})),hn=Xt(f({},tn,{data:0})),fn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},pn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},mn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function gn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=mn[e])&&!!t[e]}function vn(){return gn}var yn=Xt(f({},rn,{key:function(e){if(e.key){var t=fn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=Qt(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?pn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:vn,charCode:function(e){return"keypress"===e.type?Qt(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?Qt(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}})),bn=Xt(f({},an,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),wn=Xt(f({},rn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:vn})),xn=Xt(f({},tn,{propertyName:0,elapsedTime:0,pseudoElement:0})),Sn=Xt(f({},an,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0})),kn=Xt(f({},tn,{newState:0,oldState:0})),_n=[9,13,27,32],En=Bt&&"CompositionEvent"in window,Cn=null;Bt&&"documentMode"in document&&(Cn=document.documentMode);var An=Bt&&"TextEvent"in window&&!Cn,jn=Bt&&(!En||Cn&&8<Cn&&11>=Cn),Tn=String.fromCharCode(32),Nn=!1;function Dn(e,t){switch(e){case"keyup":return-1!==_n.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Pn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var On=!1;var Rn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function In(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Rn[e.type]:"textarea"===t}function Mn(e,t,n,r){It?Mt?Mt.push(r):Mt=[r]:It=r,0<(t=rd(t,"onChange")).length&&(n=new nn("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Fn=null,Ln=null;function Un(e){Yu(e,0)}function zn(e){if(pt(Je(e)))return e}function Bn(e,t){if("change"===e)return t}var qn=!1;if(Bt){var Vn;if(Bt){var Wn="oninput"in document;if(!Wn){var Hn=document.createElement("div");Hn.setAttribute("oninput","return;"),Wn="function"===typeof Hn.oninput}Vn=Wn}else Vn=!1;qn=Vn&&(!document.documentMode||9<document.documentMode)}function Kn(){Fn&&(Fn.detachEvent("onpropertychange",Gn),Ln=Fn=null)}function Gn(e){if("value"===e.propertyName&&zn(Ln)){var t=[];Mn(t,Ln,e,Rt(e)),Ut(Un,t)}}function Qn(e,t,n){"focusin"===e?(Kn(),Ln=n,(Fn=t).attachEvent("onpropertychange",Gn)):"focusout"===e&&Kn()}function Yn(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return zn(Ln)}function $n(e,t){if("click"===e)return zn(t)}function Xn(e,t){if("input"===e||"change"===e)return zn(t)}var Jn="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function Zn(e,t){if(Jn(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var o=n[r];if(!re.call(t,o)||!Jn(e[o],t[o]))return!1}return!0}function er(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function tr(e,t){var n,r=er(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=er(r)}}function nr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?nr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function rr(e){for(var t=mt((e=null!=e&&null!=e.ownerDocument&&null!=e.ownerDocument.defaultView?e.ownerDocument.defaultView:window).document);t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=mt((e=t.contentWindow).document)}return t}function or(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}var ar=Bt&&"documentMode"in document&&11>=document.documentMode,ir=null,sr=null,lr=null,cr=!1;function ur(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;cr||null==ir||ir!==mt(r)||("selectionStart"in(r=ir)&&or(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},lr&&Zn(lr,r)||(lr=r,0<(r=rd(sr,"onSelect")).length&&(t=new nn("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=ir)))}function dr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var hr={animationend:dr("Animation","AnimationEnd"),animationiteration:dr("Animation","AnimationIteration"),animationstart:dr("Animation","AnimationStart"),transitionrun:dr("Transition","TransitionRun"),transitionstart:dr("Transition","TransitionStart"),transitioncancel:dr("Transition","TransitionCancel"),transitionend:dr("Transition","TransitionEnd")},fr={},pr={};function mr(e){if(fr[e])return fr[e];if(!hr[e])return e;var t,n=hr[e];for(t in n)if(n.hasOwnProperty(t)&&t in pr)return fr[e]=n[t];return e}Bt&&(pr=document.createElement("div").style,"AnimationEvent"in window||(delete hr.animationend.animation,delete hr.animationiteration.animation,delete hr.animationstart.animation),"TransitionEvent"in window||delete hr.transitionend.transition);var gr=mr("animationend"),vr=mr("animationiteration"),yr=mr("animationstart"),br=mr("transitionrun"),wr=mr("transitionstart"),xr=mr("transitioncancel"),Sr=mr("transitionend"),kr=new Map,_r="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Er(e,t){kr.set(e,t),rt(t,[e])}_r.push("scrollEnd");var Cr="function"===typeof reportError?reportError:function(e){if("object"===typeof window&&"function"===typeof window.ErrorEvent){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:"object"===typeof e&&null!==e&&"string"===typeof e.message?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if("object"===typeof process&&"function"===typeof process.emit)return void process.emit("uncaughtException",e);console.error(e)},Ar=[],jr=0,Tr=0;function Nr(){for(var e=jr,t=Tr=jr=0;t<e;){var n=Ar[t];Ar[t++]=null;var r=Ar[t];Ar[t++]=null;var o=Ar[t];Ar[t++]=null;var a=Ar[t];if(Ar[t++]=null,null!==r&&null!==o){var i=r.pending;null===i?o.next=o:(o.next=i.next,i.next=o),r.pending=o}0!==a&&Rr(n,o,a)}}function Dr(e,t,n,r){Ar[jr++]=e,Ar[jr++]=t,Ar[jr++]=n,Ar[jr++]=r,Tr|=r,e.lanes|=r,null!==(e=e.alternate)&&(e.lanes|=r)}function Pr(e,t,n,r){return Dr(e,t,n,r),Ir(e)}function Or(e,t){return Dr(e,null,null,t),Ir(e)}function Rr(e,t,n){e.lanes|=n;var r=e.alternate;null!==r&&(r.lanes|=n);for(var o=!1,a=e.return;null!==a;)a.childLanes|=n,null!==(r=a.alternate)&&(r.childLanes|=n),22===a.tag&&(null===(e=a.stateNode)||1&e._visibility||(o=!0)),e=a,a=a.return;return 3===e.tag?(a=e.stateNode,o&&null!==t&&(o=31-we(n),null===(r=(e=a.hiddenUpdates)[o])?e[o]=[t]:r.push(t),t.lane=536870912|n),a):null}function Ir(e){if(50<Wc)throw Wc=0,Hc=null,Error(i(185));for(var t=e.return;null!==t;)t=(e=t).return;return 3===e.tag?e.stateNode:null}var Mr={};function Fr(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Lr(e,t,n,r){return new Fr(e,t,n,r)}function Ur(e){return!(!(e=e.prototype)||!e.isReactComponent)}function zr(e,t){var n=e.alternate;return null===n?((n=Lr(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=65011712&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n.refCleanup=e.refCleanup,n}function Br(e,t){e.flags&=65011714;var n=e.alternate;return null===n?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=n.childLanes,e.lanes=n.lanes,e.child=n.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=n.memoizedProps,e.memoizedState=n.memoizedState,e.updateQueue=n.updateQueue,e.type=n.type,t=n.dependencies,e.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function qr(e,t,n,r,o,a){var s=0;if(r=e,"function"===typeof e)Ur(e)&&(s=1);else if("string"===typeof e)s=function(e,t,n){if(1===n||null!=t.itemProp)return!1;switch(e){case"meta":case"title":return!0;case"style":if("string"!==typeof t.precedence||"string"!==typeof t.href||""===t.href)break;return!0;case"link":if("string"!==typeof t.rel||"string"!==typeof t.href||""===t.href||t.onLoad||t.onError)break;return"stylesheet"!==t.rel||(e=t.disabled,"string"===typeof t.precedence&&null==e);case"script":if(t.async&&"function"!==typeof t.async&&"symbol"!==typeof t.async&&!t.onLoad&&!t.onError&&t.src&&"string"===typeof t.src)return!0}return!1}(e,n,W.current)?26:"html"===e||"head"===e||"body"===e?27:5;else e:switch(e){case A:return(e=Lr(31,n,t,o)).elementType=A,e.lanes=a,e;case v:return Vr(n.children,o,a,t);case y:s=8,o|=24;break;case b:return(e=Lr(12,n,t,2|o)).elementType=b,e.lanes=a,e;case k:return(e=Lr(13,n,t,o)).elementType=k,e.lanes=a,e;case _:return(e=Lr(19,n,t,o)).elementType=_,e.lanes=a,e;default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case x:s=10;break e;case w:s=9;break e;case S:s=11;break e;case E:s=14;break e;case C:s=16,r=null;break e}s=29,n=Error(i(130,null===e?"null":typeof e,"")),r=null}return(t=Lr(s,n,t,o)).elementType=e,t.type=r,t.lanes=a,t}function Vr(e,t,n,r){return(e=Lr(7,e,r,t)).lanes=n,e}function Wr(e,t,n){return(e=Lr(6,e,null,t)).lanes=n,e}function Hr(e){var t=Lr(18,null,null,0);return t.stateNode=e,t}function Kr(e,t,n){return(t=Lr(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var Gr=new WeakMap;function Qr(e,t){if("object"===typeof e&&null!==e){var n=Gr.get(e);return void 0!==n?n:(t={value:e,source:t,stack:ne(t)},Gr.set(e,t),t)}return{value:e,source:t,stack:ne(t)}}var Yr=[],$r=0,Xr=null,Jr=0,Zr=[],eo=0,to=null,no=1,ro="";function oo(e,t){Yr[$r++]=Jr,Yr[$r++]=Xr,Xr=e,Jr=t}function ao(e,t,n){Zr[eo++]=no,Zr[eo++]=ro,Zr[eo++]=to,to=e;var r=no;e=ro;var o=32-we(r)-1;r&=~(1<<o),n+=1;var a=32-we(t)+o;if(30<a){var i=o-o%5;a=(r&(1<<i)-1).toString(32),r>>=i,o-=i,no=1<<32-we(t)+o|n<<o|r,ro=a+e}else no=1<<a|n<<o|r,ro=e}function io(e){null!==e.return&&(oo(e,1),ao(e,1,0))}function so(e){for(;e===Xr;)Xr=Yr[--$r],Yr[$r]=null,Jr=Yr[--$r],Yr[$r]=null;for(;e===to;)to=Zr[--eo],Zr[eo]=null,ro=Zr[--eo],Zr[eo]=null,no=Zr[--eo],Zr[eo]=null}function lo(e,t){Zr[eo++]=no,Zr[eo++]=ro,Zr[eo++]=to,no=t.id,ro=t.overflow,to=e}var co=null,uo=null,ho=!1,fo=null,po=!1,mo=Error(i(519));function go(e){throw So(Qr(Error(i(418,1<arguments.length&&void 0!==arguments[1]&&arguments[1]?"text":"HTML","")),e)),mo}function vo(e){var t=e.stateNode,n=e.type,r=e.memoizedProps;switch(t[Be]=e,t[qe]=r,n){case"dialog":$u("cancel",t),$u("close",t);break;case"iframe":case"object":case"embed":$u("load",t);break;case"video":case"audio":for(n=0;n<Gu.length;n++)$u(Gu[n],t);break;case"source":$u("error",t);break;case"img":case"image":case"link":$u("error",t),$u("load",t);break;case"details":$u("toggle",t);break;case"input":$u("invalid",t),bt(t,r.value,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name,!0);break;case"select":$u("invalid",t);break;case"textarea":$u("invalid",t),kt(t,r.value,r.defaultValue,r.children)}"string"!==typeof(n=r.children)&&"number"!==typeof n&&"bigint"!==typeof n||t.textContent===""+n||!0===r.suppressHydrationWarning||cd(t.textContent,n)?(null!=r.popover&&($u("beforetoggle",t),$u("toggle",t)),null!=r.onScroll&&$u("scroll",t),null!=r.onScrollEnd&&$u("scrollend",t),null!=r.onClick&&(t.onclick=Pt),t=!0):t=!1,t||go(e,!0)}function yo(e){for(co=e.return;co;)switch(co.tag){case 5:case 31:case 13:return void(po=!1);case 27:case 3:return void(po=!0);default:co=co.return}}function bo(e){if(e!==co)return!1;if(!ho)return yo(e),ho=!0,!1;var t,n=e.tag;if((t=3!==n&&27!==n)&&((t=5===n)&&(t=!("form"!==(t=e.type)&&"button"!==t)||bd(e.type,e.memoizedProps)),t=!t),t&&uo&&go(e),yo(e),13===n){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(i(317));uo=Id(e)}else if(31===n){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(i(317));uo=Id(e)}else 27===n?(n=uo,Cd(e.type)?(e=Rd,Rd=null,uo=e):uo=n):uo=co?Od(e.stateNode.nextSibling):null;return!0}function wo(){uo=co=null,ho=!1}function xo(){var e=fo;return null!==e&&(null===Nc?Nc=e:Nc.push.apply(Nc,e),fo=null),e}function So(e){null===fo?fo=[e]:fo.push(e)}var ko=U(null),_o=null,Eo=null;function Co(e,t,n){B(ko,t._currentValue),t._currentValue=n}function Ao(e){e._currentValue=ko.current,z(ko)}function jo(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function To(e,t,n,r){var o=e.child;for(null!==o&&(o.return=e);null!==o;){var a=o.dependencies;if(null!==a){var s=o.child;a=a.firstContext;e:for(;null!==a;){var l=a;a=o;for(var c=0;c<t.length;c++)if(l.context===t[c]){a.lanes|=n,null!==(l=a.alternate)&&(l.lanes|=n),jo(a.return,n,e),r||(s=null);break e}a=l.next}}else if(18===o.tag){if(null===(s=o.return))throw Error(i(341));s.lanes|=n,null!==(a=s.alternate)&&(a.lanes|=n),jo(s,n,e),s=null}else s=o.child;if(null!==s)s.return=o;else for(s=o;null!==s;){if(s===e){s=null;break}if(null!==(o=s.sibling)){o.return=s.return,s=o;break}s=s.return}o=s}}function No(e,t,n,r){e=null;for(var o=t,a=!1;null!==o;){if(!a)if(0!==(524288&o.flags))a=!0;else if(0!==(262144&o.flags))break;if(10===o.tag){var s=o.alternate;if(null===s)throw Error(i(387));if(null!==(s=s.memoizedProps)){var l=o.type;Jn(o.pendingProps.value,s.value)||(null!==e?e.push(l):e=[l])}}else if(o===G.current){if(null===(s=o.alternate))throw Error(i(387));s.memoizedState.memoizedState!==o.memoizedState.memoizedState&&(null!==e?e.push(uh):e=[uh])}o=o.return}null!==e&&To(t,e,n,r),t.flags|=262144}function Do(e){for(e=e.firstContext;null!==e;){if(!Jn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Po(e){_o=e,Eo=null,null!==(e=e.dependencies)&&(e.firstContext=null)}function Oo(e){return Io(_o,e)}function Ro(e,t){return null===_o&&Po(e),Io(e,t)}function Io(e,t){var n=t._currentValue;if(t={context:t,memoizedValue:n,next:null},null===Eo){if(null===e)throw Error(i(308));Eo=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else Eo=Eo.next=t;return n}var Mo="undefined"!==typeof AbortController?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(t,n){e.push(n)}};this.abort=function(){t.aborted=!0,e.forEach(function(e){return e()})}},Fo=r.unstable_scheduleCallback,Lo=r.unstable_NormalPriority,Uo={$$typeof:x,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function zo(){return{controller:new Mo,data:new Map,refCount:0}}function Bo(e){e.refCount--,0===e.refCount&&Fo(Lo,function(){e.controller.abort()})}var qo=null,Vo=0,Wo=0,Ho=null;function Ko(){if(0===--Vo&&null!==qo){null!==Ho&&(Ho.status="fulfilled");var e=qo;qo=null,Wo=0,Ho=null;for(var t=0;t<e.length;t++)(0,e[t])()}}var Go=R.S;R.S=function(e,t){Oc=le(),"object"===typeof t&&null!==t&&"function"===typeof t.then&&function(e,t){if(null===qo){var n=qo=[];Vo=0,Wo=qu(),Ho={status:"pending",value:void 0,then:function(e){n.push(e)}}}Vo++,t.then(Ko,Ko)}(0,t),null!==Go&&Go(e,t)};var Qo=U(null);function Yo(){var e=Qo.current;return null!==e?e:pc.pooledCache}function $o(e,t){B(Qo,null===t?Qo.current:t.pool)}function Xo(){var e=Yo();return null===e?null:{parent:Uo._currentValue,pool:e}}var Jo=Error(i(460)),Zo=Error(i(474)),ea=Error(i(542)),ta={then:function(){}};function na(e){return"fulfilled"===(e=e.status)||"rejected"===e}function ra(e,t,n){switch(void 0===(n=e[n])?e.push(t):n!==t&&(t.then(Pt,Pt),t=n),t.status){case"fulfilled":return t.value;case"rejected":throw sa(e=t.reason),e;default:if("string"===typeof t.status)t.then(Pt,Pt);else{if(null!==(e=pc)&&100<e.shellSuspendCounter)throw Error(i(482));(e=t).status="pending",e.then(function(e){if("pending"===t.status){var n=t;n.status="fulfilled",n.value=e}},function(e){if("pending"===t.status){var n=t;n.status="rejected",n.reason=e}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw sa(e=t.reason),e}throw aa=t,Jo}}function oa(e){try{return(0,e._init)(e._payload)}catch(t){if(null!==t&&"object"===typeof t&&"function"===typeof t.then)throw aa=t,Jo;throw t}}var aa=null;function ia(){if(null===aa)throw Error(i(459));var e=aa;return aa=null,e}function sa(e){if(e===Jo||e===ea)throw Error(i(483))}var la=null,ca=0;function ua(e){var t=ca;return ca+=1,null===la&&(la=[]),ra(la,e,t)}function da(e,t){t=t.props.ref,e.ref=void 0!==t?t:null}function ha(e,t){if(t.$$typeof===p)throw Error(i(525));throw e=Object.prototype.toString.call(t),Error(i(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function fa(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e){for(var t=new Map;null!==e;)null!==e.key?t.set(e.key,e):t.set(e.index,e),e=e.sibling;return t}function o(e,t){return(e=zr(e,t)).index=0,e.sibling=null,e}function a(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=67108866,n):r:(t.flags|=67108866,n):(t.flags|=1048576,n)}function s(t){return e&&null===t.alternate&&(t.flags|=67108866),t}function l(e,t,n,r){return null===t||6!==t.tag?((t=Wr(n,e.mode,r)).return=e,t):((t=o(t,n)).return=e,t)}function c(e,t,n,r){var a=n.type;return a===v?d(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===a||"object"===typeof a&&null!==a&&a.$$typeof===C&&oa(a)===t.type)?(da(t=o(t,n.props),n),t.return=e,t):(da(t=qr(n.type,n.key,n.props,null,e.mode,r),n),t.return=e,t)}function u(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Kr(n,e.mode,r)).return=e,t):((t=o(t,n.children||[])).return=e,t)}function d(e,t,n,r,a){return null===t||7!==t.tag?((t=Vr(n,e.mode,r,a)).return=e,t):((t=o(t,n)).return=e,t)}function h(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t||"bigint"===typeof t)return(t=Wr(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case m:return da(n=qr(t.type,t.key,t.props,null,e.mode,n),t),n.return=e,n;case g:return(t=Kr(t,e.mode,n)).return=e,t;case C:return h(e,t=oa(t),n)}if(O(t)||N(t))return(t=Vr(t,e.mode,n,null)).return=e,t;if("function"===typeof t.then)return h(e,ua(t),n);if(t.$$typeof===x)return h(e,Ro(e,t),n);ha(e,t)}return null}function f(e,t,n,r){var o=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n||"bigint"===typeof n)return null!==o?null:l(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case m:return n.key===o?c(e,t,n,r):null;case g:return n.key===o?u(e,t,n,r):null;case C:return f(e,t,n=oa(n),r)}if(O(n)||N(n))return null!==o?null:d(e,t,n,r,null);if("function"===typeof n.then)return f(e,t,ua(n),r);if(n.$$typeof===x)return f(e,t,Ro(e,n),r);ha(e,n)}return null}function p(e,t,n,r,o){if("string"===typeof r&&""!==r||"number"===typeof r||"bigint"===typeof r)return l(t,e=e.get(n)||null,""+r,o);if("object"===typeof r&&null!==r){switch(r.$$typeof){case m:return c(t,e=e.get(null===r.key?n:r.key)||null,r,o);case g:return u(t,e=e.get(null===r.key?n:r.key)||null,r,o);case C:return p(e,t,n,r=oa(r),o)}if(O(r)||N(r))return d(t,e=e.get(n)||null,r,o,null);if("function"===typeof r.then)return p(e,t,n,ua(r),o);if(r.$$typeof===x)return p(e,t,n,Ro(t,r),o);ha(t,r)}return null}function y(l,c,u,d){if("object"===typeof u&&null!==u&&u.type===v&&null===u.key&&(u=u.props.children),"object"===typeof u&&null!==u){switch(u.$$typeof){case m:e:{for(var b=u.key;null!==c;){if(c.key===b){if((b=u.type)===v){if(7===c.tag){n(l,c.sibling),(d=o(c,u.props.children)).return=l,l=d;break e}}else if(c.elementType===b||"object"===typeof b&&null!==b&&b.$$typeof===C&&oa(b)===c.type){n(l,c.sibling),da(d=o(c,u.props),u),d.return=l,l=d;break e}n(l,c);break}t(l,c),c=c.sibling}u.type===v?((d=Vr(u.props.children,l.mode,d,u.key)).return=l,l=d):(da(d=qr(u.type,u.key,u.props,null,l.mode,d),u),d.return=l,l=d)}return s(l);case g:e:{for(b=u.key;null!==c;){if(c.key===b){if(4===c.tag&&c.stateNode.containerInfo===u.containerInfo&&c.stateNode.implementation===u.implementation){n(l,c.sibling),(d=o(c,u.children||[])).return=l,l=d;break e}n(l,c);break}t(l,c),c=c.sibling}(d=Kr(u,l.mode,d)).return=l,l=d}return s(l);case C:return y(l,c,u=oa(u),d)}if(O(u))return function(o,i,s,l){for(var c=null,u=null,d=i,m=i=0,g=null;null!==d&&m<s.length;m++){d.index>m?(g=d,d=null):g=d.sibling;var v=f(o,d,s[m],l);if(null===v){null===d&&(d=g);break}e&&d&&null===v.alternate&&t(o,d),i=a(v,i,m),null===u?c=v:u.sibling=v,u=v,d=g}if(m===s.length)return n(o,d),ho&&oo(o,m),c;if(null===d){for(;m<s.length;m++)null!==(d=h(o,s[m],l))&&(i=a(d,i,m),null===u?c=d:u.sibling=d,u=d);return ho&&oo(o,m),c}for(d=r(d);m<s.length;m++)null!==(g=p(d,o,m,s[m],l))&&(e&&null!==g.alternate&&d.delete(null===g.key?m:g.key),i=a(g,i,m),null===u?c=g:u.sibling=g,u=g);return e&&d.forEach(function(e){return t(o,e)}),ho&&oo(o,m),c}(l,c,u,d);if(N(u)){if("function"!==typeof(b=N(u)))throw Error(i(150));return function(o,s,l,c){if(null==l)throw Error(i(151));for(var u=null,d=null,m=s,g=s=0,v=null,y=l.next();null!==m&&!y.done;g++,y=l.next()){m.index>g?(v=m,m=null):v=m.sibling;var b=f(o,m,y.value,c);if(null===b){null===m&&(m=v);break}e&&m&&null===b.alternate&&t(o,m),s=a(b,s,g),null===d?u=b:d.sibling=b,d=b,m=v}if(y.done)return n(o,m),ho&&oo(o,g),u;if(null===m){for(;!y.done;g++,y=l.next())null!==(y=h(o,y.value,c))&&(s=a(y,s,g),null===d?u=y:d.sibling=y,d=y);return ho&&oo(o,g),u}for(m=r(m);!y.done;g++,y=l.next())null!==(y=p(m,o,g,y.value,c))&&(e&&null!==y.alternate&&m.delete(null===y.key?g:y.key),s=a(y,s,g),null===d?u=y:d.sibling=y,d=y);return e&&m.forEach(function(e){return t(o,e)}),ho&&oo(o,g),u}(l,c,u=b.call(u),d)}if("function"===typeof u.then)return y(l,c,ua(u),d);if(u.$$typeof===x)return y(l,c,Ro(l,u),d);ha(l,u)}return"string"===typeof u&&""!==u||"number"===typeof u||"bigint"===typeof u?(u=""+u,null!==c&&6===c.tag?(n(l,c.sibling),(d=o(c,u)).return=l,l=d):(n(l,c),(d=Wr(u,l.mode,d)).return=l,l=d),s(l)):n(l,c)}return function(e,t,n,r){try{ca=0;var o=y(e,t,n,r);return la=null,o}catch(i){if(i===Jo||i===ea)throw i;var a=Lr(29,i,null,e.mode);return a.lanes=r,a.return=e,a}}}var pa=fa(!0),ma=fa(!1),ga=!1;function va(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function ya(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function ba(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function wa(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&fc)){var o=r.pending;return null===o?t.next=t:(t.next=o.next,o.next=t),r.pending=t,t=Ir(e),Rr(e,null,n),t}return Dr(e,r,t,n),Ir(e)}function xa(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194048&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,Re(e,n)}}function Sa(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var o=null,a=null;if(null!==(n=n.firstBaseUpdate)){do{var i={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};null===a?o=a=i:a=a.next=i,n=n.next}while(null!==n);null===a?o=a=t:a=a.next=t}else o=a=t;return n={baseState:r.baseState,firstBaseUpdate:o,lastBaseUpdate:a,shared:r.shared,callbacks:r.callbacks},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}var ka=!1;function _a(){if(ka){if(null!==Ho)throw Ho}}function Ea(e,t,n,r){ka=!1;var o=e.updateQueue;ga=!1;var a=o.firstBaseUpdate,i=o.lastBaseUpdate,s=o.shared.pending;if(null!==s){o.shared.pending=null;var l=s,c=l.next;l.next=null,null===i?a=c:i.next=c,i=l;var u=e.alternate;null!==u&&((s=(u=u.updateQueue).lastBaseUpdate)!==i&&(null===s?u.firstBaseUpdate=c:s.next=c,u.lastBaseUpdate=l))}if(null!==a){var d=o.baseState;for(i=0,u=c=l=null,s=a;;){var h=-536870913&s.lane,p=h!==s.lane;if(p?(gc&h)===h:(r&h)===h){0!==h&&h===Wo&&(ka=!0),null!==u&&(u=u.next={lane:0,tag:s.tag,payload:s.payload,callback:null,next:null});e:{var m=e,g=s;h=t;var v=n;switch(g.tag){case 1:if("function"===typeof(m=g.payload)){d=m.call(v,d,h);break e}d=m;break e;case 3:m.flags=-65537&m.flags|128;case 0:if(null===(h="function"===typeof(m=g.payload)?m.call(v,d,h):m)||void 0===h)break e;d=f({},d,h);break e;case 2:ga=!0}}null!==(h=s.callback)&&(e.flags|=64,p&&(e.flags|=8192),null===(p=o.callbacks)?o.callbacks=[h]:p.push(h))}else p={lane:h,tag:s.tag,payload:s.payload,callback:s.callback,next:null},null===u?(c=u=p,l=d):u=u.next=p,i|=h;if(null===(s=s.next)){if(null===(s=o.shared.pending))break;s=(p=s).next,p.next=null,o.lastBaseUpdate=p,o.shared.pending=null}}null===u&&(l=d),o.baseState=l,o.firstBaseUpdate=c,o.lastBaseUpdate=u,null===a&&(o.shared.lanes=0),_c|=i,e.lanes=i,e.memoizedState=d}}function Ca(e,t){if("function"!==typeof e)throw Error(i(191,e));e.call(t)}function Aa(e,t){var n=e.callbacks;if(null!==n)for(e.callbacks=null,e=0;e<n.length;e++)Ca(n[e],t)}var ja=U(null),Ta=U(0);function Na(e,t){B(Ta,e=Sc),B(ja,t),Sc=e|t.baseLanes}function Da(){B(Ta,Sc),B(ja,ja.current)}function Pa(){Sc=Ta.current,z(ja),z(Ta)}var Oa=U(null),Ra=null;function Ia(e){var t=e.alternate;B(za,1&za.current),B(Oa,e),null===Ra&&(null===t||null!==ja.current||null!==t.memoizedState)&&(Ra=e)}function Ma(e){B(za,za.current),B(Oa,e),null===Ra&&(Ra=e)}function Fa(e){22===e.tag?(B(za,za.current),B(Oa,e),null===Ra&&(Ra=e)):La()}function La(){B(za,za.current),B(Oa,Oa.current)}function Ua(e){z(Oa),Ra===e&&(Ra=null),z(za)}var za=U(0);function Ba(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||Dd(n)||Pd(n)))return t}else if(19!==t.tag||"forwards"!==t.memoizedProps.revealOrder&&"backwards"!==t.memoizedProps.revealOrder&&"unstable_legacy-backwards"!==t.memoizedProps.revealOrder&&"together"!==t.memoizedProps.revealOrder){if(null!==t.child){t.child.return=t,t=t.child;continue}}else if(0!==(128&t.flags))return t;if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var qa=0,Va=null,Wa=null,Ha=null,Ka=!1,Ga=!1,Qa=!1,Ya=0,$a=0,Xa=null,Ja=0;function Za(){throw Error(i(321))}function ei(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Jn(e[n],t[n]))return!1;return!0}function ti(e,t,n,r,o,a){return qa=a,Va=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,R.H=null===e||null===e.memoizedState?gs:vs,Qa=!1,a=n(r,o),Qa=!1,Ga&&(a=ri(t,n,r,o)),ni(e),a}function ni(e){R.H=ms;var t=null!==Wa&&null!==Wa.next;if(qa=0,Ha=Wa=Va=null,Ka=!1,$a=0,Xa=null,t)throw Error(i(300));null===e||Os||null!==(e=e.dependencies)&&Do(e)&&(Os=!0)}function ri(e,t,n,r){Va=e;var o=0;do{if(Ga&&(Xa=null),$a=0,Ga=!1,25<=o)throw Error(i(301));if(o+=1,Ha=Wa=null,null!=e.updateQueue){var a=e.updateQueue;a.lastEffect=null,a.events=null,a.stores=null,null!=a.memoCache&&(a.memoCache.index=0)}R.H=ys,a=t(n,r)}while(Ga);return a}function oi(){var e=R.H,t=e.useState()[0];return t="function"===typeof t.then?ui(t):t,e=e.useState()[0],(null!==Wa?Wa.memoizedState:null)!==e&&(Va.flags|=1024),t}function ai(){var e=0!==Ya;return Ya=0,e}function ii(e,t,n){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~n}function si(e){if(Ka){for(e=e.memoizedState;null!==e;){var t=e.queue;null!==t&&(t.pending=null),e=e.next}Ka=!1}qa=0,Ha=Wa=Va=null,Ga=!1,$a=Ya=0,Xa=null}function li(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===Ha?Va.memoizedState=Ha=e:Ha=Ha.next=e,Ha}function ci(){if(null===Wa){var e=Va.alternate;e=null!==e?e.memoizedState:null}else e=Wa.next;var t=null===Ha?Va.memoizedState:Ha.next;if(null!==t)Ha=t,Wa=e;else{if(null===e){if(null===Va.alternate)throw Error(i(467));throw Error(i(310))}e={memoizedState:(Wa=e).memoizedState,baseState:Wa.baseState,baseQueue:Wa.baseQueue,queue:Wa.queue,next:null},null===Ha?Va.memoizedState=Ha=e:Ha=Ha.next=e}return Ha}function ui(e){var t=$a;return $a+=1,null===Xa&&(Xa=[]),e=ra(Xa,e,t),t=Va,null===(null===Ha?t.memoizedState:Ha.next)&&(t=t.alternate,R.H=null===t||null===t.memoizedState?gs:vs),e}function di(e){if(null!==e&&"object"===typeof e){if("function"===typeof e.then)return ui(e);if(e.$$typeof===x)return Oo(e)}throw Error(i(438,String(e)))}function hi(e){var t=null,n=Va.updateQueue;if(null!==n&&(t=n.memoCache),null==t){var r=Va.alternate;null!==r&&(null!==(r=r.updateQueue)&&(null!=(r=r.memoCache)&&(t={data:r.data.map(function(e){return e.slice()}),index:0})))}if(null==t&&(t={data:[],index:0}),null===n&&(n={lastEffect:null,events:null,stores:null,memoCache:null},Va.updateQueue=n),n.memoCache=t,void 0===(n=t.data[t.index]))for(n=t.data[t.index]=Array(e),r=0;r<e;r++)n[r]=j;return t.index++,n}function fi(e,t){return"function"===typeof t?t(e):t}function pi(e){return mi(ci(),Wa,e)}function mi(e,t,n){var r=e.queue;if(null===r)throw Error(i(311));r.lastRenderedReducer=n;var o=e.baseQueue,a=r.pending;if(null!==a){if(null!==o){var s=o.next;o.next=a.next,a.next=s}t.baseQueue=o=a,r.pending=null}if(a=e.baseState,null===o)e.memoizedState=a;else{var l=s=null,c=null,u=t=o.next,d=!1;do{var h=-536870913&u.lane;if(h!==u.lane?(gc&h)===h:(qa&h)===h){var f=u.revertLane;if(0===f)null!==c&&(c=c.next={lane:0,revertLane:0,gesture:null,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),h===Wo&&(d=!0);else{if((qa&f)===f){u=u.next,f===Wo&&(d=!0);continue}h={lane:0,revertLane:u.revertLane,gesture:null,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null},null===c?(l=c=h,s=a):c=c.next=h,Va.lanes|=f,_c|=f}h=u.action,Qa&&n(a,h),a=u.hasEagerState?u.eagerState:n(a,h)}else f={lane:h,revertLane:u.revertLane,gesture:u.gesture,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null},null===c?(l=c=f,s=a):c=c.next=f,Va.lanes|=h,_c|=h;u=u.next}while(null!==u&&u!==t);if(null===c?s=a:c.next=l,!Jn(a,e.memoizedState)&&(Os=!0,d&&null!==(n=Ho)))throw n;e.memoizedState=a,e.baseState=s,e.baseQueue=c,r.lastRenderedState=a}return null===o&&(r.lanes=0),[e.memoizedState,r.dispatch]}function gi(e){var t=ci(),n=t.queue;if(null===n)throw Error(i(311));n.lastRenderedReducer=e;var r=n.dispatch,o=n.pending,a=t.memoizedState;if(null!==o){n.pending=null;var s=o=o.next;do{a=e(a,s.action),s=s.next}while(s!==o);Jn(a,t.memoizedState)||(Os=!0),t.memoizedState=a,null===t.baseQueue&&(t.baseState=a),n.lastRenderedState=a}return[a,r]}function vi(e,t,n){var r=Va,o=ci(),a=ho;if(a){if(void 0===n)throw Error(i(407));n=n()}else n=t();var s=!Jn((Wa||o).memoizedState,n);if(s&&(o.memoizedState=n,Os=!0),o=o.queue,qi(wi.bind(null,r,o,e),[e]),o.getSnapshot!==t||s||null!==Ha&&1&Ha.memoizedState.tag){if(r.flags|=2048,Fi(9,{destroy:void 0},bi.bind(null,r,o,n,t),null),null===pc)throw Error(i(349));a||0!==(127&qa)||yi(r,t,n)}return n}function yi(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=Va.updateQueue)?(t={lastEffect:null,events:null,stores:null,memoCache:null},Va.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function bi(e,t,n,r){t.value=n,t.getSnapshot=r,xi(t)&&Si(e)}function wi(e,t,n){return n(function(){xi(t)&&Si(e)})}function xi(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Jn(e,n)}catch(r){return!0}}function Si(e){var t=Or(e,2);null!==t&&Qc(t,e,2)}function ki(e){var t=li();if("function"===typeof e){var n=e;if(e=n(),Qa){be(!0);try{n()}finally{be(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:fi,lastRenderedState:e},t}function _i(e,t,n,r){return e.baseState=n,mi(e,Wa,"function"===typeof r?r:fi)}function Ei(e,t,n,r,o){if(hs(e))throw Error(i(485));if(null!==(e=t.action)){var a={payload:o,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(e){a.listeners.push(e)}};null!==R.T?n(!0):a.isTransition=!1,r(a),null===(n=t.pending)?(a.next=t.pending=a,Ci(t,a)):(a.next=n.next,t.pending=n.next=a)}}function Ci(e,t){var n=t.action,r=t.payload,o=e.state;if(t.isTransition){var a=R.T,i={};R.T=i;try{var s=n(o,r),l=R.S;null!==l&&l(i,s),Ai(e,t,s)}catch(c){Ti(e,t,c)}finally{null!==a&&null!==i.types&&(a.types=i.types),R.T=a}}else try{Ai(e,t,a=n(o,r))}catch(u){Ti(e,t,u)}}function Ai(e,t,n){null!==n&&"object"===typeof n&&"function"===typeof n.then?n.then(function(n){ji(e,t,n)},function(n){return Ti(e,t,n)}):ji(e,t,n)}function ji(e,t,n){t.status="fulfilled",t.value=n,Ni(t),e.state=n,null!==(t=e.pending)&&((n=t.next)===t?e.pending=null:(n=n.next,t.next=n,Ci(e,n)))}function Ti(e,t,n){var r=e.pending;if(e.pending=null,null!==r){r=r.next;do{t.status="rejected",t.reason=n,Ni(t),t=t.next}while(t!==r)}e.action=null}function Ni(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function Di(e,t){return t}function Pi(e,t){if(ho){var n=pc.formState;if(null!==n){e:{var r=Va;if(ho){if(uo){t:{for(var o=uo,a=po;8!==o.nodeType;){if(!a){o=null;break t}if(null===(o=Od(o.nextSibling))){o=null;break t}}o="F!"===(a=o.data)||"F"===a?o:null}if(o){uo=Od(o.nextSibling),r="F!"===o.data;break e}}go(r)}r=!1}r&&(t=n[0])}}return(n=li()).memoizedState=n.baseState=t,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Di,lastRenderedState:t},n.queue=r,n=cs.bind(null,Va,r),r.dispatch=n,r=ki(!1),a=ds.bind(null,Va,!1,r.queue),o={state:t,dispatch:null,action:e,pending:null},(r=li()).queue=o,n=Ei.bind(null,Va,o,a,n),o.dispatch=n,r.memoizedState=e,[t,n,!1]}function Oi(e){return Ri(ci(),Wa,e)}function Ri(e,t,n){if(t=mi(e,t,Di)[0],e=pi(fi)[0],"object"===typeof t&&null!==t&&"function"===typeof t.then)try{var r=ui(t)}catch(i){if(i===Jo)throw ea;throw i}else r=t;var o=(t=ci()).queue,a=o.dispatch;return n!==t.memoizedState&&(Va.flags|=2048,Fi(9,{destroy:void 0},Ii.bind(null,o,n),null)),[r,a,e]}function Ii(e,t){e.action=t}function Mi(e){var t=ci(),n=Wa;if(null!==n)return Ri(t,n,e);ci(),t=t.memoizedState;var r=(n=ci()).queue.dispatch;return n.memoizedState=e,[t,r,!1]}function Fi(e,t,n,r){return e={tag:e,create:n,deps:r,inst:t,next:null},null===(t=Va.updateQueue)&&(t={lastEffect:null,events:null,stores:null,memoCache:null},Va.updateQueue=t),null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Li(){return ci().memoizedState}function Ui(e,t,n,r){var o=li();Va.flags|=e,o.memoizedState=Fi(1|t,{destroy:void 0},n,void 0===r?null:r)}function zi(e,t,n,r){var o=ci();r=void 0===r?null:r;var a=o.memoizedState.inst;null!==Wa&&null!==r&&ei(r,Wa.memoizedState.deps)?o.memoizedState=Fi(t,a,n,r):(Va.flags|=e,o.memoizedState=Fi(1|t,a,n,r))}function Bi(e,t){Ui(8390656,8,e,t)}function qi(e,t){zi(2048,8,e,t)}function Vi(e){var t=ci().memoizedState;return function(e){Va.flags|=4;var t=Va.updateQueue;if(null===t)t={lastEffect:null,events:null,stores:null,memoCache:null},Va.updateQueue=t,t.events=[e];else{var n=t.events;null===n?t.events=[e]:n.push(e)}}({ref:t,nextImpl:e}),function(){if(0!==(2&fc))throw Error(i(440));return t.impl.apply(void 0,arguments)}}function Wi(e,t){return zi(4,2,e,t)}function Hi(e,t){return zi(4,4,e,t)}function Ki(e,t){if("function"===typeof t){e=e();var n=t(e);return function(){"function"===typeof n?n():t(null)}}if(null!==t&&void 0!==t)return e=e(),t.current=e,function(){t.current=null}}function Gi(e,t,n){n=null!==n&&void 0!==n?n.concat([e]):null,zi(4,4,Ki.bind(null,t,e),n)}function Qi(){}function Yi(e,t){var n=ci();t=void 0===t?null:t;var r=n.memoizedState;return null!==t&&ei(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function $i(e,t){var n=ci();t=void 0===t?null:t;var r=n.memoizedState;if(null!==t&&ei(t,r[1]))return r[0];if(r=e(),Qa){be(!0);try{e()}finally{be(!1)}}return n.memoizedState=[r,t],r}function Xi(e,t,n){return void 0===n||0!==(1073741824&qa)&&0===(261930&gc)?e.memoizedState=t:(e.memoizedState=n,e=Gc(),Va.lanes|=e,_c|=e,n)}function Ji(e,t,n,r){return Jn(n,t)?n:null!==ja.current?(e=Xi(e,n,r),Jn(e,t)||(Os=!0),e):0===(42&qa)||0!==(1073741824&qa)&&0===(261930&gc)?(Os=!0,e.memoizedState=n):(e=Gc(),Va.lanes|=e,_c|=e,t)}function Zi(e,t,n,r,o){var a=I.p;I.p=0!==a&&8>a?a:8;var i=R.T,s={};R.T=s,ds(e,!1,t,n);try{var l=o(),c=R.S;if(null!==c&&c(s,l),null!==l&&"object"===typeof l&&"function"===typeof l.then)us(e,t,function(e,t){var n=[],r={status:"pending",value:null,reason:null,then:function(e){n.push(e)}};return e.then(function(){r.status="fulfilled",r.value=t;for(var e=0;e<n.length;e++)(0,n[e])(t)},function(e){for(r.status="rejected",r.reason=e,e=0;e<n.length;e++)(0,n[e])(void 0)}),r}(l,r),Kc());else us(e,t,r,Kc())}catch(u){us(e,t,{then:function(){},status:"rejected",reason:u},Kc())}finally{I.p=a,null!==i&&null!==s.types&&(i.types=s.types),R.T=i}}function es(){}function ts(e,t,n,r){if(5!==e.tag)throw Error(i(476));var o=ns(e).queue;Zi(e,o,t,M,null===n?es:function(){return rs(e),n(r)})}function ns(e){var t=e.memoizedState;if(null!==t)return t;var n={};return(t={memoizedState:M,baseState:M,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:fi,lastRenderedState:M},next:null}).next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:fi,lastRenderedState:n},next:null},e.memoizedState=t,null!==(e=e.alternate)&&(e.memoizedState=t),t}function rs(e){var t=ns(e);null===t.next&&(t=e.alternate.memoizedState),us(e,t.next.queue,{},Kc())}function os(){return Oo(uh)}function as(){return ci().memoizedState}function is(){return ci().memoizedState}function ss(e){for(var t=e.return;null!==t;){switch(t.tag){case 24:case 3:var n=Kc(),r=wa(t,e=ba(n),n);return null!==r&&(Qc(r,t,n),xa(r,t,n)),t={cache:zo()},void(e.payload=t)}t=t.return}}function ls(e,t,n){var r=Kc();n={lane:r,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null},hs(e)?fs(t,n):null!==(n=Pr(e,t,n,r))&&(Qc(n,e,r),ps(n,t,r))}function cs(e,t,n){us(e,t,n,Kc())}function us(e,t,n,r){var o={lane:r,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null};if(hs(e))fs(t,o);else{var a=e.alternate;if(0===e.lanes&&(null===a||0===a.lanes)&&null!==(a=t.lastRenderedReducer))try{var i=t.lastRenderedState,s=a(i,n);if(o.hasEagerState=!0,o.eagerState=s,Jn(s,i))return Dr(e,t,o,0),null===pc&&Nr(),!1}catch(l){}if(null!==(n=Pr(e,t,o,r)))return Qc(n,e,r),ps(n,t,r),!0}return!1}function ds(e,t,n,r){if(r={lane:2,revertLane:qu(),gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null},hs(e)){if(t)throw Error(i(479))}else null!==(t=Pr(e,n,r,2))&&Qc(t,e,2)}function hs(e){var t=e.alternate;return e===Va||null!==t&&t===Va}function fs(e,t){Ga=Ka=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function ps(e,t,n){if(0!==(4194048&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,Re(e,n)}}var ms={readContext:Oo,use:di,useCallback:Za,useContext:Za,useEffect:Za,useImperativeHandle:Za,useLayoutEffect:Za,useInsertionEffect:Za,useMemo:Za,useReducer:Za,useRef:Za,useState:Za,useDebugValue:Za,useDeferredValue:Za,useTransition:Za,useSyncExternalStore:Za,useId:Za,useHostTransitionStatus:Za,useFormState:Za,useActionState:Za,useOptimistic:Za,useMemoCache:Za,useCacheRefresh:Za};ms.useEffectEvent=Za;var gs={readContext:Oo,use:di,useCallback:function(e,t){return li().memoizedState=[e,void 0===t?null:t],e},useContext:Oo,useEffect:Bi,useImperativeHandle:function(e,t,n){n=null!==n&&void 0!==n?n.concat([e]):null,Ui(4194308,4,Ki.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Ui(4194308,4,e,t)},useInsertionEffect:function(e,t){Ui(4,2,e,t)},useMemo:function(e,t){var n=li();t=void 0===t?null:t;var r=e();if(Qa){be(!0);try{e()}finally{be(!1)}}return n.memoizedState=[r,t],r},useReducer:function(e,t,n){var r=li();if(void 0!==n){var o=n(t);if(Qa){be(!0);try{n(t)}finally{be(!1)}}}else o=t;return r.memoizedState=r.baseState=o,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:o},r.queue=e,e=e.dispatch=ls.bind(null,Va,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},li().memoizedState=e},useState:function(e){var t=(e=ki(e)).queue,n=cs.bind(null,Va,t);return t.dispatch=n,[e.memoizedState,n]},useDebugValue:Qi,useDeferredValue:function(e,t){return Xi(li(),e,t)},useTransition:function(){var e=ki(!1);return e=Zi.bind(null,Va,e.queue,!0,!1),li().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,n){var r=Va,o=li();if(ho){if(void 0===n)throw Error(i(407));n=n()}else{if(n=t(),null===pc)throw Error(i(349));0!==(127&gc)||yi(r,t,n)}o.memoizedState=n;var a={value:n,getSnapshot:t};return o.queue=a,Bi(wi.bind(null,r,a,e),[e]),r.flags|=2048,Fi(9,{destroy:void 0},bi.bind(null,r,a,n,t),null),n},useId:function(){var e=li(),t=pc.identifierPrefix;if(ho){var n=ro;t="_"+t+"R_"+(n=(no&~(1<<32-we(no)-1)).toString(32)+n),0<(n=Ya++)&&(t+="H"+n.toString(32)),t+="_"}else t="_"+t+"r_"+(n=Ja++).toString(32)+"_";return e.memoizedState=t},useHostTransitionStatus:os,useFormState:Pi,useActionState:Pi,useOptimistic:function(e){var t=li();t.memoizedState=t.baseState=e;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=n,t=ds.bind(null,Va,!0,n),n.dispatch=t,[e,t]},useMemoCache:hi,useCacheRefresh:function(){return li().memoizedState=ss.bind(null,Va)},useEffectEvent:function(e){var t=li(),n={impl:e};return t.memoizedState=n,function(){if(0!==(2&fc))throw Error(i(440));return n.impl.apply(void 0,arguments)}}},vs={readContext:Oo,use:di,useCallback:Yi,useContext:Oo,useEffect:qi,useImperativeHandle:Gi,useInsertionEffect:Wi,useLayoutEffect:Hi,useMemo:$i,useReducer:pi,useRef:Li,useState:function(){return pi(fi)},useDebugValue:Qi,useDeferredValue:function(e,t){return Ji(ci(),Wa.memoizedState,e,t)},useTransition:function(){var e=pi(fi)[0],t=ci().memoizedState;return["boolean"===typeof e?e:ui(e),t]},useSyncExternalStore:vi,useId:as,useHostTransitionStatus:os,useFormState:Oi,useActionState:Oi,useOptimistic:function(e,t){return _i(ci(),0,e,t)},useMemoCache:hi,useCacheRefresh:is};vs.useEffectEvent=Vi;var ys={readContext:Oo,use:di,useCallback:Yi,useContext:Oo,useEffect:qi,useImperativeHandle:Gi,useInsertionEffect:Wi,useLayoutEffect:Hi,useMemo:$i,useReducer:gi,useRef:Li,useState:function(){return gi(fi)},useDebugValue:Qi,useDeferredValue:function(e,t){var n=ci();return null===Wa?Xi(n,e,t):Ji(n,Wa.memoizedState,e,t)},useTransition:function(){var e=gi(fi)[0],t=ci().memoizedState;return["boolean"===typeof e?e:ui(e),t]},useSyncExternalStore:vi,useId:as,useHostTransitionStatus:os,useFormState:Mi,useActionState:Mi,useOptimistic:function(e,t){var n=ci();return null!==Wa?_i(n,0,e,t):(n.baseState=e,[e,n.queue.dispatch])},useMemoCache:hi,useCacheRefresh:is};function bs(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:f({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}ys.useEffectEvent=Vi;var ws={enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Kc(),o=ba(r);o.payload=t,void 0!==n&&null!==n&&(o.callback=n),null!==(t=wa(e,o,r))&&(Qc(t,e,r),xa(t,e,r))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Kc(),o=ba(r);o.tag=1,o.payload=t,void 0!==n&&null!==n&&(o.callback=n),null!==(t=wa(e,o,r))&&(Qc(t,e,r),xa(t,e,r))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Kc(),r=ba(n);r.tag=2,void 0!==t&&null!==t&&(r.callback=t),null!==(t=wa(e,r,n))&&(Qc(t,e,n),xa(t,e,n))}};function xs(e,t,n,r,o,a,i){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,a,i):!t.prototype||!t.prototype.isPureReactComponent||(!Zn(n,r)||!Zn(o,a))}function Ss(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&ws.enqueueReplaceState(t,t.state,null)}function ks(e,t){var n=t;if("ref"in t)for(var r in n={},t)"ref"!==r&&(n[r]=t[r]);if(e=e.defaultProps)for(var o in n===t&&(n=f({},n)),e)void 0===n[o]&&(n[o]=e[o]);return n}function _s(e){Cr(e)}function Es(e){console.error(e)}function Cs(e){Cr(e)}function As(e,t){try{(0,e.onUncaughtError)(t.value,{componentStack:t.stack})}catch(n){setTimeout(function(){throw n})}}function js(e,t,n){try{(0,e.onCaughtError)(n.value,{componentStack:n.stack,errorBoundary:1===t.tag?t.stateNode:null})}catch(r){setTimeout(function(){throw r})}}function Ts(e,t,n){return(n=ba(n)).tag=3,n.payload={element:null},n.callback=function(){As(e,t)},n}function Ns(e){return(e=ba(e)).tag=3,e}function Ds(e,t,n,r){var o=n.type.getDerivedStateFromError;if("function"===typeof o){var a=r.value;e.payload=function(){return o(a)},e.callback=function(){js(t,n,r)}}var i=n.stateNode;null!==i&&"function"===typeof i.componentDidCatch&&(e.callback=function(){js(t,n,r),"function"!==typeof o&&(null===Mc?Mc=new Set([this]):Mc.add(this));var e=r.stack;this.componentDidCatch(r.value,{componentStack:null!==e?e:""})})}var Ps=Error(i(461)),Os=!1;function Rs(e,t,n,r){t.child=null===e?ma(t,null,n,r):pa(t,e.child,n,r)}function Is(e,t,n,r,o){n=n.render;var a=t.ref;if("ref"in r){var i={};for(var s in r)"ref"!==s&&(i[s]=r[s])}else i=r;return Po(t),r=ti(e,t,n,i,a,o),s=ai(),null===e||Os?(ho&&s&&io(t),t.flags|=1,Rs(e,t,r,o),t.child):(ii(e,t,o),ol(e,t,o))}function Ms(e,t,n,r,o){if(null===e){var a=n.type;return"function"!==typeof a||Ur(a)||void 0!==a.defaultProps||null!==n.compare?((e=qr(n.type,null,r,t,t.mode,o)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=a,Fs(e,t,a,r,o))}if(a=e.child,!al(e,o)){var i=a.memoizedProps;if((n=null!==(n=n.compare)?n:Zn)(i,r)&&e.ref===t.ref)return ol(e,t,o)}return t.flags|=1,(e=zr(a,r)).ref=t.ref,e.return=t,t.child=e}function Fs(e,t,n,r,o){if(null!==e){var a=e.memoizedProps;if(Zn(a,r)&&e.ref===t.ref){if(Os=!1,t.pendingProps=r=a,!al(e,o))return t.lanes=e.lanes,ol(e,t,o);0!==(131072&e.flags)&&(Os=!0)}}return Ws(e,t,n,r,o)}function Ls(e,t,n,r){var o=r.children,a=null!==e?e.memoizedState:null;if(null===e&&null===t.stateNode&&(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),"hidden"===r.mode){if(0!==(128&t.flags)){if(a=null!==a?a.baseLanes|n:n,null!==e){for(r=t.child=e.child,o=0;null!==r;)o=o|r.lanes|r.childLanes,r=r.sibling;r=o&~a}else r=0,t.child=null;return zs(e,t,a,n,r)}if(0===(536870912&n))return r=t.lanes=536870912,zs(e,t,null!==a?a.baseLanes|n:n,n,r);t.memoizedState={baseLanes:0,cachePool:null},null!==e&&$o(0,null!==a?a.cachePool:null),null!==a?Na(t,a):Da(),Fa(t)}else null!==a?($o(0,a.cachePool),Na(t,a),La(),t.memoizedState=null):(null!==e&&$o(0,null),Da(),La());return Rs(e,t,o,n),t.child}function Us(e,t){return null!==e&&22===e.tag||null!==t.stateNode||(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),t.sibling}function zs(e,t,n,r,o){var a=Yo();return a=null===a?null:{parent:Uo._currentValue,pool:a},t.memoizedState={baseLanes:n,cachePool:a},null!==e&&$o(0,null),Da(),Fa(t),null!==e&&No(e,t,r,!0),t.childLanes=o,null}function Bs(e,t){return(t=Zs({mode:t.mode,children:t.children},e.mode)).ref=e.ref,e.child=t,t.return=e,t}function qs(e,t,n){return pa(t,e.child,null,n),(e=Bs(t,t.pendingProps)).flags|=2,Ua(t),t.memoizedState=null,e}function Vs(e,t){var n=t.ref;if(null===n)null!==e&&null!==e.ref&&(t.flags|=4194816);else{if("function"!==typeof n&&"object"!==typeof n)throw Error(i(284));null!==e&&e.ref===n||(t.flags|=4194816)}}function Ws(e,t,n,r,o){return Po(t),n=ti(e,t,n,r,void 0,o),r=ai(),null===e||Os?(ho&&r&&io(t),t.flags|=1,Rs(e,t,n,o),t.child):(ii(e,t,o),ol(e,t,o))}function Hs(e,t,n,r,o,a){return Po(t),t.updateQueue=null,n=ri(t,r,n,o),ni(e),r=ai(),null===e||Os?(ho&&r&&io(t),t.flags|=1,Rs(e,t,n,a),t.child):(ii(e,t,a),ol(e,t,a))}function Ks(e,t,n,r,o){if(Po(t),null===t.stateNode){var a=Mr,i=n.contextType;"object"===typeof i&&null!==i&&(a=Oo(i)),a=new n(r,a),t.memoizedState=null!==a.state&&void 0!==a.state?a.state:null,a.updater=ws,t.stateNode=a,a._reactInternals=t,(a=t.stateNode).props=r,a.state=t.memoizedState,a.refs={},va(t),i=n.contextType,a.context="object"===typeof i&&null!==i?Oo(i):Mr,a.state=t.memoizedState,"function"===typeof(i=n.getDerivedStateFromProps)&&(bs(t,n,i,r),a.state=t.memoizedState),"function"===typeof n.getDerivedStateFromProps||"function"===typeof a.getSnapshotBeforeUpdate||"function"!==typeof a.UNSAFE_componentWillMount&&"function"!==typeof a.componentWillMount||(i=a.state,"function"===typeof a.componentWillMount&&a.componentWillMount(),"function"===typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount(),i!==a.state&&ws.enqueueReplaceState(a,a.state,null),Ea(t,r,a,o),_a(),a.state=t.memoizedState),"function"===typeof a.componentDidMount&&(t.flags|=4194308),r=!0}else if(null===e){a=t.stateNode;var s=t.memoizedProps,l=ks(n,s);a.props=l;var c=a.context,u=n.contextType;i=Mr,"object"===typeof u&&null!==u&&(i=Oo(u));var d=n.getDerivedStateFromProps;u="function"===typeof d||"function"===typeof a.getSnapshotBeforeUpdate,s=t.pendingProps!==s,u||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(s||c!==i)&&Ss(t,a,r,i),ga=!1;var h=t.memoizedState;a.state=h,Ea(t,r,a,o),_a(),c=t.memoizedState,s||h!==c||ga?("function"===typeof d&&(bs(t,n,d,r),c=t.memoizedState),(l=ga||xs(t,n,l,r,h,c,i))?(u||"function"!==typeof a.UNSAFE_componentWillMount&&"function"!==typeof a.componentWillMount||("function"===typeof a.componentWillMount&&a.componentWillMount(),"function"===typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount()),"function"===typeof a.componentDidMount&&(t.flags|=4194308)):("function"===typeof a.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=c),a.props=r,a.state=c,a.context=i,r=l):("function"===typeof a.componentDidMount&&(t.flags|=4194308),r=!1)}else{a=t.stateNode,ya(e,t),u=ks(n,i=t.memoizedProps),a.props=u,d=t.pendingProps,h=a.context,c=n.contextType,l=Mr,"object"===typeof c&&null!==c&&(l=Oo(c)),(c="function"===typeof(s=n.getDerivedStateFromProps)||"function"===typeof a.getSnapshotBeforeUpdate)||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(i!==d||h!==l)&&Ss(t,a,r,l),ga=!1,h=t.memoizedState,a.state=h,Ea(t,r,a,o),_a();var f=t.memoizedState;i!==d||h!==f||ga||null!==e&&null!==e.dependencies&&Do(e.dependencies)?("function"===typeof s&&(bs(t,n,s,r),f=t.memoizedState),(u=ga||xs(t,n,u,r,h,f,l)||null!==e&&null!==e.dependencies&&Do(e.dependencies))?(c||"function"!==typeof a.UNSAFE_componentWillUpdate&&"function"!==typeof a.componentWillUpdate||("function"===typeof a.componentWillUpdate&&a.componentWillUpdate(r,f,l),"function"===typeof a.UNSAFE_componentWillUpdate&&a.UNSAFE_componentWillUpdate(r,f,l)),"function"===typeof a.componentDidUpdate&&(t.flags|=4),"function"===typeof a.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof a.componentDidUpdate||i===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof a.getSnapshotBeforeUpdate||i===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=f),a.props=r,a.state=f,a.context=l,r=u):("function"!==typeof a.componentDidUpdate||i===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof a.getSnapshotBeforeUpdate||i===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return a=r,Vs(e,t),r=0!==(128&t.flags),a||r?(a=t.stateNode,n=r&&"function"!==typeof n.getDerivedStateFromError?null:a.render(),t.flags|=1,null!==e&&r?(t.child=pa(t,e.child,null,o),t.child=pa(t,null,n,o)):Rs(e,t,n,o),t.memoizedState=a.state,e=t.child):e=ol(e,t,o),e}function Gs(e,t,n,r){return wo(),t.flags|=256,Rs(e,t,n,r),t.child}var Qs={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Ys(e){return{baseLanes:e,cachePool:Xo()}}function $s(e,t,n){return e=null!==e?e.childLanes&~n:0,t&&(e|=Ac),e}function Xs(e,t,n){var r,o=t.pendingProps,a=!1,s=0!==(128&t.flags);if((r=s)||(r=(null===e||null!==e.memoizedState)&&0!==(2&za.current)),r&&(a=!0,t.flags&=-129),r=0!==(32&t.flags),t.flags&=-33,null===e){if(ho){if(a?Ia(t):La(),(e=uo)?null!==(e=null!==(e=Nd(e,po))&&"&"!==e.data?e:null)&&(t.memoizedState={dehydrated:e,treeContext:null!==to?{id:no,overflow:ro}:null,retryLane:536870912,hydrationErrors:null},(n=Hr(e)).return=t,t.child=n,co=t,uo=null):e=null,null===e)throw go(t);return Pd(e)?t.lanes=32:t.lanes=536870912,null}var l=o.children;return o=o.fallback,a?(La(),l=Zs({mode:"hidden",children:l},a=t.mode),o=Vr(o,a,n,null),l.return=t,o.return=t,l.sibling=o,t.child=l,(o=t.child).memoizedState=Ys(n),o.childLanes=$s(e,r,n),t.memoizedState=Qs,Us(null,o)):(Ia(t),Js(t,l))}var c=e.memoizedState;if(null!==c&&null!==(l=c.dehydrated)){if(s)256&t.flags?(Ia(t),t.flags&=-257,t=el(e,t,n)):null!==t.memoizedState?(La(),t.child=e.child,t.flags|=128,t=null):(La(),l=o.fallback,a=t.mode,o=Zs({mode:"visible",children:o.children},a),(l=Vr(l,a,n,null)).flags|=2,o.return=t,l.return=t,o.sibling=l,t.child=o,pa(t,e.child,null,n),(o=t.child).memoizedState=Ys(n),o.childLanes=$s(e,r,n),t.memoizedState=Qs,t=Us(null,o));else if(Ia(t),Pd(l)){if(r=l.nextSibling&&l.nextSibling.dataset)var u=r.dgst;r=u,(o=Error(i(419))).stack="",o.digest=r,So({value:o,source:null,stack:null}),t=el(e,t,n)}else if(Os||No(e,t,n,!1),r=0!==(n&e.childLanes),Os||r){if(null!==(r=pc)&&(0!==(o=Ie(r,n))&&o!==c.retryLane))throw c.retryLane=o,Or(e,o),Qc(r,e,o),Ps;Dd(l)||iu(),t=el(e,t,n)}else Dd(l)?(t.flags|=192,t.child=e.child,t=null):(e=c.treeContext,uo=Od(l.nextSibling),co=t,ho=!0,fo=null,po=!1,null!==e&&lo(t,e),(t=Js(t,o.children)).flags|=4096);return t}return a?(La(),l=o.fallback,a=t.mode,u=(c=e.child).sibling,(o=zr(c,{mode:"hidden",children:o.children})).subtreeFlags=65011712&c.subtreeFlags,null!==u?l=zr(u,l):(l=Vr(l,a,n,null)).flags|=2,l.return=t,o.return=t,o.sibling=l,t.child=o,Us(null,o),o=t.child,null===(l=e.child.memoizedState)?l=Ys(n):(null!==(a=l.cachePool)?(c=Uo._currentValue,a=a.parent!==c?{parent:c,pool:c}:a):a=Xo(),l={baseLanes:l.baseLanes|n,cachePool:a}),o.memoizedState=l,o.childLanes=$s(e,r,n),t.memoizedState=Qs,Us(e.child,o)):(Ia(t),e=(n=e.child).sibling,(n=zr(n,{mode:"visible",children:o.children})).return=t,n.sibling=null,null!==e&&(null===(r=t.deletions)?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n)}function Js(e,t){return(t=Zs({mode:"visible",children:t},e.mode)).return=e,e.child=t}function Zs(e,t){return(e=Lr(22,e,null,t)).lanes=0,e}function el(e,t,n){return pa(t,e.child,null,n),(e=Js(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function tl(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),jo(e.return,t,n)}function nl(e,t,n,r,o,a){var i=e.memoizedState;null===i?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:o,treeForkCount:a}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=o,i.treeForkCount=a)}function rl(e,t,n){var r=t.pendingProps,o=r.revealOrder,a=r.tail;r=r.children;var i=za.current,s=0!==(2&i);if(s?(i=1&i|2,t.flags|=128):i&=1,B(za,i),Rs(e,t,r,n),r=ho?Jr:0,!s&&null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&tl(e,n,t);else if(19===e.tag)tl(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(o){case"forwards":for(n=t.child,o=null;null!==n;)null!==(e=n.alternate)&&null===Ba(e)&&(o=n),n=n.sibling;null===(n=o)?(o=t.child,t.child=null):(o=n.sibling,n.sibling=null),nl(t,!1,o,n,a,r);break;case"backwards":case"unstable_legacy-backwards":for(n=null,o=t.child,t.child=null;null!==o;){if(null!==(e=o.alternate)&&null===Ba(e)){t.child=o;break}e=o.sibling,o.sibling=n,n=o,o=e}nl(t,!0,n,null,a,r);break;case"together":nl(t,!1,null,null,void 0,r);break;default:t.memoizedState=null}return t.child}function ol(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),_c|=t.lanes,0===(n&t.childLanes)){if(null===e)return null;if(No(e,t,n,!1),0===(n&t.childLanes))return null}if(null!==e&&t.child!==e.child)throw Error(i(153));if(null!==t.child){for(n=zr(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=zr(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function al(e,t){return 0!==(e.lanes&t)||!(null===(e=e.dependencies)||!Do(e))}function il(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps)Os=!0;else{if(!al(e,n)&&0===(128&t.flags))return Os=!1,function(e,t,n){switch(t.tag){case 3:Q(t,t.stateNode.containerInfo),Co(0,Uo,e.memoizedState.cache),wo();break;case 27:case 5:$(t);break;case 4:Q(t,t.stateNode.containerInfo);break;case 10:Co(0,t.type,t.memoizedProps.value);break;case 31:if(null!==t.memoizedState)return t.flags|=128,Ma(t),null;break;case 13:var r=t.memoizedState;if(null!==r)return null!==r.dehydrated?(Ia(t),t.flags|=128,null):0!==(n&t.child.childLanes)?Xs(e,t,n):(Ia(t),null!==(e=ol(e,t,n))?e.sibling:null);Ia(t);break;case 19:var o=0!==(128&e.flags);if((r=0!==(n&t.childLanes))||(No(e,t,n,!1),r=0!==(n&t.childLanes)),o){if(r)return rl(e,t,n);t.flags|=128}if(null!==(o=t.memoizedState)&&(o.rendering=null,o.tail=null,o.lastEffect=null),B(za,za.current),r)break;return null;case 22:return t.lanes=0,Ls(e,t,n,t.pendingProps);case 24:Co(0,Uo,e.memoizedState.cache)}return ol(e,t,n)}(e,t,n);Os=0!==(131072&e.flags)}else Os=!1,ho&&0!==(1048576&t.flags)&&ao(t,Jr,t.index);switch(t.lanes=0,t.tag){case 16:e:{var r=t.pendingProps;if(e=oa(t.elementType),t.type=e,"function"!==typeof e){if(void 0!==e&&null!==e){var o=e.$$typeof;if(o===S){t.tag=11,t=Is(null,t,e,r,n);break e}if(o===E){t.tag=14,t=Ms(null,t,e,r,n);break e}}throw t=P(e)||e,Error(i(306,t,""))}Ur(e)?(r=ks(e,r),t.tag=1,t=Ks(null,t,e,r,n)):(t.tag=0,t=Ws(null,t,e,r,n))}return t;case 0:return Ws(e,t,t.type,t.pendingProps,n);case 1:return Ks(e,t,r=t.type,o=ks(r,t.pendingProps),n);case 3:e:{if(Q(t,t.stateNode.containerInfo),null===e)throw Error(i(387));r=t.pendingProps;var a=t.memoizedState;o=a.element,ya(e,t),Ea(t,r,null,n);var s=t.memoizedState;if(r=s.cache,Co(0,Uo,r),r!==a.cache&&To(t,[Uo],n,!0),_a(),r=s.element,a.isDehydrated){if(a={element:r,isDehydrated:!1,cache:s.cache},t.updateQueue.baseState=a,t.memoizedState=a,256&t.flags){t=Gs(e,t,r,n);break e}if(r!==o){So(o=Qr(Error(i(424)),t)),t=Gs(e,t,r,n);break e}if(9===(e=t.stateNode.containerInfo).nodeType)e=e.body;else e="HTML"===e.nodeName?e.ownerDocument.body:e;for(uo=Od(e.firstChild),co=t,ho=!0,fo=null,po=!0,n=ma(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(wo(),r===o){t=ol(e,t,n);break e}Rs(e,t,r,n)}t=t.child}return t;case 26:return Vs(e,t),null===e?(n=Hd(t.type,null,t.pendingProps,null))?t.memoizedState=n:ho||(n=t.type,e=t.pendingProps,(r=gd(K.current).createElement(n))[Be]=t,r[qe]=e,hd(r,n,e),et(r),t.stateNode=r):t.memoizedState=Hd(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return $(t),null===e&&ho&&(r=t.stateNode=Fd(t.type,t.pendingProps,K.current),co=t,po=!0,o=uo,Cd(t.type)?(Rd=o,uo=Od(r.firstChild)):uo=o),Rs(e,t,t.pendingProps.children,n),Vs(e,t),null===e&&(t.flags|=4194304),t.child;case 5:return null===e&&ho&&((o=r=uo)&&(null!==(r=function(e,t,n,r){for(;1===e.nodeType;){var o=n;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!r&&("INPUT"!==e.nodeName||"hidden"!==e.type))break}else if(r){if(!e[Qe])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if("stylesheet"===(a=e.getAttribute("rel"))&&e.hasAttribute("data-precedence"))break;if(a!==o.rel||e.getAttribute("href")!==(null==o.href||""===o.href?null:o.href)||e.getAttribute("crossorigin")!==(null==o.crossOrigin?null:o.crossOrigin)||e.getAttribute("title")!==(null==o.title?null:o.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(((a=e.getAttribute("src"))!==(null==o.src?null:o.src)||e.getAttribute("type")!==(null==o.type?null:o.type)||e.getAttribute("crossorigin")!==(null==o.crossOrigin?null:o.crossOrigin))&&a&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else{if("input"!==t||"hidden"!==e.type)return e;var a=null==o.name?null:""+o.name;if("hidden"===o.type&&e.getAttribute("name")===a)return e}if(null===(e=Od(e.nextSibling)))break}return null}(r,t.type,t.pendingProps,po))?(t.stateNode=r,co=t,uo=Od(r.firstChild),po=!1,o=!0):o=!1),o||go(t)),$(t),o=t.type,a=t.pendingProps,s=null!==e?e.memoizedProps:null,r=a.children,bd(o,a)?r=null:null!==s&&bd(o,s)&&(t.flags|=32),null!==t.memoizedState&&(o=ti(e,t,oi,null,null,n),uh._currentValue=o),Vs(e,t),Rs(e,t,r,n),t.child;case 6:return null===e&&ho&&((e=n=uo)&&(null!==(n=function(e,t,n){if(""===t)return null;for(;3!==e.nodeType;){if((1!==e.nodeType||"INPUT"!==e.nodeName||"hidden"!==e.type)&&!n)return null;if(null===(e=Od(e.nextSibling)))return null}return e}(n,t.pendingProps,po))?(t.stateNode=n,co=t,uo=null,e=!0):e=!1),e||go(t)),null;case 13:return Xs(e,t,n);case 4:return Q(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=pa(t,null,r,n):Rs(e,t,r,n),t.child;case 11:return Is(e,t,t.type,t.pendingProps,n);case 7:return Rs(e,t,t.pendingProps,n),t.child;case 8:case 12:return Rs(e,t,t.pendingProps.children,n),t.child;case 10:return r=t.pendingProps,Co(0,t.type,r.value),Rs(e,t,r.children,n),t.child;case 9:return o=t.type._context,r=t.pendingProps.children,Po(t),r=r(o=Oo(o)),t.flags|=1,Rs(e,t,r,n),t.child;case 14:return Ms(e,t,t.type,t.pendingProps,n);case 15:return Fs(e,t,t.type,t.pendingProps,n);case 19:return rl(e,t,n);case 31:return function(e,t,n){var r=t.pendingProps,o=0!==(128&t.flags);if(t.flags&=-129,null===e){if(ho){if("hidden"===r.mode)return e=Bs(t,r),t.lanes=536870912,Us(null,e);if(Ma(t),(e=uo)?null!==(e=null!==(e=Nd(e,po))&&"&"===e.data?e:null)&&(t.memoizedState={dehydrated:e,treeContext:null!==to?{id:no,overflow:ro}:null,retryLane:536870912,hydrationErrors:null},(n=Hr(e)).return=t,t.child=n,co=t,uo=null):e=null,null===e)throw go(t);return t.lanes=536870912,null}return Bs(t,r)}var a=e.memoizedState;if(null!==a){var s=a.dehydrated;if(Ma(t),o)if(256&t.flags)t.flags&=-257,t=qs(e,t,n);else{if(null===t.memoizedState)throw Error(i(558));t.child=e.child,t.flags|=128,t=null}else if(Os||No(e,t,n,!1),o=0!==(n&e.childLanes),Os||o){if(null!==(r=pc)&&0!==(s=Ie(r,n))&&s!==a.retryLane)throw a.retryLane=s,Or(e,s),Qc(r,e,s),Ps;iu(),t=qs(e,t,n)}else e=a.treeContext,uo=Od(s.nextSibling),co=t,ho=!0,fo=null,po=!1,null!==e&&lo(t,e),(t=Bs(t,r)).flags|=4096;return t}return(e=zr(e.child,{mode:r.mode,children:r.children})).ref=t.ref,t.child=e,e.return=t,e}(e,t,n);case 22:return Ls(e,t,n,t.pendingProps);case 24:return Po(t),r=Oo(Uo),null===e?(null===(o=Yo())&&(o=pc,a=zo(),o.pooledCache=a,a.refCount++,null!==a&&(o.pooledCacheLanes|=n),o=a),t.memoizedState={parent:r,cache:o},va(t),Co(0,Uo,o)):(0!==(e.lanes&n)&&(ya(e,t),Ea(t,null,null,n),_a()),o=e.memoizedState,a=t.memoizedState,o.parent!==r?(o={parent:r,cache:r},t.memoizedState=o,0===t.lanes&&(t.memoizedState=t.updateQueue.baseState=o),Co(0,Uo,r)):(r=a.cache,Co(0,Uo,r),r!==o.cache&&To(t,[Uo],n,!0))),Rs(e,t,t.pendingProps.children,n),t.child;case 29:throw t.pendingProps}throw Error(i(156,t.tag))}function sl(e){e.flags|=4}function ll(e,t,n,r,o){if((t=0!==(32&e.mode))&&(t=!1),t){if(e.flags|=16777216,(335544128&o)===o)if(e.stateNode.complete)e.flags|=8192;else{if(!ru())throw aa=ta,Zo;e.flags|=8192}}else e.flags&=-16777217}function cl(e,t){if("stylesheet"!==t.type||0!==(4&t.state.loading))e.flags&=-16777217;else if(e.flags|=16777216,!oh(t)){if(!ru())throw aa=ta,Zo;e.flags|=8192}}function ul(e,t){null!==t&&(e.flags|=4),16384&e.flags&&(t=22!==e.tag?Ne():536870912,e.lanes|=t,jc|=t)}function dl(e,t){if(!ho)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function hl(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var o=e.child;null!==o;)n|=o.lanes|o.childLanes,r|=65011712&o.subtreeFlags,r|=65011712&o.flags,o.return=e,o=o.sibling;else for(o=e.child;null!==o;)n|=o.lanes|o.childLanes,r|=o.subtreeFlags,r|=o.flags,o.return=e,o=o.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function fl(e,t,n){var r=t.pendingProps;switch(so(t),t.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:case 1:return hl(t),null;case 3:return n=t.stateNode,r=null,null!==e&&(r=e.memoizedState.cache),t.memoizedState.cache!==r&&(t.flags|=2048),Ao(Uo),Y(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),null!==e&&null!==e.child||(bo(t)?sl(t):null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,xo())),hl(t),null;case 26:var o=t.type,a=t.memoizedState;return null===e?(sl(t),null!==a?(hl(t),cl(t,a)):(hl(t),ll(t,o,0,0,n))):a?a!==e.memoizedState?(sl(t),hl(t),cl(t,a)):(hl(t),t.flags&=-16777217):((e=e.memoizedProps)!==r&&sl(t),hl(t),ll(t,o,0,0,n)),null;case 27:if(X(t),n=K.current,o=t.type,null!==e&&null!=t.stateNode)e.memoizedProps!==r&&sl(t);else{if(!r){if(null===t.stateNode)throw Error(i(166));return hl(t),null}e=W.current,bo(t)?vo(t):(e=Fd(o,r,n),t.stateNode=e,sl(t))}return hl(t),null;case 5:if(X(t),o=t.type,null!==e&&null!=t.stateNode)e.memoizedProps!==r&&sl(t);else{if(!r){if(null===t.stateNode)throw Error(i(166));return hl(t),null}if(a=W.current,bo(t))vo(t);else{var s=gd(K.current);switch(a){case 1:a=s.createElementNS("http://www.w3.org/2000/svg",o);break;case 2:a=s.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;default:switch(o){case"svg":a=s.createElementNS("http://www.w3.org/2000/svg",o);break;case"math":a=s.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;case"script":(a=s.createElement("div")).innerHTML="<script><\/script>",a=a.removeChild(a.firstChild);break;case"select":a="string"===typeof r.is?s.createElement("select",{is:r.is}):s.createElement("select"),r.multiple?a.multiple=!0:r.size&&(a.size=r.size);break;default:a="string"===typeof r.is?s.createElement(o,{is:r.is}):s.createElement(o)}}a[Be]=t,a[qe]=r;e:for(s=t.child;null!==s;){if(5===s.tag||6===s.tag)a.appendChild(s.stateNode);else if(4!==s.tag&&27!==s.tag&&null!==s.child){s.child.return=s,s=s.child;continue}if(s===t)break e;for(;null===s.sibling;){if(null===s.return||s.return===t)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}t.stateNode=a;e:switch(hd(a,o,r),o){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}r&&sl(t)}}return hl(t),ll(t,t.type,null===e||e.memoizedProps,t.pendingProps,n),null;case 6:if(e&&null!=t.stateNode)e.memoizedProps!==r&&sl(t);else{if("string"!==typeof r&&null===t.stateNode)throw Error(i(166));if(e=K.current,bo(t)){if(e=t.stateNode,n=t.memoizedProps,r=null,null!==(o=co))switch(o.tag){case 27:case 5:r=o.memoizedProps}e[Be]=t,(e=!!(e.nodeValue===n||null!==r&&!0===r.suppressHydrationWarning||cd(e.nodeValue,n)))||go(t,!0)}else(e=gd(e).createTextNode(r))[Be]=t,t.stateNode=e}return hl(t),null;case 31:if(n=t.memoizedState,null===e||null!==e.memoizedState){if(r=bo(t),null!==n){if(null===e){if(!r)throw Error(i(318));if(!(e=null!==(e=t.memoizedState)?e.dehydrated:null))throw Error(i(557));e[Be]=t}else wo(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;hl(t),e=!1}else n=xo(),null!==e&&null!==e.memoizedState&&(e.memoizedState.hydrationErrors=n),e=!0;if(!e)return 256&t.flags?(Ua(t),t):(Ua(t),null);if(0!==(128&t.flags))throw Error(i(558))}return hl(t),null;case 13:if(r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(o=bo(t),null!==r&&null!==r.dehydrated){if(null===e){if(!o)throw Error(i(318));if(!(o=null!==(o=t.memoizedState)?o.dehydrated:null))throw Error(i(317));o[Be]=t}else wo(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;hl(t),o=!1}else o=xo(),null!==e&&null!==e.memoizedState&&(e.memoizedState.hydrationErrors=o),o=!0;if(!o)return 256&t.flags?(Ua(t),t):(Ua(t),null)}return Ua(t),0!==(128&t.flags)?(t.lanes=n,t):(n=null!==r,e=null!==e&&null!==e.memoizedState,n&&(o=null,null!==(r=t.child).alternate&&null!==r.alternate.memoizedState&&null!==r.alternate.memoizedState.cachePool&&(o=r.alternate.memoizedState.cachePool.pool),a=null,null!==r.memoizedState&&null!==r.memoizedState.cachePool&&(a=r.memoizedState.cachePool.pool),a!==o&&(r.flags|=2048)),n!==e&&n&&(t.child.flags|=8192),ul(t,t.updateQueue),hl(t),null);case 4:return Y(),null===e&&Zu(t.stateNode.containerInfo),hl(t),null;case 10:return Ao(t.type),hl(t),null;case 19:if(z(za),null===(r=t.memoizedState))return hl(t),null;if(o=0!==(128&t.flags),null===(a=r.rendering))if(o)dl(r,!1);else{if(0!==kc||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(a=Ba(e))){for(t.flags|=128,dl(r,!1),e=a.updateQueue,t.updateQueue=e,ul(t,e),t.subtreeFlags=0,e=n,n=t.child;null!==n;)Br(n,e),n=n.sibling;return B(za,1&za.current|2),ho&&oo(t,r.treeForkCount),t.child}e=e.sibling}null!==r.tail&&le()>Rc&&(t.flags|=128,o=!0,dl(r,!1),t.lanes=4194304)}else{if(!o)if(null!==(e=Ba(a))){if(t.flags|=128,o=!0,e=e.updateQueue,t.updateQueue=e,ul(t,e),dl(r,!0),null===r.tail&&"hidden"===r.tailMode&&!a.alternate&&!ho)return hl(t),null}else 2*le()-r.renderingStartTime>Rc&&536870912!==n&&(t.flags|=128,o=!0,dl(r,!1),t.lanes=4194304);r.isBackwards?(a.sibling=t.child,t.child=a):(null!==(e=r.last)?e.sibling=a:t.child=a,r.last=a)}return null!==r.tail?(e=r.tail,r.rendering=e,r.tail=e.sibling,r.renderingStartTime=le(),e.sibling=null,n=za.current,B(za,o?1&n|2:1&n),ho&&oo(t,r.treeForkCount),e):(hl(t),null);case 22:case 23:return Ua(t),Pa(),r=null!==t.memoizedState,null!==e?null!==e.memoizedState!==r&&(t.flags|=8192):r&&(t.flags|=8192),r?0!==(536870912&n)&&0===(128&t.flags)&&(hl(t),6&t.subtreeFlags&&(t.flags|=8192)):hl(t),null!==(n=t.updateQueue)&&ul(t,n.retryQueue),n=null,null!==e&&null!==e.memoizedState&&null!==e.memoizedState.cachePool&&(n=e.memoizedState.cachePool.pool),r=null,null!==t.memoizedState&&null!==t.memoizedState.cachePool&&(r=t.memoizedState.cachePool.pool),r!==n&&(t.flags|=2048),null!==e&&z(Qo),null;case 24:return n=null,null!==e&&(n=e.memoizedState.cache),t.memoizedState.cache!==n&&(t.flags|=2048),Ao(Uo),hl(t),null;case 25:case 30:return null}throw Error(i(156,t.tag))}function pl(e,t){switch(so(t),t.tag){case 1:return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return Ao(Uo),Y(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 26:case 27:case 5:return X(t),null;case 31:if(null!==t.memoizedState){if(Ua(t),null===t.alternate)throw Error(i(340));wo()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 13:if(Ua(t),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(i(340));wo()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return z(za),null;case 4:return Y(),null;case 10:return Ao(t.type),null;case 22:case 23:return Ua(t),Pa(),null!==e&&z(Qo),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 24:return Ao(Uo),null;default:return null}}function ml(e,t){switch(so(t),t.tag){case 3:Ao(Uo),Y();break;case 26:case 27:case 5:X(t);break;case 4:Y();break;case 31:null!==t.memoizedState&&Ua(t);break;case 13:Ua(t);break;case 19:z(za);break;case 10:Ao(t.type);break;case 22:case 23:Ua(t),Pa(),null!==e&&z(Qo);break;case 24:Ao(Uo)}}function gl(e,t){try{var n=t.updateQueue,r=null!==n?n.lastEffect:null;if(null!==r){var o=r.next;n=o;do{if((n.tag&e)===e){r=void 0;var a=n.create,i=n.inst;r=a(),i.destroy=r}n=n.next}while(n!==o)}}catch(s){ku(t,t.return,s)}}function vl(e,t,n){try{var r=t.updateQueue,o=null!==r?r.lastEffect:null;if(null!==o){var a=o.next;r=a;do{if((r.tag&e)===e){var i=r.inst,s=i.destroy;if(void 0!==s){i.destroy=void 0,o=t;var l=n,c=s;try{c()}catch(u){ku(o,l,u)}}}r=r.next}while(r!==a)}}catch(u){ku(t,t.return,u)}}function yl(e){var t=e.updateQueue;if(null!==t){var n=e.stateNode;try{Aa(t,n)}catch(r){ku(e,e.return,r)}}}function bl(e,t,n){n.props=ks(e.type,e.memoizedProps),n.state=e.memoizedState;try{n.componentWillUnmount()}catch(r){ku(e,t,r)}}function wl(e,t){try{var n=e.ref;if(null!==n){switch(e.tag){case 26:case 27:case 5:var r=e.stateNode;break;default:r=e.stateNode}"function"===typeof n?e.refCleanup=n(r):n.current=r}}catch(o){ku(e,t,o)}}function xl(e,t){var n=e.ref,r=e.refCleanup;if(null!==n)if("function"===typeof r)try{r()}catch(o){ku(e,t,o)}finally{e.refCleanup=null,null!=(e=e.alternate)&&(e.refCleanup=null)}else if("function"===typeof n)try{n(null)}catch(a){ku(e,t,a)}else n.current=null}function Sl(e){var t=e.type,n=e.memoizedProps,r=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":n.autoFocus&&r.focus();break e;case"img":n.src?r.src=n.src:n.srcSet&&(r.srcset=n.srcSet)}}catch(o){ku(e,e.return,o)}}function kl(e,t,n){try{var r=e.stateNode;!function(e,t,n,r){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var o=null,a=null,s=null,l=null,c=null,u=null,d=null;for(p in n){var h=n[p];if(n.hasOwnProperty(p)&&null!=h)switch(p){case"checked":case"value":break;case"defaultValue":c=h;default:r.hasOwnProperty(p)||ud(e,t,p,null,r,h)}}for(var f in r){var p=r[f];if(h=n[f],r.hasOwnProperty(f)&&(null!=p||null!=h))switch(f){case"type":a=p;break;case"name":o=p;break;case"checked":u=p;break;case"defaultChecked":d=p;break;case"value":s=p;break;case"defaultValue":l=p;break;case"children":case"dangerouslySetInnerHTML":if(null!=p)throw Error(i(137,t));break;default:p!==h&&ud(e,t,f,p,r,h)}}return void yt(e,s,l,c,u,d,a,o);case"select":for(a in p=s=l=f=null,n)if(c=n[a],n.hasOwnProperty(a)&&null!=c)switch(a){case"value":break;case"multiple":p=c;default:r.hasOwnProperty(a)||ud(e,t,a,null,r,c)}for(o in r)if(a=r[o],c=n[o],r.hasOwnProperty(o)&&(null!=a||null!=c))switch(o){case"value":f=a;break;case"defaultValue":l=a;break;case"multiple":s=a;default:a!==c&&ud(e,t,o,a,r,c)}return t=l,n=s,r=p,void(null!=f?xt(e,!!n,f,!1):!!r!==!!n&&(null!=t?xt(e,!!n,t,!0):xt(e,!!n,n?[]:"",!1)));case"textarea":for(l in p=f=null,n)if(o=n[l],n.hasOwnProperty(l)&&null!=o&&!r.hasOwnProperty(l))switch(l){case"value":case"children":break;default:ud(e,t,l,null,r,o)}for(s in r)if(o=r[s],a=n[s],r.hasOwnProperty(s)&&(null!=o||null!=a))switch(s){case"value":f=o;break;case"defaultValue":p=o;break;case"children":break;case"dangerouslySetInnerHTML":if(null!=o)throw Error(i(91));break;default:o!==a&&ud(e,t,s,o,r,a)}return void St(e,f,p);case"option":for(var m in n)if(f=n[m],n.hasOwnProperty(m)&&null!=f&&!r.hasOwnProperty(m))if("selected"===m)e.selected=!1;else ud(e,t,m,null,r,f);for(c in r)if(f=r[c],p=n[c],r.hasOwnProperty(c)&&f!==p&&(null!=f||null!=p))if("selected"===c)e.selected=f&&"function"!==typeof f&&"symbol"!==typeof f;else ud(e,t,c,f,r,p);return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var g in n)f=n[g],n.hasOwnProperty(g)&&null!=f&&!r.hasOwnProperty(g)&&ud(e,t,g,null,r,f);for(u in r)if(f=r[u],p=n[u],r.hasOwnProperty(u)&&f!==p&&(null!=f||null!=p))switch(u){case"children":case"dangerouslySetInnerHTML":if(null!=f)throw Error(i(137,t));break;default:ud(e,t,u,f,r,p)}return;default:if(jt(t)){for(var v in n)f=n[v],n.hasOwnProperty(v)&&void 0!==f&&!r.hasOwnProperty(v)&&dd(e,t,v,void 0,r,f);for(d in r)f=r[d],p=n[d],!r.hasOwnProperty(d)||f===p||void 0===f&&void 0===p||dd(e,t,d,f,r,p);return}}for(var y in n)f=n[y],n.hasOwnProperty(y)&&null!=f&&!r.hasOwnProperty(y)&&ud(e,t,y,null,r,f);for(h in r)f=r[h],p=n[h],!r.hasOwnProperty(h)||f===p||null==f&&null==p||ud(e,t,h,f,r,p)}(r,e.type,n,t),r[qe]=t}catch(o){ku(e,e.return,o)}}function _l(e){return 5===e.tag||3===e.tag||26===e.tag||27===e.tag&&Cd(e.type)||4===e.tag}function El(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||_l(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(27===e.tag&&Cd(e.type))continue e;if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function Cl(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?(9===n.nodeType?n.body:"HTML"===n.nodeName?n.ownerDocument.body:n).insertBefore(e,t):((t=9===n.nodeType?n.body:"HTML"===n.nodeName?n.ownerDocument.body:n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Pt));else if(4!==r&&(27===r&&Cd(e.type)&&(n=e.stateNode,t=null),null!==(e=e.child)))for(Cl(e,t,n),e=e.sibling;null!==e;)Cl(e,t,n),e=e.sibling}function Al(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&(27===r&&Cd(e.type)&&(n=e.stateNode),null!==(e=e.child)))for(Al(e,t,n),e=e.sibling;null!==e;)Al(e,t,n),e=e.sibling}function jl(e){var t=e.stateNode,n=e.memoizedProps;try{for(var r=e.type,o=t.attributes;o.length;)t.removeAttributeNode(o[0]);hd(t,r,n),t[Be]=e,t[qe]=n}catch(a){ku(e,e.return,a)}}var Tl=!1,Nl=!1,Dl=!1,Pl="function"===typeof WeakSet?WeakSet:Set,Ol=null;function Rl(e,t,n){var r=n.flags;switch(n.tag){case 0:case 11:case 15:Ql(e,n),4&r&&gl(5,n);break;case 1:if(Ql(e,n),4&r)if(e=n.stateNode,null===t)try{e.componentDidMount()}catch(i){ku(n,n.return,i)}else{var o=ks(n.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(o,t,e.__reactInternalSnapshotBeforeUpdate)}catch(s){ku(n,n.return,s)}}64&r&&yl(n),512&r&&wl(n,n.return);break;case 3:if(Ql(e,n),64&r&&null!==(e=n.updateQueue)){if(t=null,null!==n.child)switch(n.child.tag){case 27:case 5:case 1:t=n.child.stateNode}try{Aa(e,t)}catch(i){ku(n,n.return,i)}}break;case 27:null===t&&4&r&&jl(n);case 26:case 5:Ql(e,n),null===t&&4&r&&Sl(n),512&r&&wl(n,n.return);break;case 12:Ql(e,n);break;case 31:Ql(e,n),4&r&&zl(e,n);break;case 13:Ql(e,n),4&r&&Bl(e,n),64&r&&(null!==(e=n.memoizedState)&&(null!==(e=e.dehydrated)&&function(e,t){var n=e.ownerDocument;if("$~"===e.data)e._reactRetry=t;else if("$?"!==e.data||"loading"!==n.readyState)t();else{var r=function(){t(),n.removeEventListener("DOMContentLoaded",r)};n.addEventListener("DOMContentLoaded",r),e._reactRetry=r}}(e,n=Au.bind(null,n))));break;case 22:if(!(r=null!==n.memoizedState||Tl)){t=null!==t&&null!==t.memoizedState||Nl,o=Tl;var a=Nl;Tl=r,(Nl=t)&&!a?$l(e,n,0!==(8772&n.subtreeFlags)):Ql(e,n),Tl=o,Nl=a}break;case 30:break;default:Ql(e,n)}}function Il(e){var t=e.alternate;null!==t&&(e.alternate=null,Il(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&Ye(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var Ml=null,Fl=!1;function Ll(e,t,n){for(n=n.child;null!==n;)Ul(e,t,n),n=n.sibling}function Ul(e,t,n){if(ye&&"function"===typeof ye.onCommitFiberUnmount)try{ye.onCommitFiberUnmount(ve,n)}catch(a){}switch(n.tag){case 26:Nl||xl(n,t),Ll(e,t,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode).parentNode.removeChild(n);break;case 27:Nl||xl(n,t);var r=Ml,o=Fl;Cd(n.type)&&(Ml=n.stateNode,Fl=!1),Ll(e,t,n),Ld(n.stateNode),Ml=r,Fl=o;break;case 5:Nl||xl(n,t);case 6:if(r=Ml,o=Fl,Ml=null,Ll(e,t,n),Fl=o,null!==(Ml=r))if(Fl)try{(9===Ml.nodeType?Ml.body:"HTML"===Ml.nodeName?Ml.ownerDocument.body:Ml).removeChild(n.stateNode)}catch(i){ku(n,t,i)}else try{Ml.removeChild(n.stateNode)}catch(i){ku(n,t,i)}break;case 18:null!==Ml&&(Fl?(Ad(9===(e=Ml).nodeType?e.body:"HTML"===e.nodeName?e.ownerDocument.body:e,n.stateNode),Wh(e)):Ad(Ml,n.stateNode));break;case 4:r=Ml,o=Fl,Ml=n.stateNode.containerInfo,Fl=!0,Ll(e,t,n),Ml=r,Fl=o;break;case 0:case 11:case 14:case 15:vl(2,n,t),Nl||vl(4,n,t),Ll(e,t,n);break;case 1:Nl||(xl(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount&&bl(n,t,r)),Ll(e,t,n);break;case 21:Ll(e,t,n);break;case 22:Nl=(r=Nl)||null!==n.memoizedState,Ll(e,t,n),Nl=r;break;default:Ll(e,t,n)}}function zl(e,t){if(null===t.memoizedState&&(null!==(e=t.alternate)&&null!==(e=e.memoizedState))){e=e.dehydrated;try{Wh(e)}catch(n){ku(t,t.return,n)}}}function Bl(e,t){if(null===t.memoizedState&&(null!==(e=t.alternate)&&(null!==(e=e.memoizedState)&&null!==(e=e.dehydrated))))try{Wh(e)}catch(n){ku(t,t.return,n)}}function ql(e,t){var n=function(e){switch(e.tag){case 31:case 13:case 19:var t=e.stateNode;return null===t&&(t=e.stateNode=new Pl),t;case 22:return null===(t=(e=e.stateNode)._retryCache)&&(t=e._retryCache=new Pl),t;default:throw Error(i(435,e.tag))}}(e);t.forEach(function(t){if(!n.has(t)){n.add(t);var r=ju.bind(null,e,t);t.then(r,r)}})}function Vl(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var o=n[r],a=e,s=t,l=s;e:for(;null!==l;){switch(l.tag){case 27:if(Cd(l.type)){Ml=l.stateNode,Fl=!1;break e}break;case 5:Ml=l.stateNode,Fl=!1;break e;case 3:case 4:Ml=l.stateNode.containerInfo,Fl=!0;break e}l=l.return}if(null===Ml)throw Error(i(160));Ul(a,s,o),Ml=null,Fl=!1,null!==(a=o.alternate)&&(a.return=null),o.return=null}if(13886&t.subtreeFlags)for(t=t.child;null!==t;)Hl(t,e),t=t.sibling}var Wl=null;function Hl(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:Vl(t,e),Kl(e),4&r&&(vl(3,e,e.return),gl(3,e),vl(5,e,e.return));break;case 1:Vl(t,e),Kl(e),512&r&&(Nl||null===n||xl(n,n.return)),64&r&&Tl&&(null!==(e=e.updateQueue)&&(null!==(r=e.callbacks)&&(n=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=null===n?r:n.concat(r))));break;case 26:var o=Wl;if(Vl(t,e),Kl(e),512&r&&(Nl||null===n||xl(n,n.return)),4&r){var a=null!==n?n.memoizedState:null;if(r=e.memoizedState,null===n)if(null===r)if(null===e.stateNode){e:{r=e.type,n=e.memoizedProps,o=o.ownerDocument||o;t:switch(r){case"title":(!(a=o.getElementsByTagName("title")[0])||a[Qe]||a[Be]||"http://www.w3.org/2000/svg"===a.namespaceURI||a.hasAttribute("itemprop"))&&(a=o.createElement(r),o.head.insertBefore(a,o.querySelector("head > title"))),hd(a,r,n),a[Be]=e,et(a),r=a;break e;case"link":var s=nh("link","href",o).get(r+(n.href||""));if(s)for(var l=0;l<s.length;l++)if((a=s[l]).getAttribute("href")===(null==n.href||""===n.href?null:n.href)&&a.getAttribute("rel")===(null==n.rel?null:n.rel)&&a.getAttribute("title")===(null==n.title?null:n.title)&&a.getAttribute("crossorigin")===(null==n.crossOrigin?null:n.crossOrigin)){s.splice(l,1);break t}hd(a=o.createElement(r),r,n),o.head.appendChild(a);break;case"meta":if(s=nh("meta","content",o).get(r+(n.content||"")))for(l=0;l<s.length;l++)if((a=s[l]).getAttribute("content")===(null==n.content?null:""+n.content)&&a.getAttribute("name")===(null==n.name?null:n.name)&&a.getAttribute("property")===(null==n.property?null:n.property)&&a.getAttribute("http-equiv")===(null==n.httpEquiv?null:n.httpEquiv)&&a.getAttribute("charset")===(null==n.charSet?null:n.charSet)){s.splice(l,1);break t}hd(a=o.createElement(r),r,n),o.head.appendChild(a);break;default:throw Error(i(468,r))}a[Be]=e,et(a),r=a}e.stateNode=r}else rh(o,e.type,e.stateNode);else e.stateNode=Xd(o,r,e.memoizedProps);else a!==r?(null===a?null!==n.stateNode&&(n=n.stateNode).parentNode.removeChild(n):a.count--,null===r?rh(o,e.type,e.stateNode):Xd(o,r,e.memoizedProps)):null===r&&null!==e.stateNode&&kl(e,e.memoizedProps,n.memoizedProps)}break;case 27:Vl(t,e),Kl(e),512&r&&(Nl||null===n||xl(n,n.return)),null!==n&&4&r&&kl(e,e.memoizedProps,n.memoizedProps);break;case 5:if(Vl(t,e),Kl(e),512&r&&(Nl||null===n||xl(n,n.return)),32&e.flags){o=e.stateNode;try{_t(o,"")}catch(m){ku(e,e.return,m)}}4&r&&null!=e.stateNode&&kl(e,o=e.memoizedProps,null!==n?n.memoizedProps:o),1024&r&&(Dl=!0);break;case 6:if(Vl(t,e),Kl(e),4&r){if(null===e.stateNode)throw Error(i(162));r=e.memoizedProps,n=e.stateNode;try{n.nodeValue=r}catch(m){ku(e,e.return,m)}}break;case 3:if(th=null,o=Wl,Wl=Bd(t.containerInfo),Vl(t,e),Wl=o,Kl(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{Wh(t.containerInfo)}catch(m){ku(e,e.return,m)}Dl&&(Dl=!1,Gl(e));break;case 4:r=Wl,Wl=Bd(e.stateNode.containerInfo),Vl(t,e),Kl(e),Wl=r;break;case 12:default:Vl(t,e),Kl(e);break;case 31:case 19:Vl(t,e),Kl(e),4&r&&(null!==(r=e.updateQueue)&&(e.updateQueue=null,ql(e,r)));break;case 13:Vl(t,e),Kl(e),8192&e.child.flags&&null!==e.memoizedState!==(null!==n&&null!==n.memoizedState)&&(Pc=le()),4&r&&(null!==(r=e.updateQueue)&&(e.updateQueue=null,ql(e,r)));break;case 22:o=null!==e.memoizedState;var c=null!==n&&null!==n.memoizedState,u=Tl,d=Nl;if(Tl=u||o,Nl=d||c,Vl(t,e),Nl=d,Tl=u,Kl(e),8192&r)e:for(t=e.stateNode,t._visibility=o?-2&t._visibility:1|t._visibility,o&&(null===n||c||Tl||Nl||Yl(e)),n=null,t=e;;){if(5===t.tag||26===t.tag){if(null===n){c=n=t;try{if(a=c.stateNode,o)"function"===typeof(s=a.style).setProperty?s.setProperty("display","none","important"):s.display="none";else{l=c.stateNode;var h=c.memoizedProps.style,f=void 0!==h&&null!==h&&h.hasOwnProperty("display")?h.display:null;l.style.display=null==f||"boolean"===typeof f?"":(""+f).trim()}}catch(m){ku(c,c.return,m)}}}else if(6===t.tag){if(null===n){c=t;try{c.stateNode.nodeValue=o?"":c.memoizedProps}catch(m){ku(c,c.return,m)}}}else if(18===t.tag){if(null===n){c=t;try{var p=c.stateNode;o?jd(p,!0):jd(c.stateNode,!1)}catch(m){ku(c,c.return,m)}}}else if((22!==t.tag&&23!==t.tag||null===t.memoizedState||t===e)&&null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;null===t.sibling;){if(null===t.return||t.return===e)break e;n===t&&(n=null),t=t.return}n===t&&(n=null),t.sibling.return=t.return,t=t.sibling}4&r&&(null!==(r=e.updateQueue)&&(null!==(n=r.retryQueue)&&(r.retryQueue=null,ql(e,n))));case 30:case 21:}}function Kl(e){var t=e.flags;if(2&t){try{for(var n,r=e.return;null!==r;){if(_l(r)){n=r;break}r=r.return}if(null==n)throw Error(i(160));switch(n.tag){case 27:var o=n.stateNode;Al(e,El(e),o);break;case 5:var a=n.stateNode;32&n.flags&&(_t(a,""),n.flags&=-33),Al(e,El(e),a);break;case 3:case 4:var s=n.stateNode.containerInfo;Cl(e,El(e),s);break;default:throw Error(i(161))}}catch(l){ku(e,e.return,l)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function Gl(e){if(1024&e.subtreeFlags)for(e=e.child;null!==e;){var t=e;Gl(t),5===t.tag&&1024&t.flags&&t.stateNode.reset(),e=e.sibling}}function Ql(e,t){if(8772&t.subtreeFlags)for(t=t.child;null!==t;)Rl(e,t.alternate,t),t=t.sibling}function Yl(e){for(e=e.child;null!==e;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:vl(4,t,t.return),Yl(t);break;case 1:xl(t,t.return);var n=t.stateNode;"function"===typeof n.componentWillUnmount&&bl(t,t.return,n),Yl(t);break;case 27:Ld(t.stateNode);case 26:case 5:xl(t,t.return),Yl(t);break;case 22:null===t.memoizedState&&Yl(t);break;default:Yl(t)}e=e.sibling}}function $l(e,t,n){for(n=n&&0!==(8772&t.subtreeFlags),t=t.child;null!==t;){var r=t.alternate,o=e,a=t,i=a.flags;switch(a.tag){case 0:case 11:case 15:$l(o,a,n),gl(4,a);break;case 1:if($l(o,a,n),"function"===typeof(o=(r=a).stateNode).componentDidMount)try{o.componentDidMount()}catch(c){ku(r,r.return,c)}if(null!==(o=(r=a).updateQueue)){var s=r.stateNode;try{var l=o.shared.hiddenCallbacks;if(null!==l)for(o.shared.hiddenCallbacks=null,o=0;o<l.length;o++)Ca(l[o],s)}catch(c){ku(r,r.return,c)}}n&&64&i&&yl(a),wl(a,a.return);break;case 27:jl(a);case 26:case 5:$l(o,a,n),n&&null===r&&4&i&&Sl(a),wl(a,a.return);break;case 12:$l(o,a,n);break;case 31:$l(o,a,n),n&&4&i&&zl(o,a);break;case 13:$l(o,a,n),n&&4&i&&Bl(o,a);break;case 22:null===a.memoizedState&&$l(o,a,n),wl(a,a.return);break;case 30:break;default:$l(o,a,n)}t=t.sibling}}function Xl(e,t){var n=null;null!==e&&null!==e.memoizedState&&null!==e.memoizedState.cachePool&&(n=e.memoizedState.cachePool.pool),e=null,null!==t.memoizedState&&null!==t.memoizedState.cachePool&&(e=t.memoizedState.cachePool.pool),e!==n&&(null!=e&&e.refCount++,null!=n&&Bo(n))}function Jl(e,t){e=null,null!==t.alternate&&(e=t.alternate.memoizedState.cache),(t=t.memoizedState.cache)!==e&&(t.refCount++,null!=e&&Bo(e))}function Zl(e,t,n,r){if(10256&t.subtreeFlags)for(t=t.child;null!==t;)ec(e,t,n,r),t=t.sibling}function ec(e,t,n,r){var o=t.flags;switch(t.tag){case 0:case 11:case 15:Zl(e,t,n,r),2048&o&&gl(9,t);break;case 1:case 31:case 13:default:Zl(e,t,n,r);break;case 3:Zl(e,t,n,r),2048&o&&(e=null,null!==t.alternate&&(e=t.alternate.memoizedState.cache),(t=t.memoizedState.cache)!==e&&(t.refCount++,null!=e&&Bo(e)));break;case 12:if(2048&o){Zl(e,t,n,r),e=t.stateNode;try{var a=t.memoizedProps,i=a.id,s=a.onPostCommit;"function"===typeof s&&s(i,null===t.alternate?"mount":"update",e.passiveEffectDuration,-0)}catch(l){ku(t,t.return,l)}}else Zl(e,t,n,r);break;case 23:break;case 22:a=t.stateNode,i=t.alternate,null!==t.memoizedState?2&a._visibility?Zl(e,t,n,r):nc(e,t):2&a._visibility?Zl(e,t,n,r):(a._visibility|=2,tc(e,t,n,r,0!==(10256&t.subtreeFlags)||!1)),2048&o&&Xl(i,t);break;case 24:Zl(e,t,n,r),2048&o&&Jl(t.alternate,t)}}function tc(e,t,n,r,o){for(o=o&&(0!==(10256&t.subtreeFlags)||!1),t=t.child;null!==t;){var a=e,i=t,s=n,l=r,c=i.flags;switch(i.tag){case 0:case 11:case 15:tc(a,i,s,l,o),gl(8,i);break;case 23:break;case 22:var u=i.stateNode;null!==i.memoizedState?2&u._visibility?tc(a,i,s,l,o):nc(a,i):(u._visibility|=2,tc(a,i,s,l,o)),o&&2048&c&&Xl(i.alternate,i);break;case 24:tc(a,i,s,l,o),o&&2048&c&&Jl(i.alternate,i);break;default:tc(a,i,s,l,o)}t=t.sibling}}function nc(e,t){if(10256&t.subtreeFlags)for(t=t.child;null!==t;){var n=e,r=t,o=r.flags;switch(r.tag){case 22:nc(n,r),2048&o&&Xl(r.alternate,r);break;case 24:nc(n,r),2048&o&&Jl(r.alternate,r);break;default:nc(n,r)}t=t.sibling}}var rc=8192;function oc(e,t,n){if(e.subtreeFlags&rc)for(e=e.child;null!==e;)ac(e,t,n),e=e.sibling}function ac(e,t,n){switch(e.tag){case 26:oc(e,t,n),e.flags&rc&&null!==e.memoizedState&&function(e,t,n,r){if("stylesheet"===n.type&&("string"!==typeof r.media||!1!==matchMedia(r.media).matches)&&0===(4&n.state.loading)){if(null===n.instance){var o=Kd(r.href),a=t.querySelector(Gd(o));if(a)return null!==(t=a._p)&&"object"===typeof t&&"function"===typeof t.then&&(e.count++,e=ih.bind(e),t.then(e,e)),n.state.loading|=4,n.instance=a,void et(a);a=t.ownerDocument||t,r=Qd(r),(o=Ud.get(o))&&Zd(r,o),et(a=a.createElement("link"));var i=a;i._p=new Promise(function(e,t){i.onload=e,i.onerror=t}),hd(a,"link",r),n.instance=a}null===e.stylesheets&&(e.stylesheets=new Map),e.stylesheets.set(n,t),(t=n.state.preload)&&0===(3&n.state.loading)&&(e.count++,n=ih.bind(e),t.addEventListener("load",n),t.addEventListener("error",n))}}(n,Wl,e.memoizedState,e.memoizedProps);break;case 5:default:oc(e,t,n);break;case 3:case 4:var r=Wl;Wl=Bd(e.stateNode.containerInfo),oc(e,t,n),Wl=r;break;case 22:null===e.memoizedState&&(null!==(r=e.alternate)&&null!==r.memoizedState?(r=rc,rc=16777216,oc(e,t,n),rc=r):oc(e,t,n))}}function ic(e){var t=e.alternate;if(null!==t&&null!==(e=t.child)){t.child=null;do{t=e.sibling,e.sibling=null,e=t}while(null!==e)}}function sc(e){var t=e.deletions;if(0!==(16&e.flags)){if(null!==t)for(var n=0;n<t.length;n++){var r=t[n];Ol=r,uc(r,e)}ic(e)}if(10256&e.subtreeFlags)for(e=e.child;null!==e;)lc(e),e=e.sibling}function lc(e){switch(e.tag){case 0:case 11:case 15:sc(e),2048&e.flags&&vl(9,e,e.return);break;case 3:case 12:default:sc(e);break;case 22:var t=e.stateNode;null!==e.memoizedState&&2&t._visibility&&(null===e.return||13!==e.return.tag)?(t._visibility&=-3,cc(e)):sc(e)}}function cc(e){var t=e.deletions;if(0!==(16&e.flags)){if(null!==t)for(var n=0;n<t.length;n++){var r=t[n];Ol=r,uc(r,e)}ic(e)}for(e=e.child;null!==e;){switch((t=e).tag){case 0:case 11:case 15:vl(8,t,t.return),cc(t);break;case 22:2&(n=t.stateNode)._visibility&&(n._visibility&=-3,cc(t));break;default:cc(t)}e=e.sibling}}function uc(e,t){for(;null!==Ol;){var n=Ol;switch(n.tag){case 0:case 11:case 15:vl(8,n,t);break;case 23:case 22:if(null!==n.memoizedState&&null!==n.memoizedState.cachePool){var r=n.memoizedState.cachePool.pool;null!=r&&r.refCount++}break;case 24:Bo(n.memoizedState.cache)}if(null!==(r=n.child))r.return=n,Ol=r;else e:for(n=e;null!==Ol;){var o=(r=Ol).sibling,a=r.return;if(Il(r),r===n){Ol=null;break e}if(null!==o){o.return=a,Ol=o;break e}Ol=a}}}var dc={getCacheForType:function(e){var t=Oo(Uo),n=t.data.get(e);return void 0===n&&(n=e(),t.data.set(e,n)),n},cacheSignal:function(){return Oo(Uo).controller.signal}},hc="function"===typeof WeakMap?WeakMap:Map,fc=0,pc=null,mc=null,gc=0,vc=0,yc=null,bc=!1,wc=!1,xc=!1,Sc=0,kc=0,_c=0,Ec=0,Cc=0,Ac=0,jc=0,Tc=null,Nc=null,Dc=!1,Pc=0,Oc=0,Rc=1/0,Ic=null,Mc=null,Fc=0,Lc=null,Uc=null,zc=0,Bc=0,qc=null,Vc=null,Wc=0,Hc=null;function Kc(){return 0!==(2&fc)&&0!==gc?gc&-gc:null!==R.T?qu():Le()}function Gc(){if(0===Ac)if(0===(536870912&gc)||ho){var e=_e;0===(3932160&(_e<<=1))&&(_e=262144),Ac=e}else Ac=536870912;return null!==(e=Oa.current)&&(e.flags|=32),Ac}function Qc(e,t,n){(e!==pc||2!==vc&&9!==vc)&&null===e.cancelPendingCommit||(tu(e,0),Jc(e,gc,Ac,!1)),Pe(e,n),0!==(2&fc)&&e===pc||(e===pc&&(0===(2&fc)&&(Ec|=n),4===kc&&Jc(e,gc,Ac,!1)),Iu(e))}function Yc(e,t,n){if(0!==(6&fc))throw Error(i(327));for(var r=!n&&0===(127&t)&&0===(t&e.expiredLanes)||je(e,t),o=r?function(e,t){var n=fc;fc|=2;var r=ou(),o=au();pc!==e||gc!==t?(Ic=null,Rc=le()+500,tu(e,t)):wc=je(e,t);e:for(;;)try{if(0!==vc&&null!==mc){t=mc;var a=yc;t:switch(vc){case 1:vc=0,yc=null,hu(e,t,a,1);break;case 2:case 9:if(na(a)){vc=0,yc=null,du(t);break}t=function(){2!==vc&&9!==vc||pc!==e||(vc=7),Iu(e)},a.then(t,t);break e;case 3:vc=7;break e;case 4:vc=5;break e;case 7:na(a)?(vc=0,yc=null,du(t)):(vc=0,yc=null,hu(e,t,a,7));break;case 5:var s=null;switch(mc.tag){case 26:s=mc.memoizedState;case 5:case 27:var l=mc;if(s?oh(s):l.stateNode.complete){vc=0,yc=null;var c=l.sibling;if(null!==c)mc=c;else{var u=l.return;null!==u?(mc=u,fu(u)):mc=null}break t}}vc=0,yc=null,hu(e,t,a,5);break;case 6:vc=0,yc=null,hu(e,t,a,6);break;case 8:eu(),kc=6;break e;default:throw Error(i(462))}}cu();break}catch(d){nu(e,d)}return Eo=_o=null,R.H=r,R.A=o,fc=n,null!==mc?0:(pc=null,gc=0,Nr(),kc)}(e,t):su(e,t,!0),a=r;;){if(0===o){wc&&!r&&Jc(e,t,0,!1);break}if(n=e.current.alternate,!a||Xc(n)){if(2===o){if(a=t,e.errorRecoveryDisabledLanes&a)var s=0;else s=0!==(s=-536870913&e.pendingLanes)?s:536870912&s?536870912:0;if(0!==s){t=s;e:{var l=e;o=Tc;var c=l.current.memoizedState.isDehydrated;if(c&&(tu(l,s).flags|=256),2!==(s=su(l,s,!1))){if(xc&&!c){l.errorRecoveryDisabledLanes|=a,Ec|=a,o=4;break e}a=Nc,Nc=o,null!==a&&(null===Nc?Nc=a:Nc.push.apply(Nc,a))}o=s}if(a=!1,2!==o)continue}}if(1===o){tu(e,0),Jc(e,t,0,!0);break}e:{switch(r=e,a=o){case 0:case 1:throw Error(i(345));case 4:if((4194048&t)!==t)break;case 6:Jc(r,t,Ac,!bc);break e;case 2:Nc=null;break;case 3:case 5:break;default:throw Error(i(329))}if((62914560&t)===t&&10<(o=Pc+300-le())){if(Jc(r,t,Ac,!bc),0!==Ae(r,0,!0))break e;zc=t,r.timeoutHandle=xd($c.bind(null,r,n,Nc,Ic,Dc,t,Ac,Ec,jc,bc,a,"Throttled",-0,0),o)}else $c(r,n,Nc,Ic,Dc,t,Ac,Ec,jc,bc,a,null,-0,0)}break}o=su(e,t,!1),a=!1}Iu(e)}function $c(e,t,n,r,o,a,i,s,l,c,u,d,h,f){if(e.timeoutHandle=-1,8192&(d=t.subtreeFlags)||16785408===(16785408&d)){ac(t,a,d={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Pt});var p=(62914560&a)===a?Pc-le():(4194048&a)===a?Oc-le():0;if(p=function(e,t){return e.stylesheets&&0===e.count&&lh(e,e.stylesheets),0<e.count||0<e.imgCount?function(n){var r=setTimeout(function(){if(e.stylesheets&&lh(e,e.stylesheets),e.unsuspend){var t=e.unsuspend;e.unsuspend=null,t()}},6e4+t);0<e.imgBytes&&0===ah&&(ah=62500*function(){if("function"===typeof performance.getEntriesByType){for(var e=0,t=0,n=performance.getEntriesByType("resource"),r=0;r<n.length;r++){var o=n[r],a=o.transferSize,i=o.initiatorType,s=o.duration;if(a&&s&&fd(i)){for(i=0,s=o.responseEnd,r+=1;r<n.length;r++){var l=n[r],c=l.startTime;if(c>s)break;var u=l.transferSize,d=l.initiatorType;u&&fd(d)&&(i+=u*((l=l.responseEnd)<s?1:(s-c)/(l-c)))}if(--r,t+=8*(a+i)/(o.duration/1e3),10<++e)break}}if(0<e)return t/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,"number"===typeof e)?e:5}());var o=setTimeout(function(){if(e.waitingForImages=!1,0===e.count&&(e.stylesheets&&lh(e,e.stylesheets),e.unsuspend)){var t=e.unsuspend;e.unsuspend=null,t()}},(e.imgBytes>ah?50:800)+t);return e.unsuspend=n,function(){e.unsuspend=null,clearTimeout(r),clearTimeout(o)}}:null}(d,p),null!==p)return zc=a,e.cancelPendingCommit=p(mu.bind(null,e,t,a,n,r,o,i,s,l,u,d,null,h,f)),void Jc(e,a,i,!c)}mu(e,t,a,n,r,o,i,s,l)}function Xc(e){for(var t=e;;){var n=t.tag;if((0===n||11===n||15===n)&&16384&t.flags&&(null!==(n=t.updateQueue)&&null!==(n=n.stores)))for(var r=0;r<n.length;r++){var o=n[r],a=o.getSnapshot;o=o.value;try{if(!Jn(a(),o))return!1}catch(i){return!1}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Jc(e,t,n,r){t&=~Cc,t&=~Ec,e.suspendedLanes|=t,e.pingedLanes&=~t,r&&(e.warmLanes|=t),r=e.expirationTimes;for(var o=t;0<o;){var a=31-we(o),i=1<<a;r[a]=-1,o&=~i}0!==n&&Oe(e,n,t)}function Zc(){return 0!==(6&fc)||(Mu(0,!1),!1)}function eu(){if(null!==mc){if(0===vc)var e=mc.return;else Eo=_o=null,si(e=mc),la=null,ca=0,e=mc;for(;null!==e;)ml(e.alternate,e),e=e.return;mc=null}}function tu(e,t){var n=e.timeoutHandle;-1!==n&&(e.timeoutHandle=-1,Sd(n)),null!==(n=e.cancelPendingCommit)&&(e.cancelPendingCommit=null,n()),zc=0,eu(),pc=e,mc=n=zr(e.current,null),gc=t,vc=0,yc=null,bc=!1,wc=je(e,t),xc=!1,jc=Ac=Cc=Ec=_c=kc=0,Nc=Tc=null,Dc=!1,0!==(8&t)&&(t|=32&t);var r=e.entangledLanes;if(0!==r)for(e=e.entanglements,r&=t;0<r;){var o=31-we(r),a=1<<o;t|=e[o],r&=~a}return Sc=t,Nr(),n}function nu(e,t){Va=null,R.H=ms,t===Jo||t===ea?(t=ia(),vc=3):t===Zo?(t=ia(),vc=4):vc=t===Ps?8:null!==t&&"object"===typeof t&&"function"===typeof t.then?6:1,yc=t,null===mc&&(kc=1,As(e,Qr(t,e.current)))}function ru(){var e=Oa.current;return null===e||((4194048&gc)===gc?null===Ra:((62914560&gc)===gc||0!==(536870912&gc))&&e===Ra)}function ou(){var e=R.H;return R.H=ms,null===e?ms:e}function au(){var e=R.A;return R.A=dc,e}function iu(){kc=4,bc||(4194048&gc)!==gc&&null!==Oa.current||(wc=!0),0===(134217727&_c)&&0===(134217727&Ec)||null===pc||Jc(pc,gc,Ac,!1)}function su(e,t,n){var r=fc;fc|=2;var o=ou(),a=au();pc===e&&gc===t||(Ic=null,tu(e,t)),t=!1;var i=kc;e:for(;;)try{if(0!==vc&&null!==mc){var s=mc,l=yc;switch(vc){case 8:eu(),i=6;break e;case 3:case 2:case 9:case 6:null===Oa.current&&(t=!0);var c=vc;if(vc=0,yc=null,hu(e,s,l,c),n&&wc){i=0;break e}break;default:c=vc,vc=0,yc=null,hu(e,s,l,c)}}lu(),i=kc;break}catch(u){nu(e,u)}return t&&e.shellSuspendCounter++,Eo=_o=null,fc=r,R.H=o,R.A=a,null===mc&&(pc=null,gc=0,Nr()),i}function lu(){for(;null!==mc;)uu(mc)}function cu(){for(;null!==mc&&!ie();)uu(mc)}function uu(e){var t=il(e.alternate,e,Sc);e.memoizedProps=e.pendingProps,null===t?fu(e):mc=t}function du(e){var t=e,n=t.alternate;switch(t.tag){case 15:case 0:t=Hs(n,t,t.pendingProps,t.type,void 0,gc);break;case 11:t=Hs(n,t,t.pendingProps,t.type.render,t.ref,gc);break;case 5:si(t);default:ml(n,t),t=il(n,t=mc=Br(t,Sc),Sc)}e.memoizedProps=e.pendingProps,null===t?fu(e):mc=t}function hu(e,t,n,r){Eo=_o=null,si(t),la=null,ca=0;var o=t.return;try{if(function(e,t,n,r,o){if(n.flags|=32768,null!==r&&"object"===typeof r&&"function"===typeof r.then){if(null!==(t=n.alternate)&&No(t,n,o,!0),null!==(n=Oa.current)){switch(n.tag){case 31:case 13:return null===Ra?iu():null===n.alternate&&0===kc&&(kc=3),n.flags&=-257,n.flags|=65536,n.lanes=o,r===ta?n.flags|=16384:(null===(t=n.updateQueue)?n.updateQueue=new Set([r]):t.add(r),_u(e,r,o)),!1;case 22:return n.flags|=65536,r===ta?n.flags|=16384:(null===(t=n.updateQueue)?(t={transitions:null,markerInstances:null,retryQueue:new Set([r])},n.updateQueue=t):null===(n=t.retryQueue)?t.retryQueue=new Set([r]):n.add(r),_u(e,r,o)),!1}throw Error(i(435,n.tag))}return _u(e,r,o),iu(),!1}if(ho)return null!==(t=Oa.current)?(0===(65536&t.flags)&&(t.flags|=256),t.flags|=65536,t.lanes=o,r!==mo&&So(Qr(e=Error(i(422),{cause:r}),n))):(r!==mo&&So(Qr(t=Error(i(423),{cause:r}),n)),(e=e.current.alternate).flags|=65536,o&=-o,e.lanes|=o,r=Qr(r,n),Sa(e,o=Ts(e.stateNode,r,o)),4!==kc&&(kc=2)),!1;var a=Error(i(520),{cause:r});if(a=Qr(a,n),null===Tc?Tc=[a]:Tc.push(a),4!==kc&&(kc=2),null===t)return!0;r=Qr(r,n),n=t;do{switch(n.tag){case 3:return n.flags|=65536,e=o&-o,n.lanes|=e,Sa(n,e=Ts(n.stateNode,r,e)),!1;case 1:if(t=n.type,a=n.stateNode,0===(128&n.flags)&&("function"===typeof t.getDerivedStateFromError||null!==a&&"function"===typeof a.componentDidCatch&&(null===Mc||!Mc.has(a))))return n.flags|=65536,o&=-o,n.lanes|=o,Ds(o=Ns(o),e,n,r),Sa(n,o),!1}n=n.return}while(null!==n);return!1}(e,o,t,n,gc))return kc=1,As(e,Qr(n,e.current)),void(mc=null)}catch(a){if(null!==o)throw mc=o,a;return kc=1,As(e,Qr(n,e.current)),void(mc=null)}32768&t.flags?(ho||1===r?e=!0:wc||0!==(536870912&gc)?e=!1:(bc=e=!0,(2===r||9===r||3===r||6===r)&&(null!==(r=Oa.current)&&13===r.tag&&(r.flags|=16384))),pu(t,e)):fu(t)}function fu(e){var t=e;do{if(0!==(32768&t.flags))return void pu(t,bc);e=t.return;var n=fl(t.alternate,t,Sc);if(null!==n)return void(mc=n);if(null!==(t=t.sibling))return void(mc=t);mc=t=e}while(null!==t);0===kc&&(kc=5)}function pu(e,t){do{var n=pl(e.alternate,e);if(null!==n)return n.flags&=32767,void(mc=n);if(null!==(n=e.return)&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!t&&null!==(e=e.sibling))return void(mc=e);mc=e=n}while(null!==e);kc=6,mc=null}function mu(e,t,n,r,o,a,s,l,c){e.cancelPendingCommit=null;do{wu()}while(0!==Fc);if(0!==(6&fc))throw Error(i(327));if(null!==t){if(t===e.current)throw Error(i(177));if(a=t.lanes|t.childLanes,function(e,t,n,r,o,a){var i=e.pendingLanes;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=n,e.entangledLanes&=n,e.errorRecoveryDisabledLanes&=n,e.shellSuspendCounter=0;var s=e.entanglements,l=e.expirationTimes,c=e.hiddenUpdates;for(n=i&~n;0<n;){var u=31-we(n),d=1<<u;s[u]=0,l[u]=-1;var h=c[u];if(null!==h)for(c[u]=null,u=0;u<h.length;u++){var f=h[u];null!==f&&(f.lane&=-536870913)}n&=~d}0!==r&&Oe(e,r,0),0!==a&&0===o&&0!==e.tag&&(e.suspendedLanes|=a&~(i&~t))}(e,n,a|=Tr,s,l,c),e===pc&&(mc=pc=null,gc=0),Uc=t,Lc=e,zc=n,Bc=a,qc=o,Vc=r,0!==(10256&t.subtreeFlags)||0!==(10256&t.flags)?(e.callbackNode=null,e.callbackPriority=0,oe(he,function(){return xu(),null})):(e.callbackNode=null,e.callbackPriority=0),r=0!==(13878&t.flags),0!==(13878&t.subtreeFlags)||r){r=R.T,R.T=null,o=I.p,I.p=2,s=fc,fc|=4;try{!function(e,t){if(e=e.containerInfo,pd=bh,or(e=rr(e))){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var o=r.anchorOffset,a=r.focusNode;r=r.focusOffset;try{n.nodeType,a.nodeType}catch(g){n=null;break e}var s=0,l=-1,c=-1,u=0,d=0,h=e,f=null;t:for(;;){for(var p;h!==n||0!==o&&3!==h.nodeType||(l=s+o),h!==a||0!==r&&3!==h.nodeType||(c=s+r),3===h.nodeType&&(s+=h.nodeValue.length),null!==(p=h.firstChild);)f=h,h=p;for(;;){if(h===e)break t;if(f===n&&++u===o&&(l=s),f===a&&++d===r&&(c=s),null!==(p=h.nextSibling))break;f=(h=f).parentNode}h=p}n=-1===l||-1===c?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(md={focusedElem:e,selectionRange:n},bh=!1,Ol=t;null!==Ol;)if(e=(t=Ol).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,Ol=e;else for(;null!==Ol;){switch(a=(t=Ol).alternate,e=t.flags,t.tag){case 0:if(0!==(4&e)&&null!==(e=null!==(e=t.updateQueue)?e.events:null))for(n=0;n<e.length;n++)(o=e[n]).ref.impl=o.nextImpl;break;case 11:case 15:case 5:case 26:case 27:case 6:case 4:case 17:break;case 1:if(0!==(1024&e)&&null!==a){e=void 0,n=t,o=a.memoizedProps,a=a.memoizedState,r=n.stateNode;try{var m=ks(n.type,o);e=r.getSnapshotBeforeUpdate(m,a),r.__reactInternalSnapshotBeforeUpdate=e}catch(v){ku(n,n.return,v)}}break;case 3:if(0!==(1024&e))if(9===(n=(e=t.stateNode.containerInfo).nodeType))Td(e);else if(1===n)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Td(e);break;default:e.textContent=""}break;default:if(0!==(1024&e))throw Error(i(163))}if(null!==(e=t.sibling)){e.return=t.return,Ol=e;break}Ol=t.return}}(e,t)}finally{fc=s,I.p=o,R.T=r}}Fc=1,gu(),vu(),yu()}}function gu(){if(1===Fc){Fc=0;var e=Lc,t=Uc,n=0!==(13878&t.flags);if(0!==(13878&t.subtreeFlags)||n){n=R.T,R.T=null;var r=I.p;I.p=2;var o=fc;fc|=4;try{Hl(t,e);var a=md,i=rr(e.containerInfo),s=a.focusedElem,l=a.selectionRange;if(i!==s&&s&&s.ownerDocument&&nr(s.ownerDocument.documentElement,s)){if(null!==l&&or(s)){var c=l.start,u=l.end;if(void 0===u&&(u=c),"selectionStart"in s)s.selectionStart=c,s.selectionEnd=Math.min(u,s.value.length);else{var d=s.ownerDocument||document,h=d&&d.defaultView||window;if(h.getSelection){var f=h.getSelection(),p=s.textContent.length,m=Math.min(l.start,p),g=void 0===l.end?m:Math.min(l.end,p);!f.extend&&m>g&&(i=g,g=m,m=i);var v=tr(s,m),y=tr(s,g);if(v&&y&&(1!==f.rangeCount||f.anchorNode!==v.node||f.anchorOffset!==v.offset||f.focusNode!==y.node||f.focusOffset!==y.offset)){var b=d.createRange();b.setStart(v.node,v.offset),f.removeAllRanges(),m>g?(f.addRange(b),f.extend(y.node,y.offset)):(b.setEnd(y.node,y.offset),f.addRange(b))}}}}for(d=[],f=s;f=f.parentNode;)1===f.nodeType&&d.push({element:f,left:f.scrollLeft,top:f.scrollTop});for("function"===typeof s.focus&&s.focus(),s=0;s<d.length;s++){var w=d[s];w.element.scrollLeft=w.left,w.element.scrollTop=w.top}}bh=!!pd,md=pd=null}finally{fc=o,I.p=r,R.T=n}}e.current=t,Fc=2}}function vu(){if(2===Fc){Fc=0;var e=Lc,t=Uc,n=0!==(8772&t.flags);if(0!==(8772&t.subtreeFlags)||n){n=R.T,R.T=null;var r=I.p;I.p=2;var o=fc;fc|=4;try{Rl(e,t.alternate,t)}finally{fc=o,I.p=r,R.T=n}}Fc=3}}function yu(){if(4===Fc||3===Fc){Fc=0,se();var e=Lc,t=Uc,n=zc,r=Vc;0!==(10256&t.subtreeFlags)||0!==(10256&t.flags)?Fc=5:(Fc=0,Uc=Lc=null,bu(e,e.pendingLanes));var o=e.pendingLanes;if(0===o&&(Mc=null),Fe(n),t=t.stateNode,ye&&"function"===typeof ye.onCommitFiberRoot)try{ye.onCommitFiberRoot(ve,t,void 0,128===(128&t.current.flags))}catch(l){}if(null!==r){t=R.T,o=I.p,I.p=2,R.T=null;try{for(var a=e.onRecoverableError,i=0;i<r.length;i++){var s=r[i];a(s.value,{componentStack:s.stack})}}finally{R.T=t,I.p=o}}0!==(3&zc)&&wu(),Iu(e),o=e.pendingLanes,0!==(261930&n)&&0!==(42&o)?e===Hc?Wc++:(Wc=0,Hc=e):Wc=0,Mu(0,!1)}}function bu(e,t){0===(e.pooledCacheLanes&=t)&&(null!=(t=e.pooledCache)&&(e.pooledCache=null,Bo(t)))}function wu(){return gu(),vu(),yu(),xu()}function xu(){if(5!==Fc)return!1;var e=Lc,t=Bc;Bc=0;var n=Fe(zc),r=R.T,o=I.p;try{I.p=32>n?32:n,R.T=null,n=qc,qc=null;var a=Lc,s=zc;if(Fc=0,Uc=Lc=null,zc=0,0!==(6&fc))throw Error(i(331));var l=fc;if(fc|=4,lc(a.current),ec(a,a.current,s,n),fc=l,Mu(0,!1),ye&&"function"===typeof ye.onPostCommitFiberRoot)try{ye.onPostCommitFiberRoot(ve,a)}catch(c){}return!0}finally{I.p=o,R.T=r,bu(e,t)}}function Su(e,t,n){t=Qr(n,t),null!==(e=wa(e,t=Ts(e.stateNode,t,2),2))&&(Pe(e,2),Iu(e))}function ku(e,t,n){if(3===e.tag)Su(e,e,n);else for(;null!==t;){if(3===t.tag){Su(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Mc||!Mc.has(r))){e=Qr(n,e),null!==(r=wa(t,n=Ns(2),2))&&(Ds(n,r,t,e),Pe(r,2),Iu(r));break}}t=t.return}}function _u(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new hc;var o=new Set;r.set(t,o)}else void 0===(o=r.get(t))&&(o=new Set,r.set(t,o));o.has(n)||(xc=!0,o.add(n),e=Eu.bind(null,e,t,n),t.then(e,e))}function Eu(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),e.pingedLanes|=e.suspendedLanes&n,e.warmLanes&=~n,pc===e&&(gc&n)===n&&(4===kc||3===kc&&(62914560&gc)===gc&&300>le()-Pc?0===(2&fc)&&tu(e,0):Cc|=n,jc===gc&&(jc=0)),Iu(e)}function Cu(e,t){0===t&&(t=Ne()),null!==(e=Or(e,t))&&(Pe(e,t),Iu(e))}function Au(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Cu(e,n)}function ju(e,t){var n=0;switch(e.tag){case 31:case 13:var r=e.stateNode,o=e.memoizedState;null!==o&&(n=o.retryLane);break;case 19:r=e.stateNode;break;case 22:r=e.stateNode._retryCache;break;default:throw Error(i(314))}null!==r&&r.delete(t),Cu(e,n)}var Tu=null,Nu=null,Du=!1,Pu=!1,Ou=!1,Ru=0;function Iu(e){e!==Nu&&null===e.next&&(null===Nu?Tu=Nu=e:Nu=Nu.next=e),Pu=!0,Du||(Du=!0,_d(function(){0!==(6&fc)?oe(ue,Fu):Lu()}))}function Mu(e,t){if(!Ou&&Pu){Ou=!0;do{for(var n=!1,r=Tu;null!==r;){if(!t)if(0!==e){var o=r.pendingLanes;if(0===o)var a=0;else{var i=r.suspendedLanes,s=r.pingedLanes;a=(1<<31-we(42|e)+1)-1,a=201326741&(a&=o&~(i&~s))?201326741&a|1:a?2|a:0}0!==a&&(n=!0,Bu(r,a))}else a=gc,0===(3&(a=Ae(r,r===pc?a:0,null!==r.cancelPendingCommit||-1!==r.timeoutHandle)))||je(r,a)||(n=!0,Bu(r,a));r=r.next}}while(n);Ou=!1}}function Fu(){Lu()}function Lu(){Pu=Du=!1;var e=0;0!==Ru&&function(){var e=window.event;if(e&&"popstate"===e.type)return e!==wd&&(wd=e,!0);return wd=null,!1}()&&(e=Ru);for(var t=le(),n=null,r=Tu;null!==r;){var o=r.next,a=Uu(r,t);0===a?(r.next=null,null===n?Tu=o:n.next=o,null===o&&(Nu=n)):(n=r,(0!==e||0!==(3&a))&&(Pu=!0)),r=o}0!==Fc&&5!==Fc||Mu(e,!1),0!==Ru&&(Ru=0)}function Uu(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,o=e.expirationTimes,a=-62914561&e.pendingLanes;0<a;){var i=31-we(a),s=1<<i,l=o[i];-1===l?0!==(s&n)&&0===(s&r)||(o[i]=Te(s,t)):l<=t&&(e.expiredLanes|=s),a&=~s}if(n=gc,n=Ae(e,e===(t=pc)?n:0,null!==e.cancelPendingCommit||-1!==e.timeoutHandle),r=e.callbackNode,0===n||e===t&&(2===vc||9===vc)||null!==e.cancelPendingCommit)return null!==r&&null!==r&&ae(r),e.callbackNode=null,e.callbackPriority=0;if(0===(3&n)||je(e,n)){if((t=n&-n)===e.callbackPriority)return t;switch(null!==r&&ae(r),Fe(n)){case 2:case 8:n=de;break;case 32:default:n=he;break;case 268435456:n=pe}return r=zu.bind(null,e),n=oe(n,r),e.callbackPriority=t,e.callbackNode=n,t}return null!==r&&null!==r&&ae(r),e.callbackPriority=2,e.callbackNode=null,2}function zu(e,t){if(0!==Fc&&5!==Fc)return e.callbackNode=null,e.callbackPriority=0,null;var n=e.callbackNode;if(wu()&&e.callbackNode!==n)return null;var r=gc;return 0===(r=Ae(e,e===pc?r:0,null!==e.cancelPendingCommit||-1!==e.timeoutHandle))?null:(Yc(e,r,t),Uu(e,le()),null!=e.callbackNode&&e.callbackNode===n?zu.bind(null,e):null)}function Bu(e,t){if(wu())return null;Yc(e,t,!0)}function qu(){if(0===Ru){var e=Wo;0===e&&(e=ke,0===(261888&(ke<<=1))&&(ke=256)),Ru=e}return Ru}function Vu(e){return null==e||"symbol"===typeof e||"boolean"===typeof e?null:"function"===typeof e?e:Dt(""+e)}function Wu(e,t){var n=t.ownerDocument.createElement("input");return n.name=t.name,n.value=t.value,e.id&&n.setAttribute("form",e.id),t.parentNode.insertBefore(n,t),e=new FormData(e),n.parentNode.removeChild(n),e}for(var Hu=0;Hu<_r.length;Hu++){var Ku=_r[Hu];Er(Ku.toLowerCase(),"on"+(Ku[0].toUpperCase()+Ku.slice(1)))}Er(gr,"onAnimationEnd"),Er(vr,"onAnimationIteration"),Er(yr,"onAnimationStart"),Er("dblclick","onDoubleClick"),Er("focusin","onFocus"),Er("focusout","onBlur"),Er(br,"onTransitionRun"),Er(wr,"onTransitionStart"),Er(xr,"onTransitionCancel"),Er(Sr,"onTransitionEnd"),ot("onMouseEnter",["mouseout","mouseover"]),ot("onMouseLeave",["mouseout","mouseover"]),ot("onPointerEnter",["pointerout","pointerover"]),ot("onPointerLeave",["pointerout","pointerover"]),rt("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),rt("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),rt("onBeforeInput",["compositionend","keypress","textInput","paste"]),rt("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),rt("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),rt("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Gu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Qu=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Gu));function Yu(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],o=r.event;r=r.listeners;e:{var a=void 0;if(t)for(var i=r.length-1;0<=i;i--){var s=r[i],l=s.instance,c=s.currentTarget;if(s=s.listener,l!==a&&o.isPropagationStopped())break e;a=s,o.currentTarget=c;try{a(o)}catch(u){Cr(u)}o.currentTarget=null,a=l}else for(i=0;i<r.length;i++){if(l=(s=r[i]).instance,c=s.currentTarget,s=s.listener,l!==a&&o.isPropagationStopped())break e;a=s,o.currentTarget=c;try{a(o)}catch(u){Cr(u)}o.currentTarget=null,a=l}}}}function $u(e,t){var n=t[We];void 0===n&&(n=t[We]=new Set);var r=e+"__bubble";n.has(r)||(ed(t,e,2,!1),n.add(r))}function Xu(e,t,n){var r=0;t&&(r|=4),ed(n,e,r,t)}var Ju="_reactListening"+Math.random().toString(36).slice(2);function Zu(e){if(!e[Ju]){e[Ju]=!0,tt.forEach(function(t){"selectionchange"!==t&&(Qu.has(t)||Xu(t,!1,e),Xu(t,!0,e))});var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Ju]||(t[Ju]=!0,Xu("selectionchange",!1,t))}}function ed(e,t,n,r){switch(Ch(t)){case 2:var o=wh;break;case 8:o=xh;break;default:o=Sh}n=o.bind(null,t,n,e),o=void 0,!qt||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(o=!0),r?void 0!==o?e.addEventListener(t,n,{capture:!0,passive:o}):e.addEventListener(t,n,!0):void 0!==o?e.addEventListener(t,n,{passive:o}):e.addEventListener(t,n,!1)}function td(e,t,n,r,o){var a=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var i=r.tag;if(3===i||4===i){var s=r.stateNode.containerInfo;if(s===o)break;if(4===i)for(i=r.return;null!==i;){var c=i.tag;if((3===c||4===c)&&i.stateNode.containerInfo===o)return;i=i.return}for(;null!==s;){if(null===(i=$e(s)))return;if(5===(c=i.tag)||6===c||26===c||27===c){r=a=i;continue e}s=s.parentNode}}r=r.return}Ut(function(){var r=a,o=Rt(n),i=[];e:{var s=kr.get(e);if(void 0!==s){var c=nn,u=e;switch(e){case"keypress":if(0===Qt(n))break e;case"keydown":case"keyup":c=yn;break;case"focusin":u="focus",c=cn;break;case"focusout":u="blur",c=cn;break;case"beforeblur":case"afterblur":c=cn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":c=sn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":c=ln;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":c=wn;break;case gr:case vr:case yr:c=un;break;case Sr:c=xn;break;case"scroll":case"scrollend":c=on;break;case"wheel":c=Sn;break;case"copy":case"cut":case"paste":c=dn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":c=bn;break;case"toggle":case"beforetoggle":c=kn}var d=0!==(4&t),h=!d&&("scroll"===e||"scrollend"===e),f=d?null!==s?s+"Capture":null:s;d=[];for(var p,m=r;null!==m;){var g=m;if(p=g.stateNode,5!==(g=g.tag)&&26!==g&&27!==g||null===p||null===f||null!=(g=zt(m,f))&&d.push(nd(m,g,p)),h)break;m=m.return}0<d.length&&(s=new c(s,u,null,n,o),i.push({event:s,listeners:d}))}}if(0===(7&t)){if(c="mouseout"===e||"pointerout"===e,(!(s="mouseover"===e||"pointerover"===e)||n===Ot||!(u=n.relatedTarget||n.fromElement)||!$e(u)&&!u[Ve])&&(c||s)&&(s=o.window===o?o:(s=o.ownerDocument)?s.defaultView||s.parentWindow:window,c?(c=r,null!==(u=(u=n.relatedTarget||n.toElement)?$e(u):null)&&(h=l(u),d=u.tag,u!==h||5!==d&&27!==d&&6!==d)&&(u=null)):(c=null,u=r),c!==u)){if(d=sn,g="onMouseLeave",f="onMouseEnter",m="mouse","pointerout"!==e&&"pointerover"!==e||(d=bn,g="onPointerLeave",f="onPointerEnter",m="pointer"),h=null==c?s:Je(c),p=null==u?s:Je(u),(s=new d(g,m+"leave",c,n,o)).target=h,s.relatedTarget=p,g=null,$e(o)===r&&((d=new d(f,m+"enter",u,n,o)).target=p,d.relatedTarget=h,g=d),h=g,c&&u)e:{for(d=od,m=u,p=0,g=f=c;g;g=d(g))p++;g=0;for(var v=m;v;v=d(v))g++;for(;0<p-g;)f=d(f),p--;for(;0<g-p;)m=d(m),g--;for(;p--;){if(f===m||null!==m&&f===m.alternate){d=f;break e}f=d(f),m=d(m)}d=null}else d=null;null!==c&&ad(i,s,c,d,!1),null!==u&&null!==h&&ad(i,h,u,d,!0)}if("select"===(c=(s=r?Je(r):window).nodeName&&s.nodeName.toLowerCase())||"input"===c&&"file"===s.type)var y=Bn;else if(In(s))if(qn)y=Xn;else{y=Yn;var b=Qn}else!(c=s.nodeName)||"input"!==c.toLowerCase()||"checkbox"!==s.type&&"radio"!==s.type?r&&jt(r.elementType)&&(y=Bn):y=$n;switch(y&&(y=y(e,r))?Mn(i,y,n,o):(b&&b(e,s,r),"focusout"===e&&r&&"number"===s.type&&null!=r.memoizedProps.value&&wt(s,"number",s.value)),b=r?Je(r):window,e){case"focusin":(In(b)||"true"===b.contentEditable)&&(ir=b,sr=r,lr=null);break;case"focusout":lr=sr=ir=null;break;case"mousedown":cr=!0;break;case"contextmenu":case"mouseup":case"dragend":cr=!1,ur(i,n,o);break;case"selectionchange":if(ar)break;case"keydown":case"keyup":ur(i,n,o)}var w;if(En)e:{switch(e){case"compositionstart":var x="onCompositionStart";break e;case"compositionend":x="onCompositionEnd";break e;case"compositionupdate":x="onCompositionUpdate";break e}x=void 0}else On?Dn(e,n)&&(x="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(x="onCompositionStart");x&&(jn&&"ko"!==n.locale&&(On||"onCompositionStart"!==x?"onCompositionEnd"===x&&On&&(w=Gt()):(Ht="value"in(Wt=o)?Wt.value:Wt.textContent,On=!0)),0<(b=rd(r,x)).length&&(x=new hn(x,e,null,n,o),i.push({event:x,listeners:b}),w?x.data=w:null!==(w=Pn(n))&&(x.data=w))),(w=An?function(e,t){switch(e){case"compositionend":return Pn(t);case"keypress":return 32!==t.which?null:(Nn=!0,Tn);case"textInput":return(e=t.data)===Tn&&Nn?null:e;default:return null}}(e,n):function(e,t){if(On)return"compositionend"===e||!En&&Dn(e,t)?(e=Gt(),Kt=Ht=Wt=null,On=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return jn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(x=rd(r,"onBeforeInput")).length&&(b=new hn("onBeforeInput","beforeinput",null,n,o),i.push({event:b,listeners:x}),b.data=w)),function(e,t,n,r,o){if("submit"===t&&n&&n.stateNode===o){var a=Vu((o[qe]||null).action),i=r.submitter;i&&null!==(t=(t=i[qe]||null)?Vu(t.formAction):i.getAttribute("formAction"))&&(a=t,i=null);var s=new nn("action","action",null,r,o);e.push({event:s,listeners:[{instance:null,listener:function(){if(r.defaultPrevented){if(0!==Ru){var e=i?Wu(o,i):new FormData(o);ts(n,{pending:!0,data:e,method:o.method,action:a},null,e)}}else"function"===typeof a&&(s.preventDefault(),e=i?Wu(o,i):new FormData(o),ts(n,{pending:!0,data:e,method:o.method,action:a},a,e))},currentTarget:o}]})}}(i,e,r,n,o)}Yu(i,t)})}function nd(e,t,n){return{instance:e,listener:t,currentTarget:n}}function rd(e,t){for(var n=t+"Capture",r=[];null!==e;){var o=e,a=o.stateNode;if(5!==(o=o.tag)&&26!==o&&27!==o||null===a||(null!=(o=zt(e,n))&&r.unshift(nd(e,o,a)),null!=(o=zt(e,t))&&r.push(nd(e,o,a))),3===e.tag)return r;e=e.return}return[]}function od(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag&&27!==e.tag);return e||null}function ad(e,t,n,r,o){for(var a=t._reactName,i=[];null!==n&&n!==r;){var s=n,l=s.alternate,c=s.stateNode;if(s=s.tag,null!==l&&l===r)break;5!==s&&26!==s&&27!==s||null===c||(l=c,o?null!=(c=zt(n,a))&&i.unshift(nd(n,c,l)):o||null!=(c=zt(n,a))&&i.push(nd(n,c,l))),n=n.return}0!==i.length&&e.push({event:t,listeners:i})}var id=/\r\n?/g,sd=/\u0000|\uFFFD/g;function ld(e){return("string"===typeof e?e:""+e).replace(id,"\n").replace(sd,"")}function cd(e,t){return t=ld(t),ld(e)===t}function ud(e,t,n,r,o,a){switch(n){case"children":"string"===typeof r?"body"===t||"textarea"===t&&""===r||_t(e,r):("number"===typeof r||"bigint"===typeof r)&&"body"!==t&&_t(e,""+r);break;case"className":ct(e,"class",r);break;case"tabIndex":ct(e,"tabindex",r);break;case"dir":case"role":case"viewBox":case"width":case"height":ct(e,n,r);break;case"style":At(e,r,a);break;case"data":if("object"!==t){ct(e,"data",r);break}case"src":case"href":if(""===r&&("a"!==t||"href"!==n)){e.removeAttribute(n);break}if(null==r||"function"===typeof r||"symbol"===typeof r||"boolean"===typeof r){e.removeAttribute(n);break}r=Dt(""+r),e.setAttribute(n,r);break;case"action":case"formAction":if("function"===typeof r){e.setAttribute(n,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}if("function"===typeof a&&("formAction"===n?("input"!==t&&ud(e,t,"name",o.name,o,null),ud(e,t,"formEncType",o.formEncType,o,null),ud(e,t,"formMethod",o.formMethod,o,null),ud(e,t,"formTarget",o.formTarget,o,null)):(ud(e,t,"encType",o.encType,o,null),ud(e,t,"method",o.method,o,null),ud(e,t,"target",o.target,o,null))),null==r||"symbol"===typeof r||"boolean"===typeof r){e.removeAttribute(n);break}r=Dt(""+r),e.setAttribute(n,r);break;case"onClick":null!=r&&(e.onclick=Pt);break;case"onScroll":null!=r&&$u("scroll",e);break;case"onScrollEnd":null!=r&&$u("scrollend",e);break;case"dangerouslySetInnerHTML":if(null!=r){if("object"!==typeof r||!("__html"in r))throw Error(i(61));if(null!=(n=r.__html)){if(null!=o.children)throw Error(i(60));e.innerHTML=n}}break;case"multiple":e.multiple=r&&"function"!==typeof r&&"symbol"!==typeof r;break;case"muted":e.muted=r&&"function"!==typeof r&&"symbol"!==typeof r;break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":case"autoFocus":break;case"xlinkHref":if(null==r||"function"===typeof r||"boolean"===typeof r||"symbol"===typeof r){e.removeAttribute("xlink:href");break}n=Dt(""+r),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":null!=r&&"function"!==typeof r&&"symbol"!==typeof r?e.setAttribute(n,""+r):e.removeAttribute(n);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":r&&"function"!==typeof r&&"symbol"!==typeof r?e.setAttribute(n,""):e.removeAttribute(n);break;case"capture":case"download":!0===r?e.setAttribute(n,""):!1!==r&&null!=r&&"function"!==typeof r&&"symbol"!==typeof r?e.setAttribute(n,r):e.removeAttribute(n);break;case"cols":case"rows":case"size":case"span":null!=r&&"function"!==typeof r&&"symbol"!==typeof r&&!isNaN(r)&&1<=r?e.setAttribute(n,r):e.removeAttribute(n);break;case"rowSpan":case"start":null==r||"function"===typeof r||"symbol"===typeof r||isNaN(r)?e.removeAttribute(n):e.setAttribute(n,r);break;case"popover":$u("beforetoggle",e),$u("toggle",e),lt(e,"popover",r);break;case"xlinkActuate":ut(e,"http://www.w3.org/1999/xlink","xlink:actuate",r);break;case"xlinkArcrole":ut(e,"http://www.w3.org/1999/xlink","xlink:arcrole",r);break;case"xlinkRole":ut(e,"http://www.w3.org/1999/xlink","xlink:role",r);break;case"xlinkShow":ut(e,"http://www.w3.org/1999/xlink","xlink:show",r);break;case"xlinkTitle":ut(e,"http://www.w3.org/1999/xlink","xlink:title",r);break;case"xlinkType":ut(e,"http://www.w3.org/1999/xlink","xlink:type",r);break;case"xmlBase":ut(e,"http://www.w3.org/XML/1998/namespace","xml:base",r);break;case"xmlLang":ut(e,"http://www.w3.org/XML/1998/namespace","xml:lang",r);break;case"xmlSpace":ut(e,"http://www.w3.org/XML/1998/namespace","xml:space",r);break;case"is":lt(e,"is",r);break;case"innerText":case"textContent":break;default:(!(2<n.length)||"o"!==n[0]&&"O"!==n[0]||"n"!==n[1]&&"N"!==n[1])&&lt(e,n=Tt.get(n)||n,r)}}function dd(e,t,n,r,o,a){switch(n){case"style":At(e,r,a);break;case"dangerouslySetInnerHTML":if(null!=r){if("object"!==typeof r||!("__html"in r))throw Error(i(61));if(null!=(n=r.__html)){if(null!=o.children)throw Error(i(60));e.innerHTML=n}}break;case"children":"string"===typeof r?_t(e,r):("number"===typeof r||"bigint"===typeof r)&&_t(e,""+r);break;case"onScroll":null!=r&&$u("scroll",e);break;case"onScrollEnd":null!=r&&$u("scrollend",e);break;case"onClick":null!=r&&(e.onclick=Pt);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":case"innerText":case"textContent":break;default:nt.hasOwnProperty(n)||("o"!==n[0]||"n"!==n[1]||(o=n.endsWith("Capture"),t=n.slice(2,o?n.length-7:void 0),"function"===typeof(a=null!=(a=e[qe]||null)?a[n]:null)&&e.removeEventListener(t,a,o),"function"!==typeof r)?n in e?e[n]=r:!0===r?e.setAttribute(n,""):lt(e,n,r):("function"!==typeof a&&null!==a&&(n in e?e[n]=null:e.hasAttribute(n)&&e.removeAttribute(n)),e.addEventListener(t,r,o)))}}function hd(e,t,n){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":$u("error",e),$u("load",e);var r,o=!1,a=!1;for(r in n)if(n.hasOwnProperty(r)){var s=n[r];if(null!=s)switch(r){case"src":o=!0;break;case"srcSet":a=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,t));default:ud(e,t,r,s,n,null)}}return a&&ud(e,t,"srcSet",n.srcSet,n,null),void(o&&ud(e,t,"src",n.src,n,null));case"input":$u("invalid",e);var l=r=s=a=null,c=null,u=null;for(o in n)if(n.hasOwnProperty(o)){var d=n[o];if(null!=d)switch(o){case"name":a=d;break;case"type":s=d;break;case"checked":c=d;break;case"defaultChecked":u=d;break;case"value":r=d;break;case"defaultValue":l=d;break;case"children":case"dangerouslySetInnerHTML":if(null!=d)throw Error(i(137,t));break;default:ud(e,t,o,d,n,null)}}return void bt(e,r,l,c,u,s,a,!1);case"select":for(a in $u("invalid",e),o=s=r=null,n)if(n.hasOwnProperty(a)&&null!=(l=n[a]))switch(a){case"value":r=l;break;case"defaultValue":s=l;break;case"multiple":o=l;default:ud(e,t,a,l,n,null)}return t=r,n=s,e.multiple=!!o,void(null!=t?xt(e,!!o,t,!1):null!=n&&xt(e,!!o,n,!0));case"textarea":for(s in $u("invalid",e),r=a=o=null,n)if(n.hasOwnProperty(s)&&null!=(l=n[s]))switch(s){case"value":o=l;break;case"defaultValue":a=l;break;case"children":r=l;break;case"dangerouslySetInnerHTML":if(null!=l)throw Error(i(91));break;default:ud(e,t,s,l,n,null)}return void kt(e,o,a,r);case"option":for(c in n)if(n.hasOwnProperty(c)&&null!=(o=n[c]))if("selected"===c)e.selected=o&&"function"!==typeof o&&"symbol"!==typeof o;else ud(e,t,c,o,n,null);return;case"dialog":$u("beforetoggle",e),$u("toggle",e),$u("cancel",e),$u("close",e);break;case"iframe":case"object":$u("load",e);break;case"video":case"audio":for(o=0;o<Gu.length;o++)$u(Gu[o],e);break;case"image":$u("error",e),$u("load",e);break;case"details":$u("toggle",e);break;case"embed":case"source":case"link":$u("error",e),$u("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(u in n)if(n.hasOwnProperty(u)&&null!=(o=n[u]))switch(u){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,t));default:ud(e,t,u,o,n,null)}return;default:if(jt(t)){for(d in n)n.hasOwnProperty(d)&&(void 0!==(o=n[d])&&dd(e,t,d,o,n,void 0));return}}for(l in n)n.hasOwnProperty(l)&&(null!=(o=n[l])&&ud(e,t,l,o,n,null))}function fd(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}var pd=null,md=null;function gd(e){return 9===e.nodeType?e:e.ownerDocument}function vd(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function yd(e,t){if(0===e)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return 1===e&&"foreignObject"===t?0:e}function bd(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"bigint"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var wd=null;var xd="function"===typeof setTimeout?setTimeout:void 0,Sd="function"===typeof clearTimeout?clearTimeout:void 0,kd="function"===typeof Promise?Promise:void 0,_d="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof kd?function(e){return kd.resolve(null).then(e).catch(Ed)}:xd;function Ed(e){setTimeout(function(){throw e})}function Cd(e){return"head"===e}function Ad(e,t){var n=t,r=0;do{var o=n.nextSibling;if(e.removeChild(n),o&&8===o.nodeType)if("/$"===(n=o.data)||"/&"===n){if(0===r)return e.removeChild(o),void Wh(t);r--}else if("$"===n||"$?"===n||"$~"===n||"$!"===n||"&"===n)r++;else if("html"===n)Ld(e.ownerDocument.documentElement);else if("head"===n){Ld(n=e.ownerDocument.head);for(var a=n.firstChild;a;){var i=a.nextSibling,s=a.nodeName;a[Qe]||"SCRIPT"===s||"STYLE"===s||"LINK"===s&&"stylesheet"===a.rel.toLowerCase()||n.removeChild(a),a=i}}else"body"===n&&Ld(e.ownerDocument.body);n=o}while(n);Wh(t)}function jd(e,t){var n=e;e=0;do{var r=n.nextSibling;if(1===n.nodeType?t?(n._stashedDisplay=n.style.display,n.style.display="none"):(n.style.display=n._stashedDisplay||"",""===n.getAttribute("style")&&n.removeAttribute("style")):3===n.nodeType&&(t?(n._stashedText=n.nodeValue,n.nodeValue=""):n.nodeValue=n._stashedText||""),r&&8===r.nodeType)if("/$"===(n=r.data)){if(0===e)break;e--}else"$"!==n&&"$?"!==n&&"$~"!==n&&"$!"!==n||e++;n=r}while(n)}function Td(e){var t=e.firstChild;for(t&&10===t.nodeType&&(t=t.nextSibling);t;){var n=t;switch(t=t.nextSibling,n.nodeName){case"HTML":case"HEAD":case"BODY":Td(n),Ye(n);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if("stylesheet"===n.rel.toLowerCase())continue}e.removeChild(n)}}function Nd(e,t){for(;8!==e.nodeType;){if((1!==e.nodeType||"INPUT"!==e.nodeName||"hidden"!==e.type)&&!t)return null;if(null===(e=Od(e.nextSibling)))return null}return e}function Dd(e){return"$?"===e.data||"$~"===e.data}function Pd(e){return"$!"===e.data||"$?"===e.data&&"loading"!==e.ownerDocument.readyState}function Od(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t||"$~"===t||"&"===t||"F!"===t||"F"===t)break;if("/$"===t||"/&"===t)return null}}return e}var Rd=null;function Id(e){e=e.nextSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n||"/&"===n){if(0===t)return Od(e.nextSibling);t--}else"$"!==n&&"$!"!==n&&"$?"!==n&&"$~"!==n&&"&"!==n||t++}e=e.nextSibling}return null}function Md(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n||"$~"===n||"&"===n){if(0===t)return e;t--}else"/$"!==n&&"/&"!==n||t++}e=e.previousSibling}return null}function Fd(e,t,n){switch(t=gd(n),e){case"html":if(!(e=t.documentElement))throw Error(i(452));return e;case"head":if(!(e=t.head))throw Error(i(453));return e;case"body":if(!(e=t.body))throw Error(i(454));return e;default:throw Error(i(451))}}function Ld(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);Ye(e)}var Ud=new Map,zd=new Set;function Bd(e){return"function"===typeof e.getRootNode?e.getRootNode():9===e.nodeType?e:e.ownerDocument}var qd=I.d;I.d={f:function(){var e=qd.f(),t=Zc();return e||t},r:function(e){var t=Xe(e);null!==t&&5===t.tag&&"form"===t.type?rs(t):qd.r(e)},D:function(e){qd.D(e),Wd("dns-prefetch",e,null)},C:function(e,t){qd.C(e,t),Wd("preconnect",e,t)},L:function(e,t,n){qd.L(e,t,n);var r=Vd;if(r&&e&&t){var o='link[rel="preload"][as="'+vt(t)+'"]';"image"===t&&n&&n.imageSrcSet?(o+='[imagesrcset="'+vt(n.imageSrcSet)+'"]',"string"===typeof n.imageSizes&&(o+='[imagesizes="'+vt(n.imageSizes)+'"]')):o+='[href="'+vt(e)+'"]';var a=o;switch(t){case"style":a=Kd(e);break;case"script":a=Yd(e)}Ud.has(a)||(e=f({rel:"preload",href:"image"===t&&n&&n.imageSrcSet?void 0:e,as:t},n),Ud.set(a,e),null!==r.querySelector(o)||"style"===t&&r.querySelector(Gd(a))||"script"===t&&r.querySelector($d(a))||(hd(t=r.createElement("link"),"link",e),et(t),r.head.appendChild(t)))}},m:function(e,t){qd.m(e,t);var n=Vd;if(n&&e){var r=t&&"string"===typeof t.as?t.as:"script",o='link[rel="modulepreload"][as="'+vt(r)+'"][href="'+vt(e)+'"]',a=o;switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":a=Yd(e)}if(!Ud.has(a)&&(e=f({rel:"modulepreload",href:e},t),Ud.set(a,e),null===n.querySelector(o))){switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(n.querySelector($d(a)))return}hd(r=n.createElement("link"),"link",e),et(r),n.head.appendChild(r)}}},X:function(e,t){qd.X(e,t);var n=Vd;if(n&&e){var r=Ze(n).hoistableScripts,o=Yd(e),a=r.get(o);a||((a=n.querySelector($d(o)))||(e=f({src:e,async:!0},t),(t=Ud.get(o))&&eh(e,t),et(a=n.createElement("script")),hd(a,"link",e),n.head.appendChild(a)),a={type:"script",instance:a,count:1,state:null},r.set(o,a))}},S:function(e,t,n){qd.S(e,t,n);var r=Vd;if(r&&e){var o=Ze(r).hoistableStyles,a=Kd(e);t=t||"default";var i=o.get(a);if(!i){var s={loading:0,preload:null};if(i=r.querySelector(Gd(a)))s.loading=5;else{e=f({rel:"stylesheet",href:e,"data-precedence":t},n),(n=Ud.get(a))&&Zd(e,n);var l=i=r.createElement("link");et(l),hd(l,"link",e),l._p=new Promise(function(e,t){l.onload=e,l.onerror=t}),l.addEventListener("load",function(){s.loading|=1}),l.addEventListener("error",function(){s.loading|=2}),s.loading|=4,Jd(i,t,r)}i={type:"stylesheet",instance:i,count:1,state:s},o.set(a,i)}}},M:function(e,t){qd.M(e,t);var n=Vd;if(n&&e){var r=Ze(n).hoistableScripts,o=Yd(e),a=r.get(o);a||((a=n.querySelector($d(o)))||(e=f({src:e,async:!0,type:"module"},t),(t=Ud.get(o))&&eh(e,t),et(a=n.createElement("script")),hd(a,"link",e),n.head.appendChild(a)),a={type:"script",instance:a,count:1,state:null},r.set(o,a))}}};var Vd="undefined"===typeof document?null:document;function Wd(e,t,n){var r=Vd;if(r&&"string"===typeof t&&t){var o=vt(t);o='link[rel="'+e+'"][href="'+o+'"]',"string"===typeof n&&(o+='[crossorigin="'+n+'"]'),zd.has(o)||(zd.add(o),e={rel:e,crossOrigin:n,href:t},null===r.querySelector(o)&&(hd(t=r.createElement("link"),"link",e),et(t),r.head.appendChild(t)))}}function Hd(e,t,n,r){var o,a,s,l,c=(c=K.current)?Bd(c):null;if(!c)throw Error(i(446));switch(e){case"meta":case"title":return null;case"style":return"string"===typeof n.precedence&&"string"===typeof n.href?(t=Kd(n.href),(r=(n=Ze(c).hoistableStyles).get(t))||(r={type:"style",instance:null,count:0,state:null},n.set(t,r)),r):{type:"void",instance:null,count:0,state:null};case"link":if("stylesheet"===n.rel&&"string"===typeof n.href&&"string"===typeof n.precedence){e=Kd(n.href);var u=Ze(c).hoistableStyles,d=u.get(e);if(d||(c=c.ownerDocument||c,d={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},u.set(e,d),(u=c.querySelector(Gd(e)))&&!u._p&&(d.instance=u,d.state.loading=5),Ud.has(e)||(n={rel:"preload",as:"style",href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},Ud.set(e,n),u||(o=c,a=e,s=n,l=d.state,o.querySelector('link[rel="preload"][as="style"]['+a+"]")?l.loading=1:(a=o.createElement("link"),l.preload=a,a.addEventListener("load",function(){return l.loading|=1}),a.addEventListener("error",function(){return l.loading|=2}),hd(a,"link",s),et(a),o.head.appendChild(a))))),t&&null===r)throw Error(i(528,""));return d}if(t&&null!==r)throw Error(i(529,""));return null;case"script":return t=n.async,"string"===typeof(n=n.src)&&t&&"function"!==typeof t&&"symbol"!==typeof t?(t=Yd(n),(r=(n=Ze(c).hoistableScripts).get(t))||(r={type:"script",instance:null,count:0,state:null},n.set(t,r)),r):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,e))}}function Kd(e){return'href="'+vt(e)+'"'}function Gd(e){return'link[rel="stylesheet"]['+e+"]"}function Qd(e){return f({},e,{"data-precedence":e.precedence,precedence:null})}function Yd(e){return'[src="'+vt(e)+'"]'}function $d(e){return"script[async]"+e}function Xd(e,t,n){if(t.count++,null===t.instance)switch(t.type){case"style":var r=e.querySelector('style[data-href~="'+vt(n.href)+'"]');if(r)return t.instance=r,et(r),r;var o=f({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return et(r=(e.ownerDocument||e).createElement("style")),hd(r,"style",o),Jd(r,n.precedence,e),t.instance=r;case"stylesheet":o=Kd(n.href);var a=e.querySelector(Gd(o));if(a)return t.state.loading|=4,t.instance=a,et(a),a;r=Qd(n),(o=Ud.get(o))&&Zd(r,o),et(a=(e.ownerDocument||e).createElement("link"));var s=a;return s._p=new Promise(function(e,t){s.onload=e,s.onerror=t}),hd(a,"link",r),t.state.loading|=4,Jd(a,n.precedence,e),t.instance=a;case"script":return a=Yd(n.src),(o=e.querySelector($d(a)))?(t.instance=o,et(o),o):(r=n,(o=Ud.get(a))&&eh(r=f({},n),o),et(o=(e=e.ownerDocument||e).createElement("script")),hd(o,"link",r),e.head.appendChild(o),t.instance=o);case"void":return null;default:throw Error(i(443,t.type))}else"stylesheet"===t.type&&0===(4&t.state.loading)&&(r=t.instance,t.state.loading|=4,Jd(r,n.precedence,e));return t.instance}function Jd(e,t,n){for(var r=n.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),o=r.length?r[r.length-1]:null,a=o,i=0;i<r.length;i++){var s=r[i];if(s.dataset.precedence===t)a=s;else if(a!==o)break}a?a.parentNode.insertBefore(e,a.nextSibling):(t=9===n.nodeType?n.head:n).insertBefore(e,t.firstChild)}function Zd(e,t){null==e.crossOrigin&&(e.crossOrigin=t.crossOrigin),null==e.referrerPolicy&&(e.referrerPolicy=t.referrerPolicy),null==e.title&&(e.title=t.title)}function eh(e,t){null==e.crossOrigin&&(e.crossOrigin=t.crossOrigin),null==e.referrerPolicy&&(e.referrerPolicy=t.referrerPolicy),null==e.integrity&&(e.integrity=t.integrity)}var th=null;function nh(e,t,n){if(null===th){var r=new Map,o=th=new Map;o.set(n,r)}else(r=(o=th).get(n))||(r=new Map,o.set(n,r));if(r.has(e))return r;for(r.set(e,null),n=n.getElementsByTagName(e),o=0;o<n.length;o++){var a=n[o];if(!(a[Qe]||a[Be]||"link"===e&&"stylesheet"===a.getAttribute("rel"))&&"http://www.w3.org/2000/svg"!==a.namespaceURI){var i=a.getAttribute(t)||"";i=e+i;var s=r.get(i);s?s.push(a):r.set(i,[a])}}return r}function rh(e,t,n){(e=e.ownerDocument||e).head.insertBefore(n,"title"===t?e.querySelector("head > title"):null)}function oh(e){return"stylesheet"!==e.type||0!==(3&e.state.loading)}var ah=0;function ih(){if(this.count--,0===this.count&&(0===this.imgCount||!this.waitingForImages))if(this.stylesheets)lh(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}var sh=null;function lh(e,t){e.stylesheets=null,null!==e.unsuspend&&(e.count++,sh=new Map,t.forEach(ch,e),sh=null,ih.call(e))}function ch(e,t){if(!(4&t.state.loading)){var n=sh.get(e);if(n)var r=n.get(null);else{n=new Map,sh.set(e,n);for(var o=e.querySelectorAll("link[data-precedence],style[data-precedence]"),a=0;a<o.length;a++){var i=o[a];"LINK"!==i.nodeName&&"not all"===i.getAttribute("media")||(n.set(i.dataset.precedence,i),r=i)}r&&n.set(null,r)}i=(o=t.instance).getAttribute("data-precedence"),(a=n.get(i)||r)===r&&n.set(null,o),n.set(i,o),this.count++,r=ih.bind(this),o.addEventListener("load",r),o.addEventListener("error",r),a?a.parentNode.insertBefore(o,a.nextSibling):(e=9===e.nodeType?e.head:e).insertBefore(o,e.firstChild),t.state.loading|=4}}var uh={$$typeof:x,Provider:null,Consumer:null,_currentValue:M,_currentValue2:M,_threadCount:0};function dh(e,t,n,r,o,a,i,s,l){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=De(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=De(0),this.hiddenUpdates=De(null),this.identifierPrefix=r,this.onUncaughtError=o,this.onCaughtError=a,this.onRecoverableError=i,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=l,this.incompleteTransitions=new Map}function hh(e,t,n,r,o,a,i,s,l,c,u,d){return e=new dh(e,t,n,i,l,c,u,d,s),t=1,!0===a&&(t|=24),a=Lr(3,null,null,t),e.current=a,a.stateNode=e,(t=zo()).refCount++,e.pooledCache=t,t.refCount++,a.memoizedState={element:r,isDehydrated:n,cache:t},va(a),e}function fh(e){return e?e=Mr:Mr}function ph(e,t,n,r,o,a){o=fh(o),null===r.context?r.context=o:r.pendingContext=o,(r=ba(t)).payload={element:n},null!==(a=void 0===a?null:a)&&(r.callback=a),null!==(n=wa(e,r,t))&&(Qc(n,0,t),xa(n,e,t))}function mh(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function gh(e,t){mh(e,t),(e=e.alternate)&&mh(e,t)}function vh(e){if(13===e.tag||31===e.tag){var t=Or(e,67108864);null!==t&&Qc(t,0,67108864),gh(e,67108864)}}function yh(e){if(13===e.tag||31===e.tag){var t=Kc(),n=Or(e,t=Me(t));null!==n&&Qc(n,0,t),gh(e,t)}}var bh=!0;function wh(e,t,n,r){var o=R.T;R.T=null;var a=I.p;try{I.p=2,Sh(e,t,n,r)}finally{I.p=a,R.T=o}}function xh(e,t,n,r){var o=R.T;R.T=null;var a=I.p;try{I.p=8,Sh(e,t,n,r)}finally{I.p=a,R.T=o}}function Sh(e,t,n,r){if(bh){var o=kh(r);if(null===o)td(e,t,r,_h,n),Ih(e,r);else if(function(e,t,n,r,o){switch(t){case"focusin":return jh=Mh(jh,e,t,n,r,o),!0;case"dragenter":return Th=Mh(Th,e,t,n,r,o),!0;case"mouseover":return Nh=Mh(Nh,e,t,n,r,o),!0;case"pointerover":var a=o.pointerId;return Dh.set(a,Mh(Dh.get(a)||null,e,t,n,r,o)),!0;case"gotpointercapture":return a=o.pointerId,Ph.set(a,Mh(Ph.get(a)||null,e,t,n,r,o)),!0}return!1}(o,e,t,n,r))r.stopPropagation();else if(Ih(e,r),4&t&&-1<Rh.indexOf(e)){for(;null!==o;){var a=Xe(o);if(null!==a)switch(a.tag){case 3:if((a=a.stateNode).current.memoizedState.isDehydrated){var i=Ce(a.pendingLanes);if(0!==i){var s=a;for(s.pendingLanes|=2,s.entangledLanes|=2;i;){var l=1<<31-we(i);s.entanglements[1]|=l,i&=~l}Iu(a),0===(6&fc)&&(Rc=le()+500,Mu(0,!1))}}break;case 31:case 13:null!==(s=Or(a,2))&&Qc(s,0,2),Zc(),gh(a,2)}if(null===(a=kh(r))&&td(e,t,r,_h,n),a===o)break;o=a}null!==o&&r.stopPropagation()}else td(e,t,r,null,n)}}function kh(e){return Eh(e=Rt(e))}var _h=null;function Eh(e){if(_h=null,null!==(e=$e(e))){var t=l(e);if(null===t)e=null;else{var n=t.tag;if(13===n){if(null!==(e=c(t)))return e;e=null}else if(31===n){if(null!==(e=u(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return _h=e,null}function Ch(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ce()){case ue:return 2;case de:return 8;case he:case fe:return 32;case pe:return 268435456;default:return 32}default:return 32}}var Ah=!1,jh=null,Th=null,Nh=null,Dh=new Map,Ph=new Map,Oh=[],Rh="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Ih(e,t){switch(e){case"focusin":case"focusout":jh=null;break;case"dragenter":case"dragleave":Th=null;break;case"mouseover":case"mouseout":Nh=null;break;case"pointerover":case"pointerout":Dh.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ph.delete(t.pointerId)}}function Mh(e,t,n,r,o,a){return null===e||e.nativeEvent!==a?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:a,targetContainers:[o]},null!==t&&(null!==(t=Xe(t))&&vh(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==o&&-1===t.indexOf(o)&&t.push(o),e)}function Fh(e){var t=$e(e.target);if(null!==t){var n=l(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=c(n)))return e.blockedOn=t,void Ue(e.priority,function(){yh(n)})}else if(31===t){if(null!==(t=u(n)))return e.blockedOn=t,void Ue(e.priority,function(){yh(n)})}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Lh(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=kh(e.nativeEvent);if(null!==n)return null!==(t=Xe(n))&&vh(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);Ot=r,n.target.dispatchEvent(r),Ot=null,t.shift()}return!0}function Uh(e,t,n){Lh(e)&&n.delete(t)}function zh(){Ah=!1,null!==jh&&Lh(jh)&&(jh=null),null!==Th&&Lh(Th)&&(Th=null),null!==Nh&&Lh(Nh)&&(Nh=null),Dh.forEach(Uh),Ph.forEach(Uh)}function Bh(e,t){e.blockedOn===t&&(e.blockedOn=null,Ah||(Ah=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,zh)))}var qh=null;function Vh(e){qh!==e&&(qh=e,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){qh===e&&(qh=null);for(var t=0;t<e.length;t+=3){var n=e[t],r=e[t+1],o=e[t+2];if("function"!==typeof r){if(null===Eh(r||n))continue;break}var a=Xe(n);null!==a&&(e.splice(t,3),t-=3,ts(a,{pending:!0,data:o,method:n.method,action:r},r,o))}}))}function Wh(e){function t(t){return Bh(t,e)}null!==jh&&Bh(jh,e),null!==Th&&Bh(Th,e),null!==Nh&&Bh(Nh,e),Dh.forEach(t),Ph.forEach(t);for(var n=0;n<Oh.length;n++){var r=Oh[n];r.blockedOn===e&&(r.blockedOn=null)}for(;0<Oh.length&&null===(n=Oh[0]).blockedOn;)Fh(n),null===n.blockedOn&&Oh.shift();if(null!=(n=(e.ownerDocument||e).$$reactFormReplay))for(r=0;r<n.length;r+=3){var o=n[r],a=n[r+1],i=o[qe]||null;if("function"===typeof a)i||Vh(n);else if(i){var s=null;if(a&&a.hasAttribute("formAction")){if(o=a,i=a[qe]||null)s=i.formAction;else if(null!==Eh(o))continue}else s=i.action;"function"===typeof s?n[r+1]=s:(n.splice(r,3),r-=3),Vh(n)}}}function Hh(){function e(e){e.canIntercept&&"react-transition"===e.info&&e.intercept({handler:function(){return new Promise(function(e){return o=e})},focusReset:"manual",scroll:"manual"})}function t(){null!==o&&(o(),o=null),r||setTimeout(n,20)}function n(){if(!r&&!navigation.transition){var e=navigation.currentEntry;e&&null!=e.url&&navigation.navigate(e.url,{state:e.getState(),info:"react-transition",history:"replace"})}}if("object"===typeof navigation){var r=!1,o=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",t),navigation.addEventListener("navigateerror",t),setTimeout(n,100),function(){r=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",t),navigation.removeEventListener("navigateerror",t),null!==o&&(o(),o=null)}}}function Kh(e){this._internalRoot=e}function Gh(e){this._internalRoot=e}Gh.prototype.render=Kh.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(i(409));ph(t.current,Kc(),e,t,null,null)},Gh.prototype.unmount=Kh.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;ph(e.current,2,null,e,null,null),Zc(),t[Ve]=null}},Gh.prototype.unstable_scheduleHydration=function(e){if(e){var t=Le();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Oh.length&&0!==t&&t<Oh[n].priority;n++);Oh.splice(n,0,e),0===n&&Fh(e)}};var Qh=o.version;if("19.2.0"!==Qh)throw Error(i(527,Qh,"19.2.0"));I.findDOMNode=function(e){var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(i(188));throw e=Object.keys(e).join(","),Error(i(268,e))}return e=function(e){var t=e.alternate;if(!t){if(null===(t=l(e)))throw Error(i(188));return t!==e?null:e}for(var n=e,r=t;;){var o=n.return;if(null===o)break;var a=o.alternate;if(null===a){if(null!==(r=o.return)){n=r;continue}break}if(o.child===a.child){for(a=o.child;a;){if(a===n)return d(o),e;if(a===r)return d(o),t;a=a.sibling}throw Error(i(188))}if(n.return!==r.return)n=o,r=a;else{for(var s=!1,c=o.child;c;){if(c===n){s=!0,n=o,r=a;break}if(c===r){s=!0,r=o,n=a;break}c=c.sibling}if(!s){for(c=a.child;c;){if(c===n){s=!0,n=a,r=o;break}if(c===r){s=!0,r=a,n=o;break}c=c.sibling}if(!s)throw Error(i(189))}}if(n.alternate!==r)throw Error(i(190))}if(3!==n.tag)throw Error(i(188));return n.stateNode.current===n?e:t}(t),e=null===(e=null!==e?h(e):null)?null:e.stateNode};var Yh={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:R,reconcilerVersion:"19.2.0"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var $h=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!$h.isDisabled&&$h.supportsFiber)try{ve=$h.inject(Yh),ye=$h}catch(Jh){}}t.createRoot=function(e,t){if(!s(e))throw Error(i(299));var n=!1,r="",o=_s,a=Es,l=Cs;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onUncaughtError&&(o=t.onUncaughtError),void 0!==t.onCaughtError&&(a=t.onCaughtError),void 0!==t.onRecoverableError&&(l=t.onRecoverableError)),t=hh(e,1,!1,null,0,n,r,null,o,a,l,Hh),e[Ve]=t.current,Zu(e),new Kh(t)},t.hydrateRoot=function(e,t,n){if(!s(e))throw Error(i(299));var r=!1,o="",a=_s,l=Es,c=Cs,u=null;return null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(r=!0),void 0!==n.identifierPrefix&&(o=n.identifierPrefix),void 0!==n.onUncaughtError&&(a=n.onUncaughtError),void 0!==n.onCaughtError&&(l=n.onCaughtError),void 0!==n.onRecoverableError&&(c=n.onRecoverableError),void 0!==n.formState&&(u=n.formState)),(t=hh(e,1,!0,t,0,r,o,u,a,l,c,Hh)).context=fh(null),n=t.current,(o=ba(r=Me(r=Kc()))).callback=null,wa(n,o,r),n=r,t.current.lanes=n,Pe(t,n),Iu(t),e[Ve]=t.current,Zu(e),new Gh(t)},t.version="19.2.0"},43:(e,t,n)=>{e.exports=n(288)},54:(e,t,n)=>{n.d(t,{CI:()=>s,deckOperations:()=>i,messageOperations:()=>l,userOperations:()=>a});var r=n(555),o=n(875);const a={async getAllUsernames(){const{data:e,error:t}=await o.ND.from("usernames").select("*");return t?console.error("[DEBUG] Erro ao buscar todos os usernames:",t):console.log("[DEBUG] Resultado getAllUsernames:",JSON.stringify(e,null,2)),e||[]},async getAllUsers(){const{data:e,error:t}=await o.ND.from("users").select("*");return t?console.error("[DEBUG] Erro ao buscar todos os usu\xe1rios:",t):console.log("[DEBUG] Resultado getAllUsers:",JSON.stringify(e,null,2)),e||[]},async getUser(e){const{data:t,error:n}=await o.ND.from("users").select("*").eq("id",e).single();if(n&&"PGRST116"!==n.code)throw n;return t},async updateUser(e,t){const{data:n,error:a}=await o.ND.from("users").update((0,r.A)((0,r.A)({},t),{},{updated_at:(new Date).toISOString()})).eq("id",e).select().single();if(a)throw a;return n},async getUserByUsername(e){const{data:t,error:n}=await o.ND.from("users").select("*").eq("username",e).single();if(n&&"PGRST116"!==n.code)throw n;return t}},i={async getUserDecks(e){const{data:t,error:n}=await o.ND.from("decks").select("*").eq("owner_id",e).order("created_at",{ascending:!1});if(n)throw n;return t||[]},async getDeck(e){const{data:t,error:n}=await o.ND.from("decks").select("*").eq("id",e).single();if(n&&"PGRST116"!==n.code)throw n;return t},async createDeck(e){const{data:t,error:n}=await o.ND.from("decks").insert(e).select().single();if(n)throw n;return t},async updateDeck(e,t){const{data:n,error:a}=await o.ND.from("decks").update((0,r.A)((0,r.A)({},t),{},{updated_at:(new Date).toISOString()})).eq("id",e).select().single();if(a)throw a;return n},async deleteDeck(e){const{error:t}=await o.ND.from("decks").delete().eq("id",e);if(t)throw t}},s={async getDeckCards(e){const{data:t,error:n}=await o.ND.from("deck_cards").select("id, deck_id, card_name, quantity, acquired, image_url, mana_cost, type_line, oracle_text, created_at, updated_at, card_faces, colors, color_identity, cmc, rarity, set_code, collector_number, scryfall_id, is_transparent").eq("deck_id",e).order("created_at",{ascending:!0});if(n)throw n;return t||[]},async addCardToDeck(e,t){console.log("\ud83d\udd04 [DEBUG] Dados enviados para deck_cards:",(0,r.A)({deck_id:e},t));const{data:n,error:a}=await o.ND.from("deck_cards").insert((0,r.A)({deck_id:e},t)).select().single();if(a)throw console.error("\u274c [DEBUG] Erro ao adicionar carta ao deck:",a),a;return n},async updateDeckCard(e,t){console.log("[DEBUG] updateDeckCard - Enviando updates:",t);const{data:n,error:r}=await o.ND.from("deck_cards").update(t).eq("id",e).select("*").single();if(r)throw r;return console.log("[DEBUG] updateDeckCard - Retorno do Supabase:",n),n},async deleteDeckCard(e){const{error:t}=await o.ND.from("deck_cards").delete().eq("id",e);if(t)throw t},async deleteDeckCards(e){const{error:t}=await o.ND.from("deck_cards").delete().in("id",e);if(t)throw t}},l={async getUserMessages(e){const{data:t,error:n}=await o.ND.from("messages").select("*").eq("recipient_id",e).order("created_at",{ascending:!1});if(n)throw n;return t||[]},async sendMessage(e){const{data:t,error:n}=await o.ND.from("messages").insert(e).select().single();if(n)throw n;return t},async updateMessage(e,t){const{data:n,error:r}=await o.ND.from("messages").update(t).eq("id",e).select().single();if(r)throw r;return n},async deleteMessage(e){const{error:t}=await o.ND.from("messages").delete().eq("id",e);if(t)throw t}}},210:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});const r=n(326),o=r.__importDefault(n(829)),a=r.__importDefault(n(736));class i{constructor(e){let{headers:t={},schema:n,fetch:r}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.url=e,this.headers=new Headers(t),this.schemaName=n,this.fetch=r}from(e){const t=new URL("".concat(this.url,"/").concat(e));return new o.default(t,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(e){return new i(this.url,{headers:this.headers,schema:e,fetch:this.fetch})}rpc(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{head:n=!1,get:r=!1,count:o}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};var i;let s;const l=new URL("".concat(this.url,"/rpc/").concat(e));let c;n||r?(s=n?"HEAD":"GET",Object.entries(t).filter(e=>{let[t,n]=e;return void 0!==n}).map(e=>{let[t,n]=e;return[t,Array.isArray(n)?"{".concat(n.join(","),"}"):"".concat(n)]}).forEach(e=>{let[t,n]=e;l.searchParams.append(t,n)})):(s="POST",c=t);const u=new Headers(this.headers);return o&&u.set("Prefer","count=".concat(o)),new a.default({method:s,url:l,headers:u,schema:this.schemaName,body:c,fetch:null!==(i=this.fetch)&&void 0!==i?i:fetch})}}t.default=i},286:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});const r=n(326),o=r.__importDefault(n(630)),a=r.__importDefault(n(611));t.default=class{constructor(e){var t,n;this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=new Headers(e.headers),this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=null!==(t=e.shouldThrowOnError)&&void 0!==t&&t,this.signal=e.signal,this.isMaybeSingle=null!==(n=e.isMaybeSingle)&&void 0!==n&&n,e.fetch?this.fetch=e.fetch:"undefined"===typeof fetch?this.fetch=o.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,t){return this.headers=new Headers(this.headers),this.headers.set(e,t),this}then(e,t){void 0===this.schema||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),"GET"!==this.method&&"HEAD"!==this.method&&this.headers.set("Content-Type","application/json");let n=(0,this.fetch)(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async e=>{var t,n,r,o;let i=null,s=null,l=null,c=e.status,u=e.statusText;if(e.ok){if("HEAD"!==this.method){const n=await e.text();""===n||(s="text/csv"===this.headers.get("Accept")||this.headers.get("Accept")&&(null===(t=this.headers.get("Accept"))||void 0===t?void 0:t.includes("application/vnd.pgrst.plan+text"))?n:JSON.parse(n))}const o=null===(n=this.headers.get("Prefer"))||void 0===n?void 0:n.match(/count=(exact|planned|estimated)/),a=null===(r=e.headers.get("content-range"))||void 0===r?void 0:r.split("/");o&&a&&a.length>1&&(l=parseInt(a[1])),this.isMaybeSingle&&"GET"===this.method&&Array.isArray(s)&&(s.length>1?(i={code:"PGRST116",details:"Results contain ".concat(s.length," rows, application/vnd.pgrst.object+json requires 1 row"),hint:null,message:"JSON object requested, multiple (or no) rows returned"},s=null,l=null,c=406,u="Not Acceptable"):s=1===s.length?s[0]:null)}else{const t=await e.text();try{i=JSON.parse(t),Array.isArray(i)&&404===e.status&&(s=[],i=null,c=200,u="OK")}catch(d){404===e.status&&""===t?(c=204,u="No Content"):i={message:t}}if(i&&this.isMaybeSingle&&(null===(o=null===i||void 0===i?void 0:i.details)||void 0===o?void 0:o.includes("0 rows"))&&(i=null,c=200,u="OK"),i&&this.shouldThrowOnError)throw new a.default(i)}return{error:i,data:s,count:l,status:c,statusText:u}});return this.shouldThrowOnError||(n=n.catch(e=>{var t,n,r;return{error:{message:"".concat(null!==(t=null===e||void 0===e?void 0:e.name)&&void 0!==t?t:"FetchError",": ").concat(null===e||void 0===e?void 0:e.message),details:"".concat(null!==(n=null===e||void 0===e?void 0:e.stack)&&void 0!==n?n:""),hint:"",code:"".concat(null!==(r=null===e||void 0===e?void 0:e.code)&&void 0!==r?r:"")},data:null,count:null,status:0,statusText:""}})),n.then(e,t)}returns(){return this}overrideTypes(){return this}}},288:(e,t)=>{var n=Symbol.for("react.transitional.element"),r=Symbol.for("react.portal"),o=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),s=Symbol.for("react.consumer"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),f=Symbol.for("react.activity"),p=Symbol.iterator;var m={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},g=Object.assign,v={};function y(e,t,n){this.props=e,this.context=t,this.refs=v,this.updater=n||m}function b(){}function w(e,t,n){this.props=e,this.context=t,this.refs=v,this.updater=n||m}y.prototype.isReactComponent={},y.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},y.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},b.prototype=y.prototype;var x=w.prototype=new b;x.constructor=w,g(x,y.prototype),x.isPureReactComponent=!0;var S=Array.isArray;function k(){}var _={H:null,A:null,T:null,S:null},E=Object.prototype.hasOwnProperty;function C(e,t,r){var o=r.ref;return{$$typeof:n,type:e,key:t,ref:void 0!==o?o:null,props:r}}function A(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var j=/\/+/g;function T(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(e){return t[e]})}(""+e.key):t.toString(36)}function N(e,t,o,a,i){var s=typeof e;"undefined"!==s&&"boolean"!==s||(e=null);var l,c,u=!1;if(null===e)u=!0;else switch(s){case"bigint":case"string":case"number":u=!0;break;case"object":switch(e.$$typeof){case n:case r:u=!0;break;case h:return N((u=e._init)(e._payload),t,o,a,i)}}if(u)return i=i(e),u=""===a?"."+T(e,0):a,S(i)?(o="",null!=u&&(o=u.replace(j,"$&/")+"/"),N(i,t,o,"",function(e){return e})):null!=i&&(A(i)&&(l=i,c=o+(null==i.key||e&&e.key===i.key?"":(""+i.key).replace(j,"$&/")+"/")+u,i=C(l.type,c,l.props)),t.push(i)),1;u=0;var d,f=""===a?".":a+":";if(S(e))for(var m=0;m<e.length;m++)u+=N(a=e[m],t,o,s=f+T(a,m),i);else if("function"===typeof(m=null===(d=e)||"object"!==typeof d?null:"function"===typeof(d=p&&d[p]||d["@@iterator"])?d:null))for(e=m.call(e),m=0;!(a=e.next()).done;)u+=N(a=a.value,t,o,s=f+T(a,m++),i);else if("object"===s){if("function"===typeof e.then)return N(function(e){switch(e.status){case"fulfilled":return e.value;case"rejected":throw e.reason;default:switch("string"===typeof e.status?e.then(k,k):(e.status="pending",e.then(function(t){"pending"===e.status&&(e.status="fulfilled",e.value=t)},function(t){"pending"===e.status&&(e.status="rejected",e.reason=t)})),e.status){case"fulfilled":return e.value;case"rejected":throw e.reason}}throw e}(e),t,o,a,i);throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.")}return u}function D(e,t,n){if(null==e)return e;var r=[],o=0;return N(e,r,"","",function(e){return t.call(n,e,o++)}),r}function P(e){if(-1===e._status){var t=e._result;(t=t()).then(function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)},function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)}),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var O="function"===typeof reportError?reportError:function(e){if("object"===typeof window&&"function"===typeof window.ErrorEvent){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:"object"===typeof e&&null!==e&&"string"===typeof e.message?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if("object"===typeof process&&"function"===typeof process.emit)return void process.emit("uncaughtException",e);console.error(e)},R={map:D,forEach:function(e,t,n){D(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return D(e,function(){t++}),t},toArray:function(e){return D(e,function(e){return e})||[]},only:function(e){if(!A(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};t.Activity=f,t.Children=R,t.Component=y,t.Fragment=o,t.Profiler=i,t.PureComponent=w,t.StrictMode=a,t.Suspense=u,t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=_,t.__COMPILER_RUNTIME={__proto__:null,c:function(e){return _.H.useMemoCache(e)}},t.cache=function(e){return function(){return e.apply(null,arguments)}},t.cacheSignal=function(){return null},t.cloneElement=function(e,t,n){if(null===e||void 0===e)throw Error("The argument must be a React element, but you passed "+e+".");var r=g({},e.props),o=e.key;if(null!=t)for(a in void 0!==t.key&&(o=""+t.key),t)!E.call(t,a)||"key"===a||"__self"===a||"__source"===a||"ref"===a&&void 0===t.ref||(r[a]=t[a]);var a=arguments.length-2;if(1===a)r.children=n;else if(1<a){for(var i=Array(a),s=0;s<a;s++)i[s]=arguments[s+2];r.children=i}return C(e.type,o,r)},t.createContext=function(e){return(e={$$typeof:l,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider=e,e.Consumer={$$typeof:s,_context:e},e},t.createElement=function(e,t,n){var r,o={},a=null;if(null!=t)for(r in void 0!==t.key&&(a=""+t.key),t)E.call(t,r)&&"key"!==r&&"__self"!==r&&"__source"!==r&&(o[r]=t[r]);var i=arguments.length-2;if(1===i)o.children=n;else if(1<i){for(var s=Array(i),l=0;l<i;l++)s[l]=arguments[l+2];o.children=s}if(e&&e.defaultProps)for(r in i=e.defaultProps)void 0===o[r]&&(o[r]=i[r]);return C(e,a,o)},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=A,t.lazy=function(e){return{$$typeof:h,_payload:{_status:-1,_result:e},_init:P}},t.memo=function(e,t){return{$$typeof:d,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=_.T,n={};_.T=n;try{var r=e(),o=_.S;null!==o&&o(n,r),"object"===typeof r&&null!==r&&"function"===typeof r.then&&r.then(k,O)}catch(a){O(a)}finally{null!==t&&null!==n.types&&(t.types=n.types),_.T=t}},t.unstable_useCacheRefresh=function(){return _.H.useCacheRefresh()},t.use=function(e){return _.H.use(e)},t.useActionState=function(e,t,n){return _.H.useActionState(e,t,n)},t.useCallback=function(e,t){return _.H.useCallback(e,t)},t.useContext=function(e){return _.H.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e,t){return _.H.useDeferredValue(e,t)},t.useEffect=function(e,t){return _.H.useEffect(e,t)},t.useEffectEvent=function(e){return _.H.useEffectEvent(e)},t.useId=function(){return _.H.useId()},t.useImperativeHandle=function(e,t,n){return _.H.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return _.H.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return _.H.useLayoutEffect(e,t)},t.useMemo=function(e,t){return _.H.useMemo(e,t)},t.useOptimistic=function(e,t){return _.H.useOptimistic(e,t)},t.useReducer=function(e,t,n){return _.H.useReducer(e,t,n)},t.useRef=function(e){return _.H.useRef(e)},t.useState=function(e){return _.H.useState(e)},t.useSyncExternalStore=function(e,t,n){return _.H.useSyncExternalStore(e,t,n)},t.useTransition=function(){return _.H.useTransition()},t.version="19.2.0"},326:(e,t,n)=>{n.r(t),n.d(t,{__addDisposableResource:()=>I,__assign:()=>a,__asyncDelegator:()=>E,__asyncGenerator:()=>_,__asyncValues:()=>C,__await:()=>k,__awaiter:()=>p,__classPrivateFieldGet:()=>P,__classPrivateFieldIn:()=>R,__classPrivateFieldSet:()=>O,__createBinding:()=>g,__decorate:()=>s,__disposeResources:()=>F,__esDecorate:()=>c,__exportStar:()=>v,__extends:()=>o,__generator:()=>m,__importDefault:()=>D,__importStar:()=>N,__makeTemplateObject:()=>A,__metadata:()=>f,__param:()=>l,__propKey:()=>d,__read:()=>b,__rest:()=>i,__rewriteRelativeImportExtension:()=>L,__runInitializers:()=>u,__setFunctionName:()=>h,__spread:()=>w,__spreadArray:()=>S,__spreadArrays:()=>x,__values:()=>y,default:()=>U});var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)};function o(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var a=function(){return a=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},a.apply(this,arguments)};function i(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n}function s(e,t,n,r){var o,a=arguments.length,i=a<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)i=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(i=(a<3?o(i):a>3?o(t,n,i):o(t,n))||i);return a>3&&i&&Object.defineProperty(t,n,i),i}function l(e,t){return function(n,r){t(n,r,e)}}function c(e,t,n,r,o,a){function i(e){if(void 0!==e&&"function"!==typeof e)throw new TypeError("Function expected");return e}for(var s,l=r.kind,c="getter"===l?"get":"setter"===l?"set":"value",u=!t&&e?r.static?e:e.prototype:null,d=t||(u?Object.getOwnPropertyDescriptor(u,r.name):{}),h=!1,f=n.length-1;f>=0;f--){var p={};for(var m in r)p[m]="access"===m?{}:r[m];for(var m in r.access)p.access[m]=r.access[m];p.addInitializer=function(e){if(h)throw new TypeError("Cannot add initializers after decoration has completed");a.push(i(e||null))};var g=(0,n[f])("accessor"===l?{get:d.get,set:d.set}:d[c],p);if("accessor"===l){if(void 0===g)continue;if(null===g||"object"!==typeof g)throw new TypeError("Object expected");(s=i(g.get))&&(d.get=s),(s=i(g.set))&&(d.set=s),(s=i(g.init))&&o.unshift(s)}else(s=i(g))&&("field"===l?o.unshift(s):d[c]=s)}u&&Object.defineProperty(u,r.name,d),h=!0}function u(e,t,n){for(var r=arguments.length>2,o=0;o<t.length;o++)n=r?t[o].call(e,n):t[o].call(e);return r?n:void 0}function d(e){return"symbol"===typeof e?e:"".concat(e)}function h(e,t,n){return"symbol"===typeof t&&(t=t.description?"[".concat(t.description,"]"):""),Object.defineProperty(e,"name",{configurable:!0,value:n?"".concat(n," ",t):t})}function f(e,t){if("object"===typeof Reflect&&"function"===typeof Reflect.metadata)return Reflect.metadata(e,t)}function p(e,t,n,r){return new(n||(n=Promise))(function(o,a){function i(e){try{l(r.next(e))}catch(t){a(t)}}function s(e){try{l(r.throw(e))}catch(t){a(t)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(i,s)}l((r=r.apply(e,t||[])).next())})}function m(e,t){var n,r,o,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]},i=Object.create(("function"===typeof Iterator?Iterator:Object).prototype);return i.next=s(0),i.throw=s(1),i.return=s(2),"function"===typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(s){return function(l){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,s[0]&&(a=0)),a;)try{if(n=1,r&&(o=2&s[0]?r.return:s[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,s[1])).done)return o;switch(r=0,o&&(s=[2&s[0],o.value]),s[0]){case 0:case 1:o=s;break;case 4:return a.label++,{value:s[1],done:!1};case 5:a.label++,r=s[1],s=[0];continue;case 7:s=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===s[0]||2===s[0])){a=0;continue}if(3===s[0]&&(!o||s[1]>o[0]&&s[1]<o[3])){a.label=s[1];break}if(6===s[0]&&a.label<o[1]){a.label=o[1],o=s;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(s);break}o[2]&&a.ops.pop(),a.trys.pop();continue}s=t.call(e,a)}catch(l){s=[6,l],r=0}finally{n=o=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,l])}}}var g=Object.create?function(e,t,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]};function v(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||g(t,e,n)}function y(e){var t="function"===typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"===typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function b(e,t){var n="function"===typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,a=n.call(e),i=[];try{for(;(void 0===t||t-- >0)&&!(r=a.next()).done;)i.push(r.value)}catch(s){o={error:s}}finally{try{r&&!r.done&&(n=a.return)&&n.call(a)}finally{if(o)throw o.error}}return i}function w(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(b(arguments[t]));return e}function x(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),o=0;for(t=0;t<n;t++)for(var a=arguments[t],i=0,s=a.length;i<s;i++,o++)r[o]=a[i];return r}function S(e,t,n){if(n||2===arguments.length)for(var r,o=0,a=t.length;o<a;o++)!r&&o in t||(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))}function k(e){return this instanceof k?(this.v=e,this):new k(e)}function _(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,o=n.apply(e,t||[]),a=[];return r=Object.create(("function"===typeof AsyncIterator?AsyncIterator:Object).prototype),i("next"),i("throw"),i("return",function(e){return function(t){return Promise.resolve(t).then(e,c)}}),r[Symbol.asyncIterator]=function(){return this},r;function i(e,t){o[e]&&(r[e]=function(t){return new Promise(function(n,r){a.push([e,t,n,r])>1||s(e,t)})},t&&(r[e]=t(r[e])))}function s(e,t){try{!function(e){e.value instanceof k?Promise.resolve(e.value.v).then(l,c):u(a[0][2],e)}(o[e](t))}catch(n){u(a[0][3],n)}}function l(e){s("next",e)}function c(e){s("throw",e)}function u(e,t){e(t),a.shift(),a.length&&s(a[0][0],a[0][1])}}function E(e){var t,n;return t={},r("next"),r("throw",function(e){throw e}),r("return"),t[Symbol.iterator]=function(){return this},t;function r(r,o){t[r]=e[r]?function(t){return(n=!n)?{value:k(e[r](t)),done:!1}:o?o(t):t}:o}}function C(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,n=e[Symbol.asyncIterator];return n?n.call(e):(e=y(e),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(n){t[n]=e[n]&&function(t){return new Promise(function(r,o){(function(e,t,n,r){Promise.resolve(r).then(function(t){e({value:t,done:n})},t)})(r,o,(t=e[n](t)).done,t.value)})}}}function A(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}var j=Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t},T=function(e){return T=Object.getOwnPropertyNames||function(e){var t=[];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[t.length]=n);return t},T(e)};function N(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n=T(e),r=0;r<n.length;r++)"default"!==n[r]&&g(t,e,n[r]);return j(t,e),t}function D(e){return e&&e.__esModule?e:{default:e}}function P(e,t,n,r){if("a"===n&&!r)throw new TypeError("Private accessor was defined without a getter");if("function"===typeof t?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?r:"a"===n?r.call(e):r?r.value:t.get(e)}function O(e,t,n,r,o){if("m"===r)throw new TypeError("Private method is not writable");if("a"===r&&!o)throw new TypeError("Private accessor was defined without a setter");if("function"===typeof t?e!==t||!o:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===r?o.call(e,n):o?o.value=n:t.set(e,n),n}function R(e,t){if(null===t||"object"!==typeof t&&"function"!==typeof t)throw new TypeError("Cannot use 'in' operator on non-object");return"function"===typeof e?t===e:e.has(t)}function I(e,t,n){if(null!==t&&void 0!==t){if("object"!==typeof t&&"function"!==typeof t)throw new TypeError("Object expected.");var r,o;if(n){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");r=t[Symbol.asyncDispose]}if(void 0===r){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");r=t[Symbol.dispose],n&&(o=r)}if("function"!==typeof r)throw new TypeError("Object not disposable.");o&&(r=function(){try{o.call(this)}catch(e){return Promise.reject(e)}}),e.stack.push({value:t,dispose:r,async:n})}else n&&e.stack.push({async:!0});return t}var M="function"===typeof SuppressedError?SuppressedError:function(e,t,n){var r=new Error(n);return r.name="SuppressedError",r.error=e,r.suppressed=t,r};function F(e){function t(t){e.error=e.hasError?new M(t,e.error,"An error was suppressed during disposal."):t,e.hasError=!0}var n,r=0;return function o(){for(;n=e.stack.pop();)try{if(!n.async&&1===r)return r=0,e.stack.push(n),Promise.resolve().then(o);if(n.dispose){var a=n.dispose.call(n.value);if(n.async)return r|=2,Promise.resolve(a).then(o,function(e){return t(e),o()})}else r|=1}catch(i){t(i)}if(1===r)return e.hasError?Promise.reject(e.error):Promise.resolve();if(e.hasError)throw e.error}()}function L(e,t){return"string"===typeof e&&/^\.\.?\//.test(e)?e.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(e,n,r,o,a){return n?t?".jsx":".js":!r||o&&a?r+o+"."+a.toLowerCase()+"js":e}):e}const U={__extends:o,__assign:a,__rest:i,__decorate:s,__param:l,__esDecorate:c,__runInitializers:u,__propKey:d,__setFunctionName:h,__metadata:f,__awaiter:p,__generator:m,__createBinding:g,__exportStar:v,__values:y,__read:b,__spread:w,__spreadArrays:x,__spreadArray:S,__await:k,__asyncGenerator:_,__asyncDelegator:E,__asyncValues:C,__makeTemplateObject:A,__importStar:N,__importDefault:D,__classPrivateFieldGet:P,__classPrivateFieldSet:O,__classPrivateFieldIn:R,__addDisposableResource:I,__disposeResources:F,__rewriteRelativeImportExtension:L}},391:(e,t,n)=>{!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(4)},555:(e,t,n)=>{function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}function o(e){var t=function(e,t){if("object"!=r(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var o=n.call(e,t||"default");if("object"!=r(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==r(t)?t:t+""}function a(e,t,n){return(t=o(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach(function(t){a(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}n.d(t,{A:()=>s})},579:(e,t,n)=>{e.exports=n(799)},611:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0});class n extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}}t.default=n},630:(e,t,n)=>{n.r(t),n.d(t,{Headers:()=>i,Request:()=>s,Response:()=>l,default:()=>a,fetch:()=>o});var r=function(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof n.g)return n.g;throw new Error("unable to locate global object")}();const o=r.fetch,a=r.fetch.bind(r),i=r.Headers,s=r.Request,l=r.Response},672:(e,t,n)=>{var r=n(43);function o(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(){}var i={d:{f:a,r:function(){throw Error(o(522))},D:a,C:a,L:a,m:a,X:a,S:a,M:a},p:0,findDOMNode:null},s=Symbol.for("react.portal");var l=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function c(e,t){return"font"===e?"":"string"===typeof t?"use-credentials"===t?t:"":void 0}t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!t||1!==t.nodeType&&9!==t.nodeType&&11!==t.nodeType)throw Error(o(299));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:s,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.flushSync=function(e){var t=l.T,n=i.p;try{if(l.T=null,i.p=2,e)return e()}finally{l.T=t,i.p=n,i.d.f()}},t.preconnect=function(e,t){"string"===typeof e&&(t?t="string"===typeof(t=t.crossOrigin)?"use-credentials"===t?t:"":void 0:t=null,i.d.C(e,t))},t.prefetchDNS=function(e){"string"===typeof e&&i.d.D(e)},t.preinit=function(e,t){if("string"===typeof e&&t&&"string"===typeof t.as){var n=t.as,r=c(n,t.crossOrigin),o="string"===typeof t.integrity?t.integrity:void 0,a="string"===typeof t.fetchPriority?t.fetchPriority:void 0;"style"===n?i.d.S(e,"string"===typeof t.precedence?t.precedence:void 0,{crossOrigin:r,integrity:o,fetchPriority:a}):"script"===n&&i.d.X(e,{crossOrigin:r,integrity:o,fetchPriority:a,nonce:"string"===typeof t.nonce?t.nonce:void 0})}},t.preinitModule=function(e,t){if("string"===typeof e)if("object"===typeof t&&null!==t){if(null==t.as||"script"===t.as){var n=c(t.as,t.crossOrigin);i.d.M(e,{crossOrigin:n,integrity:"string"===typeof t.integrity?t.integrity:void 0,nonce:"string"===typeof t.nonce?t.nonce:void 0})}}else null==t&&i.d.M(e)},t.preload=function(e,t){if("string"===typeof e&&"object"===typeof t&&null!==t&&"string"===typeof t.as){var n=t.as,r=c(n,t.crossOrigin);i.d.L(e,n,{crossOrigin:r,integrity:"string"===typeof t.integrity?t.integrity:void 0,nonce:"string"===typeof t.nonce?t.nonce:void 0,type:"string"===typeof t.type?t.type:void 0,fetchPriority:"string"===typeof t.fetchPriority?t.fetchPriority:void 0,referrerPolicy:"string"===typeof t.referrerPolicy?t.referrerPolicy:void 0,imageSrcSet:"string"===typeof t.imageSrcSet?t.imageSrcSet:void 0,imageSizes:"string"===typeof t.imageSizes?t.imageSizes:void 0,media:"string"===typeof t.media?t.media:void 0})}},t.preloadModule=function(e,t){if("string"===typeof e)if(t){var n=c(t.as,t.crossOrigin);i.d.m(e,{as:"string"===typeof t.as&&"script"!==t.as?t.as:void 0,crossOrigin:n,integrity:"string"===typeof t.integrity?t.integrity:void 0})}else i.d.m(e)},t.requestFormReset=function(e){i.d.r(e)},t.unstable_batchedUpdates=function(e,t){return e(t)},t.useFormState=function(e,t,n){return l.H.useFormState(e,t,n)},t.useFormStatus=function(){return l.H.useHostTransitionStatus()},t.version="19.2.0"},736:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});const r=n(326).__importDefault(n(993));class o extends r.default{eq(e,t){return this.url.searchParams.append(e,"eq.".concat(t)),this}neq(e,t){return this.url.searchParams.append(e,"neq.".concat(t)),this}gt(e,t){return this.url.searchParams.append(e,"gt.".concat(t)),this}gte(e,t){return this.url.searchParams.append(e,"gte.".concat(t)),this}lt(e,t){return this.url.searchParams.append(e,"lt.".concat(t)),this}lte(e,t){return this.url.searchParams.append(e,"lte.".concat(t)),this}like(e,t){return this.url.searchParams.append(e,"like.".concat(t)),this}likeAllOf(e,t){return this.url.searchParams.append(e,"like(all).{".concat(t.join(","),"}")),this}likeAnyOf(e,t){return this.url.searchParams.append(e,"like(any).{".concat(t.join(","),"}")),this}ilike(e,t){return this.url.searchParams.append(e,"ilike.".concat(t)),this}ilikeAllOf(e,t){return this.url.searchParams.append(e,"ilike(all).{".concat(t.join(","),"}")),this}ilikeAnyOf(e,t){return this.url.searchParams.append(e,"ilike(any).{".concat(t.join(","),"}")),this}is(e,t){return this.url.searchParams.append(e,"is.".concat(t)),this}in(e,t){const n=Array.from(new Set(t)).map(e=>"string"===typeof e&&new RegExp("[,()]").test(e)?'"'.concat(e,'"'):"".concat(e)).join(",");return this.url.searchParams.append(e,"in.(".concat(n,")")),this}contains(e,t){return"string"===typeof t?this.url.searchParams.append(e,"cs.".concat(t)):Array.isArray(t)?this.url.searchParams.append(e,"cs.{".concat(t.join(","),"}")):this.url.searchParams.append(e,"cs.".concat(JSON.stringify(t))),this}containedBy(e,t){return"string"===typeof t?this.url.searchParams.append(e,"cd.".concat(t)):Array.isArray(t)?this.url.searchParams.append(e,"cd.{".concat(t.join(","),"}")):this.url.searchParams.append(e,"cd.".concat(JSON.stringify(t))),this}rangeGt(e,t){return this.url.searchParams.append(e,"sr.".concat(t)),this}rangeGte(e,t){return this.url.searchParams.append(e,"nxl.".concat(t)),this}rangeLt(e,t){return this.url.searchParams.append(e,"sl.".concat(t)),this}rangeLte(e,t){return this.url.searchParams.append(e,"nxr.".concat(t)),this}rangeAdjacent(e,t){return this.url.searchParams.append(e,"adj.".concat(t)),this}overlaps(e,t){return"string"===typeof t?this.url.searchParams.append(e,"ov.".concat(t)):this.url.searchParams.append(e,"ov.{".concat(t.join(","),"}")),this}textSearch(e,t){let{config:n,type:r}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o="";"plain"===r?o="pl":"phrase"===r?o="ph":"websearch"===r&&(o="w");const a=void 0===n?"":"(".concat(n,")");return this.url.searchParams.append(e,"".concat(o,"fts").concat(a,".").concat(t)),this}match(e){return Object.entries(e).forEach(e=>{let[t,n]=e;this.url.searchParams.append(t,"eq.".concat(n))}),this}not(e,t,n){return this.url.searchParams.append(e,"not.".concat(t,".").concat(n)),this}or(e){let{foreignTable:t,referencedTable:n=t}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const r=n?"".concat(n,".or"):"or";return this.url.searchParams.append(r,"(".concat(e,")")),this}filter(e,t,n){return this.url.searchParams.append(e,"".concat(t,".").concat(n)),this}}t.default=o},799:(e,t)=>{var n=Symbol.for("react.transitional.element"),r=Symbol.for("react.fragment");function o(e,t,r){var o=null;if(void 0!==r&&(o=""+r),void 0!==t.key&&(o=""+t.key),"key"in t)for(var a in r={},t)"key"!==a&&(r[a]=t[a]);else r=t;return t=r.ref,{$$typeof:n,type:e,key:o,ref:void 0!==t?t:null,props:r}}t.Fragment=r,t.jsx=o,t.jsxs=o},829:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});const r=n(326).__importDefault(n(736));t.default=class{constructor(e,t){let{headers:n={},schema:r,fetch:o}=t;this.url=e,this.headers=new Headers(n),this.schema=r,this.fetch=o}select(e,t){const{head:n=!1,count:o}=null!==t&&void 0!==t?t:{},a=n?"HEAD":"GET";let i=!1;const s=(null!==e&&void 0!==e?e:"*").split("").map(e=>/\s/.test(e)&&!i?"":('"'===e&&(i=!i),e)).join("");return this.url.searchParams.set("select",s),o&&this.headers.append("Prefer","count=".concat(o)),new r.default({method:a,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(e){let{count:t,defaultToNull:n=!0}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};var o;if(t&&this.headers.append("Prefer","count=".concat(t)),n||this.headers.append("Prefer","missing=default"),Array.isArray(e)){const t=e.reduce((e,t)=>e.concat(Object.keys(t)),[]);if(t.length>0){const e=[...new Set(t)].map(e=>'"'.concat(e,'"'));this.url.searchParams.set("columns",e.join(","))}}return new r.default({method:"POST",url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:null!==(o=this.fetch)&&void 0!==o?o:fetch})}upsert(e){let{onConflict:t,ignoreDuplicates:n=!1,count:o,defaultToNull:a=!0}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};var i;if(this.headers.append("Prefer","resolution=".concat(n?"ignore":"merge","-duplicates")),void 0!==t&&this.url.searchParams.set("on_conflict",t),o&&this.headers.append("Prefer","count=".concat(o)),a||this.headers.append("Prefer","missing=default"),Array.isArray(e)){const t=e.reduce((e,t)=>e.concat(Object.keys(t)),[]);if(t.length>0){const e=[...new Set(t)].map(e=>'"'.concat(e,'"'));this.url.searchParams.set("columns",e.join(","))}}return new r.default({method:"POST",url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:null!==(i=this.fetch)&&void 0!==i?i:fetch})}update(e){let{count:t}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};var n;return t&&this.headers.append("Prefer","count=".concat(t)),new r.default({method:"PATCH",url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:null!==(n=this.fetch)&&void 0!==n?n:fetch})}delete(){let{count:e}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};var t;return e&&this.headers.append("Prefer","count=".concat(e)),new r.default({method:"DELETE",url:this.url,headers:this.headers,schema:this.schema,fetch:null!==(t=this.fetch)&&void 0!==t?t:fetch})}}},853:(e,t,n)=>{e.exports=n(896)},875:(e,t,n)=>{n.d(t,{j2:()=>On,ND:()=>Dn});var r=n(326);class o extends Error{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"FunctionsError",n=arguments.length>2?arguments[2]:void 0;super(e),this.name=t,this.context=n}}class a extends o{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class i extends o{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class s extends o{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var l;!function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"}(l||(l={}));class c{constructor(e){let{headers:t={},customFetch:r,region:o=l.Any}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.url=e,this.headers=t,this.region=o,this.fetch=(e=>{let t;return t=e||("undefined"===typeof fetch?function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return Promise.resolve().then(n.bind(n,630)).then(e=>{let{default:n}=e;return n(...t)})}:fetch),function(){return t(...arguments)}})(r)}setAuth(e){this.headers.Authorization="Bearer ".concat(e)}invoke(e){return(0,r.__awaiter)(this,arguments,void 0,function(e){var t=this;let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return function*(){var r;try{const{headers:o,method:l,body:c,signal:u}=n;let d={},{region:h}=n;h||(h=t.region);const f=new URL("".concat(t.url,"/").concat(e));let p;h&&"any"!==h&&(d["x-region"]=h,f.searchParams.set("forceFunctionRegion",h)),c&&(o&&!Object.prototype.hasOwnProperty.call(o,"Content-Type")||!o)?"undefined"!==typeof Blob&&c instanceof Blob||c instanceof ArrayBuffer?(d["Content-Type"]="application/octet-stream",p=c):"string"===typeof c?(d["Content-Type"]="text/plain",p=c):"undefined"!==typeof FormData&&c instanceof FormData?p=c:(d["Content-Type"]="application/json",p=JSON.stringify(c)):p=c;const m=yield t.fetch(f.toString(),{method:l||"POST",headers:Object.assign(Object.assign(Object.assign({},d),t.headers),o),body:p,signal:u}).catch(e=>{if("AbortError"===e.name)throw e;throw new a(e)}),g=m.headers.get("x-relay-error");if(g&&"true"===g)throw new i(m);if(!m.ok)throw new s(m);let v,y=(null!==(r=m.headers.get("Content-Type"))&&void 0!==r?r:"text/plain").split(";")[0].trim();return v="application/json"===y?yield m.json():"application/octet-stream"===y||"application/pdf"===y?yield m.blob():"text/event-stream"===y?m:"multipart/form-data"===y?yield m.formData():yield m.text(),{data:v,error:null,response:m}}catch(o){return o instanceof Error&&"AbortError"===o.name?{data:null,error:new a(o)}:{data:null,error:o,response:o instanceof s||o instanceof i?o.context:void 0}}}()})}}var u=n(980);const{tE:d,lc:h,pT:f,ZS:p,le:m,kf:g}=u;const v=class{static detectEnvironment(){var e;if("undefined"!==typeof WebSocket)return{type:"native",constructor:WebSocket};if("undefined"!==typeof globalThis&&"undefined"!==typeof globalThis.WebSocket)return{type:"native",constructor:globalThis.WebSocket};if("undefined"!==typeof n.g&&"undefined"!==typeof n.g.WebSocket)return{type:"native",constructor:n.g.WebSocket};if("undefined"!==typeof globalThis&&"undefined"!==typeof globalThis.WebSocketPair&&"undefined"===typeof globalThis.WebSocket)return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if("undefined"!==typeof globalThis&&globalThis.EdgeRuntime||"undefined"!==typeof navigator&&(null===(e=navigator.userAgent)||void 0===e?void 0:e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if("undefined"!==typeof process){const e=process.versions;if(e&&e.node){const t=e.node,n=parseInt(t.replace(/^v/,"").split(".")[0]);return n>=22?"undefined"!==typeof globalThis.WebSocket?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:"Node.js ".concat(n," detected but native WebSocket not found."),workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:"Node.js ".concat(n," detected without native WebSocket support."),workaround:'For Node.js < 22, install "ws" package and provide it via the transport option:\nimport ws from "ws"\nnew RealtimeClient(url, { transport: ws })'}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let t=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(t+="\n\nSuggested solution: ".concat(e.workaround)),new Error(t)}static createWebSocket(e,t){return new(this.getWebSocketConstructor())(e,t)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return"native"===e.type||"ws"===e.type}catch(he){return!1}}},y="realtime-js/".concat("2.76.1"),b=1e4;var w,x,S,k,_,E;!function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"}(w||(w={})),function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"}(x||(x={})),function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"}(S||(S={})),function(e){e.websocket="websocket"}(k||(k={})),function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"}(_||(_={}));class C{constructor(){this.HEADER_LENGTH=1}decode(e,t){return e.constructor===ArrayBuffer?t(this._binaryDecode(e)):t("string"===typeof e?JSON.parse(e):{})}_binaryDecode(e){const t=new DataView(e),n=new TextDecoder;return this._decodeBroadcast(e,t,n)}_decodeBroadcast(e,t,n){const r=t.getUint8(1),o=t.getUint8(2);let a=this.HEADER_LENGTH+2;const i=n.decode(e.slice(a,a+r));a+=r;const s=n.decode(e.slice(a,a+o));a+=o;return{ref:null,topic:i,event:s,payload:JSON.parse(n.decode(e.slice(a,e.byteLength)))}}}class A{constructor(e,t){this.callback=e,this.timerCalc=t,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=t}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}!function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"}(E||(E={}));const j=function(e,t){var n;const r=null!==(n=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).skipTypes)&&void 0!==n?n:[];return t?Object.keys(t).reduce((n,o)=>(n[o]=T(o,e,t,r),n),{}):{}},T=(e,t,n,r)=>{const o=t.find(t=>t.name===e),a=null===o||void 0===o?void 0:o.type,i=n[e];return a&&!r.includes(a)?N(a,i):D(i)},N=(e,t)=>{if("_"===e.charAt(0)){const n=e.slice(1,e.length);return I(t,n)}switch(e){case E.bool:return P(t);case E.float4:case E.float8:case E.int2:case E.int4:case E.int8:case E.numeric:case E.oid:return O(t);case E.json:case E.jsonb:return R(t);case E.timestamp:return M(t);case E.abstime:case E.date:case E.daterange:case E.int4range:case E.int8range:case E.money:case E.reltime:case E.text:case E.time:case E.timestamptz:case E.timetz:case E.tsrange:case E.tstzrange:default:return D(t)}},D=e=>e,P=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},O=e=>{if("string"===typeof e){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},R=e=>{if("string"===typeof e)try{return JSON.parse(e)}catch(t){return console.log("JSON parse error: ".concat(t)),e}return e},I=(e,t)=>{if("string"!==typeof e)return e;const n=e.length-1,r=e[n];if("{"===e[0]&&"}"===r){let r;const a=e.slice(1,n);try{r=JSON.parse("["+a+"]")}catch(o){r=a?a.split(","):[]}return r.map(e=>N(t,e))}return e},M=e=>"string"===typeof e?e.replace(" ","T"):e,F=e=>{const t=new URL(e);return t.protocol=t.protocol.replace(/^ws/i,"http"),t.pathname=t.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),""===t.pathname||"/"===t.pathname?t.pathname="/api/broadcast":t.pathname=t.pathname+"/api/broadcast",t.href};class L{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:b;this.channel=e,this.event=t,this.payload=n,this.timeout=r,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,t){var n;return this._hasReceived(e)&&t(null===(n=this.receivedResp)||void 0===n?void 0:n.response),this.recHooks.push({status:e,callback:t}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);this.channel._on(this.refEvent,{},e=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=e,this._matchReceive(e)}),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,t){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:t})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive(e){let{status:t,response:n}=e;this.recHooks.filter(e=>e.status===t).forEach(e=>e.callback(n))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var U,z,B,q;!function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"}(U||(U={}));class V{constructor(e,t){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(null===t||void 0===t?void 0:t.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},e=>{const{onJoin:t,onLeave:n,onSync:r}=this.caller;this.joinRef=this.channel._joinRef(),this.state=V.syncState(this.state,e,t,n),this.pendingDiffs.forEach(e=>{this.state=V.syncDiff(this.state,e,t,n)}),this.pendingDiffs=[],r()}),this.channel._on(n.diff,{},e=>{const{onJoin:t,onLeave:n,onSync:r}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(e):(this.state=V.syncDiff(this.state,e,t,n),r())}),this.onJoin((e,t,n)=>{this.channel._trigger("presence",{event:"join",key:e,currentPresences:t,newPresences:n})}),this.onLeave((e,t,n)=>{this.channel._trigger("presence",{event:"leave",key:e,currentPresences:t,leftPresences:n})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,t,n,r){const o=this.cloneDeep(e),a=this.transformState(t),i={},s={};return this.map(o,(e,t)=>{a[e]||(s[e]=t)}),this.map(a,(e,t)=>{const n=o[e];if(n){const r=t.map(e=>e.presence_ref),o=n.map(e=>e.presence_ref),a=t.filter(e=>o.indexOf(e.presence_ref)<0),l=n.filter(e=>r.indexOf(e.presence_ref)<0);a.length>0&&(i[e]=a),l.length>0&&(s[e]=l)}else i[e]=t}),this.syncDiff(o,{joins:i,leaves:s},n,r)}static syncDiff(e,t,n,r){const{joins:o,leaves:a}={joins:this.transformState(t.joins),leaves:this.transformState(t.leaves)};return n||(n=()=>{}),r||(r=()=>{}),this.map(o,(t,r)=>{var o;const a=null!==(o=e[t])&&void 0!==o?o:[];if(e[t]=this.cloneDeep(r),a.length>0){const n=e[t].map(e=>e.presence_ref),r=a.filter(e=>n.indexOf(e.presence_ref)<0);e[t].unshift(...r)}n(t,a,r)}),this.map(a,(t,n)=>{let o=e[t];if(!o)return;const a=n.map(e=>e.presence_ref);o=o.filter(e=>a.indexOf(e.presence_ref)<0),e[t]=o,r(t,o,n),0===o.length&&delete e[t]}),e}static map(e,t){return Object.getOwnPropertyNames(e).map(n=>t(n,e[n]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((t,n)=>{const r=e[n];return t[n]="metas"in r?r.metas.map(e=>(e.presence_ref=e.phx_ref,delete e.phx_ref,delete e.phx_ref_prev,e)):r,t},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}!function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"}(z||(z={})),function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"}(B||(B={})),function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"}(q||(q={}));class W{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{config:{}},n=arguments.length>2?arguments[2]:void 0;var r,o;if(this.topic=e,this.params=t,this.socket=n,this.bindings={},this.state=x.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},t.config),this.timeout=this.socket.timeout,this.joinPush=new L(this,S.join,this.params,this.timeout),this.rejoinTimer=new A(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=x.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(e=>e.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel","close ".concat(this.topic," ").concat(this._joinRef())),this.state=x.closed,this.socket._remove(this)}),this._onError(e=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel","error ".concat(this.topic),e),this.state=x.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel","timeout ".concat(this.topic),this.joinPush.timeout),this.state=x.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",e=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel","error ".concat(this.topic),e),this.state=x.errored,this.rejoinTimer.scheduleTimeout())}),this._on(S.reply,{},(e,t)=>{this._trigger(this._replyEventName(t),e)}),this.presence=new V(this),this.broadcastEndpointURL=F(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(null===(o=null===(r=this.params.config)||void 0===r?void 0:r.broadcast)||void 0===o?void 0:o.replay))throw"tried to use replay on public channel '".concat(this.topic,"'. It must be a private channel.")}subscribe(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.timeout;var n,r,o;if(this.socket.isConnected()||this.socket.connect(),this.state==x.closed){const{config:{broadcast:a,presence:i,private:s}}=this.params,l=null!==(r=null===(n=this.bindings.postgres_changes)||void 0===n?void 0:n.map(e=>e.filter))&&void 0!==r?r:[],c=!!this.bindings[B.PRESENCE]&&this.bindings[B.PRESENCE].length>0||!0===(null===(o=this.params.config.presence)||void 0===o?void 0:o.enabled),u={},d={broadcast:a,presence:Object.assign(Object.assign({},i),{enabled:c}),postgres_changes:l,private:s};this.socket.accessTokenValue&&(u.access_token=this.socket.accessTokenValue),this._onError(t=>null===e||void 0===e?void 0:e(q.CHANNEL_ERROR,t)),this._onClose(()=>null===e||void 0===e?void 0:e(q.CLOSED)),this.updateJoinPayload(Object.assign({config:d},u)),this.joinedOnce=!0,this._rejoin(t),this.joinPush.receive("ok",async t=>{let{postgres_changes:n}=t;var r;if(this.socket.setAuth(),void 0!==n){const t=this.bindings.postgres_changes,o=null!==(r=null===t||void 0===t?void 0:t.length)&&void 0!==r?r:0,a=[];for(let r=0;r<o;r++){const o=t[r],{filter:{event:i,schema:s,table:l,filter:c}}=o,u=n&&n[r];if(!u||u.event!==i||u.schema!==s||u.table!==l||u.filter!==c)return this.unsubscribe(),this.state=x.errored,void(null===e||void 0===e||e(q.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes")));a.push(Object.assign(Object.assign({},o),{id:u.id}))}return this.bindings.postgres_changes=a,void(e&&e(q.SUBSCRIBED))}null===e||void 0===e||e(q.SUBSCRIBED)}).receive("error",t=>{this.state=x.errored,null===e||void 0===e||e(q.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(t).join(", ")||"error")))}).receive("timeout",()=>{null===e||void 0===e||e(q.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return await this.send({type:"presence",event:"track",payload:e},t.timeout||this.timeout)}async untrack(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return await this.send({type:"presence",event:"untrack"},e)}on(e,t,n){return this.state===x.joined&&e===B.PRESENCE&&(this.socket.log("channel","resubscribe to ".concat(this.topic," due to change in presence callbacks on joined channel")),this.unsubscribe().then(()=>this.subscribe())),this._on(e,t,n)}async httpSend(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};var r;const o=this.socket.accessTokenValue?"Bearer ".concat(this.socket.accessTokenValue):"";if(void 0===t||null===t)return Promise.reject("Payload is required for httpSend()");const a={method:"POST",headers:{Authorization:o,apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:e,payload:t,private:this.private}]})},i=await this._fetchWithTimeout(this.broadcastEndpointURL,a,null!==(r=n.timeout)&&void 0!==r?r:this.timeout);if(202===i.status)return{success:!0};let s=i.statusText;try{const e=await i.json();s=e.error||e.message||s}catch(l){}return Promise.reject(new Error(s))}async send(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};var n,r;if(this._canPush()||"broadcast"!==e.type)return new Promise(n=>{var r,o,a;const i=this._push(e.type,e,t.timeout||this.timeout);"broadcast"!==e.type||(null===(a=null===(o=null===(r=this.params)||void 0===r?void 0:r.config)||void 0===o?void 0:o.broadcast)||void 0===a?void 0:a.ack)||n("ok"),i.receive("ok",()=>n("ok")),i.receive("error",()=>n("error")),i.receive("timeout",()=>n("timed out"))});{console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:a,payload:i}=e,s={method:"POST",headers:{Authorization:this.socket.accessTokenValue?"Bearer ".concat(this.socket.accessTokenValue):"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:a,payload:i,private:this.private}]})};try{const e=await this._fetchWithTimeout(this.broadcastEndpointURL,s,null!==(n=t.timeout)&&void 0!==n?n:this.timeout);return await(null===(r=e.body)||void 0===r?void 0:r.cancel()),e.ok?"ok":"error"}catch(o){return"AbortError"===o.name?"timed out":"error"}}}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.timeout;this.state=x.leaving;const t=()=>{this.socket.log("channel","leave ".concat(this.topic)),this._trigger(S.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(r=>{n=new L(this,S.leave,{},e),n.receive("ok",()=>{t(),r("ok")}).receive("timeout",()=>{t(),r("timed out")}).receive("error",()=>{r("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{null===n||void 0===n||n.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=x.closed,this.bindings={}}async _fetchWithTimeout(e,t,n){const r=new AbortController,o=setTimeout(()=>r.abort(),n),a=await this.socket.fetch(e,Object.assign(Object.assign({},t),{signal:r.signal}));return clearTimeout(o),a}_push(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.timeout;if(!this.joinedOnce)throw"tried to push '".concat(e,"' to '").concat(this.topic,"' before joining. Use channel.subscribe() before pushing events");let r=new L(this,e,t,n);return this._canPush()?r.send():this._addToPushBuffer(r),r}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>100){const e=this.pushBuffer.shift();e&&(e.destroy(),this.socket.log("channel","discarded push due to buffer overflow: ".concat(e.event),e.payload))}}_onMessage(e,t,n){return t}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,t,n){var r,o;const a=e.toLocaleLowerCase(),{close:i,error:s,leave:l,join:c}=S;if(n&&[i,s,l,c].indexOf(a)>=0&&n!==this._joinRef())return;let u=this._onMessage(a,t,n);if(t&&!u)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(a)?null===(r=this.bindings.postgres_changes)||void 0===r||r.filter(e=>{var t,n,r;return"*"===(null===(t=e.filter)||void 0===t?void 0:t.event)||(null===(r=null===(n=e.filter)||void 0===n?void 0:n.event)||void 0===r?void 0:r.toLocaleLowerCase())===a}).map(e=>e.callback(u,n)):null===(o=this.bindings[a])||void 0===o||o.filter(e=>{var n,r,o,i,s,l;if(["broadcast","presence","postgres_changes"].includes(a)){if("id"in e){const a=e.id,i=null===(n=e.filter)||void 0===n?void 0:n.event;return a&&(null===(r=t.ids)||void 0===r?void 0:r.includes(a))&&("*"===i||(null===i||void 0===i?void 0:i.toLocaleLowerCase())===(null===(o=t.data)||void 0===o?void 0:o.type.toLocaleLowerCase()))}{const n=null===(s=null===(i=null===e||void 0===e?void 0:e.filter)||void 0===i?void 0:i.event)||void 0===s?void 0:s.toLocaleLowerCase();return"*"===n||n===(null===(l=null===t||void 0===t?void 0:t.event)||void 0===l?void 0:l.toLocaleLowerCase())}}return e.type.toLocaleLowerCase()===a}).map(e=>{if("object"===typeof u&&"ids"in u){const e=u.data,{schema:t,table:n,commit_timestamp:r,type:o,errors:a}=e,i={schema:t,table:n,commit_timestamp:r,eventType:o,new:{},old:{},errors:a};u=Object.assign(Object.assign({},i),this._getPayloadRecords(e))}e.callback(u,n)})}_isClosed(){return this.state===x.closed}_isJoined(){return this.state===x.joined}_isJoining(){return this.state===x.joining}_isLeaving(){return this.state===x.leaving}_replyEventName(e){return"chan_reply_".concat(e)}_on(e,t,n){const r=e.toLocaleLowerCase(),o={type:r,filter:t,callback:n};return this.bindings[r]?this.bindings[r].push(o):this.bindings[r]=[o],this}_off(e,t){const n=e.toLocaleLowerCase();return this.bindings[n]&&(this.bindings[n]=this.bindings[n].filter(e=>{var r;return!((null===(r=e.type)||void 0===r?void 0:r.toLocaleLowerCase())===n&&W.isEqual(e.filter,t))})),this}static isEqual(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e)if(e[n]!==t[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(S.close,{},e)}_onError(e){this._on(S.error,{},t=>e(t))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.timeout;this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=x.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const t={new:{},old:{}};return"INSERT"!==e.type&&"UPDATE"!==e.type||(t.new=j(e.columns,e.record)),"UPDATE"!==e.type&&"DELETE"!==e.type||(t.old=j(e.columns,e.old_record)),t}}const H=()=>{},K=25e3,G=10,Q=100,Y=[1e3,2e3,5e3,1e4];class ${constructor(e,t){var r;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=b,this.transport=null,this.heartbeatIntervalMs=K,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=H,this.ref=0,this.reconnectTimer=null,this.logger=H,this.conn=null,this.sendBuffer=[],this.serializer=new C,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=e=>{let t;return t=e||("undefined"===typeof fetch?function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return Promise.resolve().then(n.bind(n,630)).then(e=>{let{default:n}=e;return n(...t)}).catch(e=>{throw new Error("Failed to load @supabase/node-fetch: ".concat(e.message,". ")+"This is required for HTTP requests in Node.js environments without native fetch.")})}:fetch),function(){return t(...arguments)}},!(null===(r=null===t||void 0===t?void 0:t.params)||void 0===r?void 0:r.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=t.params.apikey,this.endPoint="".concat(e,"/").concat(k.websocket),this.httpEndpoint=F(e),this._initializeOptions(t),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(null===t||void 0===t?void 0:t.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||null!==this.conn&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=v.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");const t=e.message;if(t.includes("Node.js"))throw new Error("".concat(t,"\n\n")+'To use Realtime in Node.js, you need to provide a WebSocket implementation:\n\nOption 1: Use Node.js 22+ which has native WebSocket support\nOption 2: Install and provide the "ws" package:\n\n  npm install ws\n\n  import ws from "ws"\n  const client = new RealtimeClient(url, {\n    ...options,\n    transport: ws\n  })');throw new Error("WebSocket not available: ".concat(t))}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:"1.0.0"}))}disconnect(e,t){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const n=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(n),this._setConnectionState("disconnected")},e?this.conn.close(e,null!==t&&void 0!==t?t:""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const t=await e.unsubscribe();return 0===this.channels.length&&this.disconnect(),t}async removeAllChannels(){const e=await Promise.all(this.channels.map(e=>e.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,t,n){this.logger(e,t,n)}connectionState(){switch(this.conn&&this.conn.readyState){case w.connecting:return _.Connecting;case w.open:return _.Open;case w.closing:return _.Closing;default:return _.Closed}}isConnected(){return this.connectionState()===_.Open}isConnecting(){return"connecting"===this._connectionState}isDisconnecting(){return"disconnecting"===this._connectionState}channel(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{config:{}};const n="realtime:".concat(e),r=this.getChannels().find(e=>e.topic===n);if(r)return r;{const n=new W("realtime:".concat(e),t,this);return this.channels.push(n),n}}push(e){const{topic:t,event:n,payload:r,ref:o}=e,a=()=>{this.encode(e,e=>{var t;null===(t=this.conn)||void 0===t||t.send(e)})};this.log("push","".concat(t," ").concat(n," (").concat(o,")"),r),this.isConnected()?a():this.sendBuffer.push(a)}async setAuth(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var e;if(this.isConnected()){if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(t){this.log("error","error in heartbeat callback",t)}return this._wasManualDisconnect=!1,null===(e=this.conn)||void 0===e||e.close(1e3,"heartbeat timeout"),void setTimeout(()=>{var e;this.isConnected()||null===(e=this.reconnectTimer)||void 0===e||e.scheduleTimeout()},Q)}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(t){this.log("error","error in heartbeat callback",t)}this._setAuthSafely("heartbeat")}else try{this.heartbeatCallback("disconnected")}catch(t){this.log("error","error in heartbeat callback",t)}}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let t=this.channels.find(t=>t.topic===e&&(t._isJoined()||t._isJoining()));t&&(this.log("transport",'leaving duplicate topic "'.concat(e,'"')),t.unsubscribe())}_remove(e){this.channels=this.channels.filter(t=>t.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,e=>{if("phoenix"===e.topic&&"phx_reply"===e.event)try{this.heartbeatCallback("ok"===e.payload.status?"ok":"error")}catch(s){this.log("error","error in heartbeat callback",s)}e.ref&&e.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:t,event:n,payload:r,ref:o}=e,a=o?"(".concat(o,")"):"",i=r.status||"";this.log("receive","".concat(i," ").concat(t," ").concat(n," ").concat(a).trim(),r),this.channels.filter(e=>e._isMember(t)).forEach(e=>e._trigger(n,r,o)),this._triggerStateCallbacks("message",e)})}_clearTimer(e){var t;"heartbeat"===e&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):"reconnect"===e&&(null===(t=this.reconnectTimer)||void 0===t||t.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport","connected to ".concat(this.endpointURL())),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker","starting worker for from ".concat(this.workerUrl)):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=e=>{this.log("worker","worker error",e.message),this.workerRef.terminate()},this.workerRef.onmessage=e=>{"keepAlive"===e.data.event&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(e){var t;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||null===(t=this.reconnectTimer)||void 0===t||t.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport","".concat(e)),this._triggerChanError(),this._triggerStateCallbacks("error",e)}_triggerChanError(){this.channels.forEach(e=>e._trigger(S.error))}_appendParams(e,t){if(0===Object.keys(t).length)return e;const n=e.match(/\?/)?"&":"?",r=new URLSearchParams(t);return"".concat(e).concat(n).concat(r)}_workerObjectUrl(e){let t;if(e)t=e;else{const e=new Blob(['\n  addEventListener("message", (e) => {\n    if (e.data.event === "start") {\n      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);\n    }\n  });'],{type:"application/javascript"});t=URL.createObjectURL(e)}return t}_setConnectionState(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this._connectionState=e,"connecting"===e?this._wasManualDisconnect=!1:"disconnecting"===e&&(this._wasManualDisconnect=t)}async _performAuth(){let e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;e=t||(this.accessToken?await this.accessToken():this.accessTokenValue),this.accessTokenValue!=e&&(this.accessTokenValue=e,this.channels.forEach(t=>{const n={access_token:e,version:y};e&&t.updateJoinPayload(n),t.joinedOnce&&t._isJoined()&&t._push(S.access_token,{access_token:e})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"general";this.setAuth().catch(t=>{this.log("error","error setting auth in ".concat(e),t)})}_triggerStateCallbacks(e,t){try{this.stateChangeCallbacks[e].forEach(n=>{try{n(t)}catch(r){this.log("error","error in ".concat(e," callback"),r)}})}catch(n){this.log("error","error triggering ".concat(e," callbacks"),n)}}_setupReconnectionTimer(){this.reconnectTimer=new A(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},G)},this.reconnectAfterMs)}_initializeOptions(e){var t,n,r,o,a,i,s,l,c;if(this.transport=null!==(t=null===e||void 0===e?void 0:e.transport)&&void 0!==t?t:null,this.timeout=null!==(n=null===e||void 0===e?void 0:e.timeout)&&void 0!==n?n:b,this.heartbeatIntervalMs=null!==(r=null===e||void 0===e?void 0:e.heartbeatIntervalMs)&&void 0!==r?r:K,this.worker=null!==(o=null===e||void 0===e?void 0:e.worker)&&void 0!==o&&o,this.accessToken=null!==(a=null===e||void 0===e?void 0:e.accessToken)&&void 0!==a?a:null,this.heartbeatCallback=null!==(i=null===e||void 0===e?void 0:e.heartbeatCallback)&&void 0!==i?i:H,(null===e||void 0===e?void 0:e.params)&&(this.params=e.params),(null===e||void 0===e?void 0:e.logger)&&(this.logger=e.logger),((null===e||void 0===e?void 0:e.logLevel)||(null===e||void 0===e?void 0:e.log_level))&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=null!==(s=null===e||void 0===e?void 0:e.reconnectAfterMs)&&void 0!==s?s:e=>Y[e-1]||1e4,this.encode=null!==(l=null===e||void 0===e?void 0:e.encode)&&void 0!==l?l:(e,t)=>t(JSON.stringify(e)),this.decode=null!==(c=null===e||void 0===e?void 0:e.decode)&&void 0!==c?c:this.serializer.decode.bind(this.serializer),this.worker){if("undefined"!==typeof window&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=null===e||void 0===e?void 0:e.workerUrl}}}class X extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function J(e){return"object"===typeof e&&null!==e&&"__isStorageError"in e}class Z extends X{constructor(e,t,n){super(e),this.name="StorageApiError",this.status=t,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class ee extends X{constructor(e,t){super(e),this.name="StorageUnknownError",this.originalError=t}}const te=e=>{let t;return t=e||("undefined"===typeof fetch?function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return Promise.resolve().then(n.bind(n,630)).then(e=>{let{default:n}=e;return n(...t)})}:fetch),function(){return t(...arguments)}},ne=e=>{if(Array.isArray(e))return e.map(e=>ne(e));if("function"===typeof e||e!==Object(e))return e;const t={};return Object.entries(e).forEach(e=>{let[n,r]=e;const o=n.replace(/([-_][a-z])/gi,e=>e.toUpperCase().replace(/[-_]/g,""));t[o]=ne(r)}),t},re=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),oe=(e,t,o)=>(0,r.__awaiter)(void 0,void 0,void 0,function*(){const a=yield(0,r.__awaiter)(void 0,void 0,void 0,function*(){return"undefined"===typeof Response?(yield Promise.resolve().then(n.bind(n,630))).Response:Response});e instanceof a&&!(null===o||void 0===o?void 0:o.noResolveJson)?e.json().then(n=>{const r=e.status||500,o=(null===n||void 0===n?void 0:n.statusCode)||r+"";t(new Z(re(n),r,o))}).catch(e=>{t(new ee(re(e),e))}):t(new ee(re(e),e))}),ae=(e,t,n,r)=>{const o={method:e,headers:(null===t||void 0===t?void 0:t.headers)||{}};return"GET"!==e&&r?((e=>{if("object"!==typeof e||null===e)return!1;const t=Object.getPrototypeOf(e);return(null===t||t===Object.prototype||null===Object.getPrototypeOf(t))&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)})(r)?(o.headers=Object.assign({"Content-Type":"application/json"},null===t||void 0===t?void 0:t.headers),o.body=JSON.stringify(r)):o.body=r,(null===t||void 0===t?void 0:t.duplex)&&(o.duplex=t.duplex),Object.assign(Object.assign({},o),n)):o};function ie(e,t,n,o,a,i){return(0,r.__awaiter)(this,void 0,void 0,function*(){return new Promise((r,s)=>{e(n,ae(t,o,a,i)).then(e=>{if(!e.ok)throw e;return(null===o||void 0===o?void 0:o.noResolveJson)?e:e.json()}).then(e=>r(e)).catch(e=>oe(e,s,o))})})}function se(e,t,n,o){return(0,r.__awaiter)(this,void 0,void 0,function*(){return ie(e,"GET",t,n,o)})}function le(e,t,n,o,a){return(0,r.__awaiter)(this,void 0,void 0,function*(){return ie(e,"POST",t,o,a,n)})}function ce(e,t,n,o,a){return(0,r.__awaiter)(this,void 0,void 0,function*(){return ie(e,"PUT",t,o,a,n)})}function ue(e,t,n,o,a){return(0,r.__awaiter)(this,void 0,void 0,function*(){return ie(e,"DELETE",t,o,a,n)})}class de{constructor(e,t){this.downloadFn=e,this.shouldThrowOnError=t}then(e,t){return this.execute().then(e,t)}execute(){return(0,r.__awaiter)(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(J(e))return{data:null,error:e};throw e}})}}var he;he=Symbol.toStringTag;const fe=class{constructor(e,t){this.downloadFn=e,this.shouldThrowOnError=t,this[he]="BlobDownloadBuilder",this.promise=null}asStream(){return new de(this.downloadFn,this.shouldThrowOnError)}then(e,t){return this.getPromise().then(e,t)}catch(e){return this.getPromise().catch(e)}finally(e){return this.getPromise().finally(e)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}execute(){return(0,r.__awaiter)(this,void 0,void 0,function*(){try{const e=yield this.downloadFn();return{data:yield e.blob(),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(J(e))return{data:null,error:e};throw e}})}},pe={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},me={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class ge{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0,r=arguments.length>3?arguments[3]:void 0;this.shouldThrowOnError=!1,this.url=e,this.headers=t,this.bucketId=n,this.fetch=te(r)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(e,t,n,o){return(0,r.__awaiter)(this,void 0,void 0,function*(){try{let r;const a=Object.assign(Object.assign({},me),o);let i=Object.assign(Object.assign({},this.headers),"POST"===e&&{"x-upsert":String(a.upsert)});const s=a.metadata;"undefined"!==typeof Blob&&n instanceof Blob?(r=new FormData,r.append("cacheControl",a.cacheControl),s&&r.append("metadata",this.encodeMetadata(s)),r.append("",n)):"undefined"!==typeof FormData&&n instanceof FormData?(r=n,r.append("cacheControl",a.cacheControl),s&&r.append("metadata",this.encodeMetadata(s))):(r=n,i["cache-control"]="max-age=".concat(a.cacheControl),i["content-type"]=a.contentType,s&&(i["x-metadata"]=this.toBase64(this.encodeMetadata(s)))),(null===o||void 0===o?void 0:o.headers)&&(i=Object.assign(Object.assign({},i),o.headers));const l=this._removeEmptyFolders(t),c=this._getFinalPath(l),u=yield("PUT"==e?ce:le)(this.fetch,"".concat(this.url,"/object/").concat(c),r,Object.assign({headers:i},(null===a||void 0===a?void 0:a.duplex)?{duplex:a.duplex}:{}));return{data:{path:l,id:u.Id,fullPath:u.Key},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(J(r))return{data:null,error:r};throw r}})}upload(e,t,n){return(0,r.__awaiter)(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,t,n)})}uploadToSignedUrl(e,t,n,o){return(0,r.__awaiter)(this,void 0,void 0,function*(){const r=this._removeEmptyFolders(e),a=this._getFinalPath(r),i=new URL(this.url+"/object/upload/sign/".concat(a));i.searchParams.set("token",t);try{let e;const t=Object.assign({upsert:me.upsert},o),a=Object.assign(Object.assign({},this.headers),{"x-upsert":String(t.upsert)});"undefined"!==typeof Blob&&n instanceof Blob?(e=new FormData,e.append("cacheControl",t.cacheControl),e.append("",n)):"undefined"!==typeof FormData&&n instanceof FormData?(e=n,e.append("cacheControl",t.cacheControl)):(e=n,a["cache-control"]="max-age=".concat(t.cacheControl),a["content-type"]=t.contentType);return{data:{path:r,fullPath:(yield ce(this.fetch,i.toString(),e,{headers:a})).Key},error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(J(s))return{data:null,error:s};throw s}})}createSignedUploadUrl(e,t){return(0,r.__awaiter)(this,void 0,void 0,function*(){try{let n=this._getFinalPath(e);const r=Object.assign({},this.headers);(null===t||void 0===t?void 0:t.upsert)&&(r["x-upsert"]="true");const o=yield le(this.fetch,"".concat(this.url,"/object/upload/sign/").concat(n),{},{headers:r}),a=new URL(this.url+o.url),i=a.searchParams.get("token");if(!i)throw new X("No token returned by API");return{data:{signedUrl:a.toString(),path:e,token:i},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(J(n))return{data:null,error:n};throw n}})}update(e,t,n){return(0,r.__awaiter)(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,t,n)})}move(e,t,n){return(0,r.__awaiter)(this,void 0,void 0,function*(){try{return{data:yield le(this.fetch,"".concat(this.url,"/object/move"),{bucketId:this.bucketId,sourceKey:e,destinationKey:t,destinationBucket:null===n||void 0===n?void 0:n.destinationBucket},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(J(r))return{data:null,error:r};throw r}})}copy(e,t,n){return(0,r.__awaiter)(this,void 0,void 0,function*(){try{return{data:{path:(yield le(this.fetch,"".concat(this.url,"/object/copy"),{bucketId:this.bucketId,sourceKey:e,destinationKey:t,destinationBucket:null===n||void 0===n?void 0:n.destinationBucket},{headers:this.headers})).Key},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(J(r))return{data:null,error:r};throw r}})}createSignedUrl(e,t,n){return(0,r.__awaiter)(this,void 0,void 0,function*(){try{let r=this._getFinalPath(e),o=yield le(this.fetch,"".concat(this.url,"/object/sign/").concat(r),Object.assign({expiresIn:t},(null===n||void 0===n?void 0:n.transform)?{transform:n.transform}:{}),{headers:this.headers});const a=(null===n||void 0===n?void 0:n.download)?"&download=".concat(!0===n.download?"":n.download):"";return o={signedUrl:encodeURI("".concat(this.url).concat(o.signedURL).concat(a))},{data:o,error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(J(r))return{data:null,error:r};throw r}})}createSignedUrls(e,t,n){return(0,r.__awaiter)(this,void 0,void 0,function*(){try{const r=yield le(this.fetch,"".concat(this.url,"/object/sign/").concat(this.bucketId),{expiresIn:t,paths:e},{headers:this.headers}),o=(null===n||void 0===n?void 0:n.download)?"&download=".concat(!0===n.download?"":n.download):"";return{data:r.map(e=>Object.assign(Object.assign({},e),{signedUrl:e.signedURL?encodeURI("".concat(this.url).concat(e.signedURL).concat(o)):null})),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(J(r))return{data:null,error:r};throw r}})}download(e,t){const n="undefined"!==typeof(null===t||void 0===t?void 0:t.transform)?"render/image/authenticated":"object",r=this.transformOptsToQueryString((null===t||void 0===t?void 0:t.transform)||{}),o=r?"?".concat(r):"",a=this._getFinalPath(e);return new fe(()=>se(this.fetch,"".concat(this.url,"/").concat(n,"/").concat(a).concat(o),{headers:this.headers,noResolveJson:!0}),this.shouldThrowOnError)}info(e){return(0,r.__awaiter)(this,void 0,void 0,function*(){const t=this._getFinalPath(e);try{const e=yield se(this.fetch,"".concat(this.url,"/object/info/").concat(t),{headers:this.headers});return{data:ne(e),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(J(n))return{data:null,error:n};throw n}})}exists(e){return(0,r.__awaiter)(this,void 0,void 0,function*(){const t=this._getFinalPath(e);try{return yield function(e,t,n,o){return(0,r.__awaiter)(this,void 0,void 0,function*(){return ie(e,"HEAD",t,Object.assign(Object.assign({},n),{noResolveJson:!0}),o)})}(this.fetch,"".concat(this.url,"/object/").concat(t),{headers:this.headers}),{data:!0,error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(J(n)&&n instanceof ee){const e=n.originalError;if([400,404].includes(null===e||void 0===e?void 0:e.status))return{data:!1,error:n}}throw n}})}getPublicUrl(e,t){const n=this._getFinalPath(e),r=[],o=(null===t||void 0===t?void 0:t.download)?"download=".concat(!0===t.download?"":t.download):"";""!==o&&r.push(o);const a="undefined"!==typeof(null===t||void 0===t?void 0:t.transform)?"render/image":"object",i=this.transformOptsToQueryString((null===t||void 0===t?void 0:t.transform)||{});""!==i&&r.push(i);let s=r.join("&");return""!==s&&(s="?".concat(s)),{data:{publicUrl:encodeURI("".concat(this.url,"/").concat(a,"/public/").concat(n).concat(s))}}}remove(e){return(0,r.__awaiter)(this,void 0,void 0,function*(){try{return{data:yield ue(this.fetch,"".concat(this.url,"/object/").concat(this.bucketId),{prefixes:e},{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(J(t))return{data:null,error:t};throw t}})}list(e,t,n){return(0,r.__awaiter)(this,void 0,void 0,function*(){try{const r=Object.assign(Object.assign(Object.assign({},pe),t),{prefix:e||""});return{data:yield le(this.fetch,"".concat(this.url,"/object/list/").concat(this.bucketId),r,{headers:this.headers},n),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(J(r))return{data:null,error:r};throw r}})}listV2(e,t){return(0,r.__awaiter)(this,void 0,void 0,function*(){try{const n=Object.assign({},e);return{data:yield le(this.fetch,"".concat(this.url,"/object/list-v2/").concat(this.bucketId),n,{headers:this.headers},t),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(J(n))return{data:null,error:n};throw n}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return"undefined"!==typeof Buffer?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return"".concat(this.bucketId,"/").concat(e.replace(/^\/+/,""))}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const t=[];return e.width&&t.push("width=".concat(e.width)),e.height&&t.push("height=".concat(e.height)),e.resize&&t.push("resize=".concat(e.resize)),e.format&&t.push("format=".concat(e.format)),e.quality&&t.push("quality=".concat(e.quality)),t.join("&")}}const ve="2.76.1",ye={"X-Client-Info":"storage-js/".concat(ve)};class be{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0,r=arguments.length>3?arguments[3]:void 0;this.shouldThrowOnError=!1;const o=new URL(e);if(null===r||void 0===r?void 0:r.useNewHostname){/supabase\.(co|in|red)$/.test(o.hostname)&&!o.hostname.includes("storage.supabase.")&&(o.hostname=o.hostname.replace("supabase.","storage.supabase."))}this.url=o.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},ye),t),this.fetch=te(n)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(){return(0,r.__awaiter)(this,void 0,void 0,function*(){try{return{data:yield se(this.fetch,"".concat(this.url,"/bucket"),{headers:this.headers}),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(J(e))return{data:null,error:e};throw e}})}getBucket(e){return(0,r.__awaiter)(this,void 0,void 0,function*(){try{return{data:yield se(this.fetch,"".concat(this.url,"/bucket/").concat(e),{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(J(t))return{data:null,error:t};throw t}})}createBucket(e){return(0,r.__awaiter)(this,arguments,void 0,function(e){var t=this;let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{public:!1};return function*(){try{return{data:yield le(t.fetch,"".concat(t.url,"/bucket"),{id:e,name:e,type:n.type,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(J(r))return{data:null,error:r};throw r}}()})}updateBucket(e,t){return(0,r.__awaiter)(this,void 0,void 0,function*(){try{return{data:yield ce(this.fetch,"".concat(this.url,"/bucket/").concat(e),{id:e,name:e,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(J(n))return{data:null,error:n};throw n}})}emptyBucket(e){return(0,r.__awaiter)(this,void 0,void 0,function*(){try{return{data:yield le(this.fetch,"".concat(this.url,"/bucket/").concat(e,"/empty"),{},{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(J(t))return{data:null,error:t};throw t}})}deleteBucket(e){return(0,r.__awaiter)(this,void 0,void 0,function*(){try{return{data:yield ue(this.fetch,"".concat(this.url,"/bucket/").concat(e),{},{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(J(t))return{data:null,error:t};throw t}})}}class we{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0;this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},ye),t),this.fetch=te(n)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(e){return(0,r.__awaiter)(this,void 0,void 0,function*(){try{return{data:yield le(this.fetch,"".concat(this.url,"/bucket"),{name:e},{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(J(t))return{data:null,error:t};throw t}})}listBuckets(e){return(0,r.__awaiter)(this,void 0,void 0,function*(){try{const t=new URLSearchParams;void 0!==(null===e||void 0===e?void 0:e.limit)&&t.set("limit",e.limit.toString()),void 0!==(null===e||void 0===e?void 0:e.offset)&&t.set("offset",e.offset.toString()),(null===e||void 0===e?void 0:e.sortColumn)&&t.set("sortColumn",e.sortColumn),(null===e||void 0===e?void 0:e.sortOrder)&&t.set("sortOrder",e.sortOrder),(null===e||void 0===e?void 0:e.search)&&t.set("search",e.search);const n=t.toString(),r=n?"".concat(this.url,"/bucket?").concat(n):"".concat(this.url,"/bucket"),o=yield se(this.fetch,r,{headers:this.headers});return{data:Array.isArray(o)?o.filter(e=>"ANALYTICS"===e.type):[],error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(J(t))return{data:null,error:t};throw t}})}deleteBucket(e){return(0,r.__awaiter)(this,void 0,void 0,function*(){try{return{data:yield ue(this.fetch,"".concat(this.url,"/bucket/").concat(e),{},{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(J(t))return{data:null,error:t};throw t}})}}const xe={"X-Client-Info":"storage-js/".concat(ve),"Content-Type":"application/json"};class Se extends Error{constructor(e){super(e),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}}function ke(e){return"object"===typeof e&&null!==e&&"__isStorageVectorsError"in e}class _e extends Se{constructor(e,t,n){super(e),this.name="StorageVectorsApiError",this.status=t,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class Ee extends Se{constructor(e,t){super(e),this.name="StorageVectorsUnknownError",this.originalError=t}}var Ce;!function(e){e.InternalError="InternalError",e.S3VectorConflictException="S3VectorConflictException",e.S3VectorNotFoundException="S3VectorNotFoundException",e.S3VectorBucketNotEmpty="S3VectorBucketNotEmpty",e.S3VectorMaxBucketsExceeded="S3VectorMaxBucketsExceeded",e.S3VectorMaxIndexesExceeded="S3VectorMaxIndexesExceeded"}(Ce||(Ce={}));const Ae=e=>{let t;return t=e||("undefined"===typeof fetch?function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return Promise.resolve().then(n.bind(n,630)).then(e=>{let{default:n}=e;return n(...t)})}:fetch),function(){return t(...arguments)}},je=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),Te=(e,t,n,r)=>{const o={method:e,headers:(null===t||void 0===t?void 0:t.headers)||{}};return"GET"!==e&&r?((e=>{if("object"!==typeof e||null===e)return!1;const t=Object.getPrototypeOf(e);return(null===t||t===Object.prototype||null===Object.getPrototypeOf(t))&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)})(r)?(o.headers=Object.assign({"Content-Type":"application/json"},null===t||void 0===t?void 0:t.headers),o.body=JSON.stringify(r)):o.body=r,Object.assign(Object.assign({},o),n)):o};function Ne(e,t,n,o,a,i){return(0,r.__awaiter)(this,void 0,void 0,function*(){return new Promise((s,l)=>{e(n,Te(t,o,a,i)).then(e=>{if(!e.ok)throw e;if(null===o||void 0===o?void 0:o.noResolveJson)return e;const t=e.headers.get("content-type");return t&&t.includes("application/json")?e.json():{}}).then(e=>s(e)).catch(e=>((e,t,n)=>(0,r.__awaiter)(void 0,void 0,void 0,function*(){if(e&&"object"===typeof e&&"status"in e&&"ok"in e&&"number"===typeof e.status&&!(null===n||void 0===n?void 0:n.noResolveJson)){const n=e.status||500,r=e;if("function"===typeof r.json)r.json().then(e=>{const r=(null===e||void 0===e?void 0:e.statusCode)||(null===e||void 0===e?void 0:e.code)||n+"";t(new _e(je(e),n,r))}).catch(()=>{const e=n+"",o=r.statusText||"HTTP ".concat(n," error");t(new _e(o,n,e))});else{const e=n+"",o=r.statusText||"HTTP ".concat(n," error");t(new _e(o,n,e))}}else t(new Ee(je(e),e))}))(e,l,o))})})}function De(e,t,n,o,a){return(0,r.__awaiter)(this,void 0,void 0,function*(){return Ne(e,"POST",t,o,a,n)})}class Pe{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0;this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},xe),t),this.fetch=Ae(n)}throwOnError(){return this.shouldThrowOnError=!0,this}createIndex(e){return(0,r.__awaiter)(this,void 0,void 0,function*(){try{return{data:(yield De(this.fetch,"".concat(this.url,"/CreateIndex"),e,{headers:this.headers}))||{},error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(ke(t))return{data:null,error:t};throw t}})}getIndex(e,t){return(0,r.__awaiter)(this,void 0,void 0,function*(){try{return{data:yield De(this.fetch,"".concat(this.url,"/GetIndex"),{vectorBucketName:e,indexName:t},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ke(n))return{data:null,error:n};throw n}})}listIndexes(e){return(0,r.__awaiter)(this,void 0,void 0,function*(){try{return{data:yield De(this.fetch,"".concat(this.url,"/ListIndexes"),e,{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(ke(t))return{data:null,error:t};throw t}})}deleteIndex(e,t){return(0,r.__awaiter)(this,void 0,void 0,function*(){try{return{data:(yield De(this.fetch,"".concat(this.url,"/DeleteIndex"),{vectorBucketName:e,indexName:t},{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ke(n))return{data:null,error:n};throw n}})}}class Oe{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0;this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},xe),t),this.fetch=Ae(n)}throwOnError(){return this.shouldThrowOnError=!0,this}putVectors(e){return(0,r.__awaiter)(this,void 0,void 0,function*(){try{if(e.vectors.length<1||e.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:(yield De(this.fetch,"".concat(this.url,"/PutVectors"),e,{headers:this.headers}))||{},error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(ke(t))return{data:null,error:t};throw t}})}getVectors(e){return(0,r.__awaiter)(this,void 0,void 0,function*(){try{return{data:yield De(this.fetch,"".concat(this.url,"/GetVectors"),e,{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(ke(t))return{data:null,error:t};throw t}})}listVectors(e){return(0,r.__awaiter)(this,void 0,void 0,function*(){try{if(void 0!==e.segmentCount){if(e.segmentCount<1||e.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(void 0!==e.segmentIndex&&(e.segmentIndex<0||e.segmentIndex>=e.segmentCount))throw new Error("segmentIndex must be between 0 and ".concat(e.segmentCount-1))}return{data:yield De(this.fetch,"".concat(this.url,"/ListVectors"),e,{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(ke(t))return{data:null,error:t};throw t}})}queryVectors(e){return(0,r.__awaiter)(this,void 0,void 0,function*(){try{return{data:yield De(this.fetch,"".concat(this.url,"/QueryVectors"),e,{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(ke(t))return{data:null,error:t};throw t}})}deleteVectors(e){return(0,r.__awaiter)(this,void 0,void 0,function*(){try{if(e.keys.length<1||e.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:(yield De(this.fetch,"".concat(this.url,"/DeleteVectors"),e,{headers:this.headers}))||{},error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(ke(t))return{data:null,error:t};throw t}})}}class Re{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0;this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},xe),t),this.fetch=Ae(n)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(e){return(0,r.__awaiter)(this,void 0,void 0,function*(){try{return{data:(yield De(this.fetch,"".concat(this.url,"/CreateVectorBucket"),{vectorBucketName:e},{headers:this.headers}))||{},error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(ke(t))return{data:null,error:t};throw t}})}getBucket(e){return(0,r.__awaiter)(this,void 0,void 0,function*(){try{return{data:yield De(this.fetch,"".concat(this.url,"/GetVectorBucket"),{vectorBucketName:e},{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(ke(t))return{data:null,error:t};throw t}})}listBuckets(){return(0,r.__awaiter)(this,arguments,void 0,function(){var e=this;let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return function*(){try{return{data:yield De(e.fetch,"".concat(e.url,"/ListVectorBuckets"),t,{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(ke(n))return{data:null,error:n};throw n}}()})}deleteBucket(e){return(0,r.__awaiter)(this,void 0,void 0,function*(){try{return{data:(yield De(this.fetch,"".concat(this.url,"/DeleteVectorBucket"),{vectorBucketName:e},{headers:this.headers}))||{},error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(ke(t))return{data:null,error:t};throw t}})}}class Ie extends Re{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};super(e,t.headers||{},t.fetch)}from(e){return new Me(this.url,this.headers,e,this.fetch)}}class Me extends Pe{constructor(e,t,n,r){super(e,t,r),this.vectorBucketName=n}createIndex(e){const t=Object.create(null,{createIndex:{get:()=>super.createIndex}});return(0,r.__awaiter)(this,void 0,void 0,function*(){return t.createIndex.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName}))})}listIndexes(){const e=Object.create(null,{listIndexes:{get:()=>super.listIndexes}});return(0,r.__awaiter)(this,arguments,void 0,function(){var t=this;let n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return function*(){return e.listIndexes.call(t,Object.assign(Object.assign({},n),{vectorBucketName:t.vectorBucketName}))}()})}getIndex(e){const t=Object.create(null,{getIndex:{get:()=>super.getIndex}});return(0,r.__awaiter)(this,void 0,void 0,function*(){return t.getIndex.call(this,this.vectorBucketName,e)})}deleteIndex(e){const t=Object.create(null,{deleteIndex:{get:()=>super.deleteIndex}});return(0,r.__awaiter)(this,void 0,void 0,function*(){return t.deleteIndex.call(this,this.vectorBucketName,e)})}index(e){return new Fe(this.url,this.headers,this.vectorBucketName,e,this.fetch)}}class Fe extends Oe{constructor(e,t,n,r,o){super(e,t,o),this.vectorBucketName=n,this.indexName=r}putVectors(e){const t=Object.create(null,{putVectors:{get:()=>super.putVectors}});return(0,r.__awaiter)(this,void 0,void 0,function*(){return t.putVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}getVectors(e){const t=Object.create(null,{getVectors:{get:()=>super.getVectors}});return(0,r.__awaiter)(this,void 0,void 0,function*(){return t.getVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}listVectors(){const e=Object.create(null,{listVectors:{get:()=>super.listVectors}});return(0,r.__awaiter)(this,arguments,void 0,function(){var t=this;let n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return function*(){return e.listVectors.call(t,Object.assign(Object.assign({},n),{vectorBucketName:t.vectorBucketName,indexName:t.indexName}))}()})}queryVectors(e){const t=Object.create(null,{queryVectors:{get:()=>super.queryVectors}});return(0,r.__awaiter)(this,void 0,void 0,function*(){return t.queryVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}deleteVectors(e){const t=Object.create(null,{deleteVectors:{get:()=>super.deleteVectors}});return(0,r.__awaiter)(this,void 0,void 0,function*(){return t.deleteVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}}class Le extends be{constructor(e){super(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},arguments.length>2?arguments[2]:void 0,arguments.length>3?arguments[3]:void 0)}from(e){return new ge(this.url,this.headers,e,this.fetch)}get vectors(){return new Ie(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new we(this.url+"/iceberg",this.headers,this.fetch)}}let Ue="";Ue="undefined"!==typeof Deno?"deno":"undefined"!==typeof document?"web":"undefined"!==typeof navigator&&"ReactNative"===navigator.product?"react-native":"node";const ze={headers:{"X-Client-Info":"supabase-js-".concat(Ue,"/").concat("2.76.1")}},Be={schema:"public"},qe={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},Ve={};var We=n(630);const He=e=>{let t;return t=e||("undefined"===typeof fetch?We.default:fetch),function(){return t(...arguments)}},Ke=(e,t,n)=>{const r=He(n),o="undefined"===typeof Headers?We.Headers:Headers;return async(n,a)=>{var i;const s=null!==(i=await t())&&void 0!==i?i:e;let l=new o(null===a||void 0===a?void 0:a.headers);return l.has("apikey")||l.set("apikey",e),l.has("Authorization")||l.set("Authorization","Bearer ".concat(s)),r(n,Object.assign(Object.assign({},a),{headers:l}))}};const Ge="2.76.1",Qe=3e4,Ye=9e4,$e={"X-Client-Info":"gotrue-js/".concat(Ge)},Xe="X-Supabase-Api-Version",Je={timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"},Ze=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i;class et extends Error{constructor(e,t,n){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=t,this.code=n}}function tt(e){return"object"===typeof e&&null!==e&&"__isAuthError"in e}class nt extends et{constructor(e,t,n){super(e,t,n),this.name="AuthApiError",this.status=t,this.code=n}}class rt extends et{constructor(e,t){super(e),this.name="AuthUnknownError",this.originalError=t}}class ot extends et{constructor(e,t,n,r){super(e,n,r),this.name=t,this.status=n}}class at extends ot{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}class it extends ot{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class st extends ot{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class lt extends ot{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=t}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class ct extends ot{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=t}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class ut extends ot{constructor(e,t){super(e,"AuthRetryableFetchError",t,void 0)}}function dt(e){return tt(e)&&"AuthRetryableFetchError"===e.name}class ht extends ot{constructor(e,t,n){super(e,"AuthWeakPasswordError",t,"weak_password"),this.reasons=n}}class ft extends ot{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const pt="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),mt=" \t\n\r=".split(""),gt=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<mt.length;t+=1)e[mt[t].charCodeAt(0)]=-2;for(let t=0;t<pt.length;t+=1)e[pt[t].charCodeAt(0)]=t;return e})();function vt(e,t,n){if(null!==e)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const e=t.queue>>t.queuedBits-6&63;n(pt[e]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const e=t.queue>>t.queuedBits-6&63;n(pt[e]),t.queuedBits-=6}}function yt(e,t,n){const r=gt[e];if(!(r>-1)){if(-2===r)return;throw new Error('Invalid Base64-URL character "'.concat(String.fromCharCode(e),'"'))}for(t.queue=t.queue<<6|r,t.queuedBits+=6;t.queuedBits>=8;)n(t.queue>>t.queuedBits-8&255),t.queuedBits-=8}function bt(e){const t=[],n=e=>{t.push(String.fromCodePoint(e))},r={utf8seq:0,codepoint:0},o={queue:0,queuedBits:0},a=e=>{!function(e,t,n){if(0===t.utf8seq){if(e<=127)return void n(e);for(let n=1;n<6;n+=1)if(0===(e>>7-n&1)){t.utf8seq=n;break}if(2===t.utf8seq)t.codepoint=31&e;else if(3===t.utf8seq)t.codepoint=15&e;else{if(4!==t.utf8seq)throw new Error("Invalid UTF-8 sequence");t.codepoint=7&e}t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|63&e,t.utf8seq-=1,0===t.utf8seq&&n(t.codepoint)}}(e,r,n)};for(let i=0;i<e.length;i+=1)yt(e.charCodeAt(i),o,a);return t.join("")}function wt(e,t){if(!(e<=127)){if(e<=2047)return t(192|e>>6),void t(128|63&e);if(e<=65535)return t(224|e>>12),t(128|e>>6&63),void t(128|63&e);if(e<=1114111)return t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),void t(128|63&e);throw new Error("Unrecognized Unicode codepoint: ".concat(e.toString(16)))}t(e)}function xt(e,t){for(let n=0;n<e.length;n+=1){let r=e.charCodeAt(n);if(r>55295&&r<=56319){const t=1024*(r-55296)&65535;r=65536+(e.charCodeAt(n+1)-56320&65535|t),n+=1}wt(r,t)}}function St(e){const t=[],n={queue:0,queuedBits:0},r=e=>{t.push(e)};for(let o=0;o<e.length;o+=1)yt(e.charCodeAt(o),n,r);return new Uint8Array(t)}function kt(e){const t=[],n={queue:0,queuedBits:0},r=e=>{t.push(e)};return e.forEach(e=>vt(e,n,r)),vt(null,n,r),t.join("")}const _t=()=>"undefined"!==typeof window&&"undefined"!==typeof document,Et={tested:!1,writable:!1},Ct=()=>{if(!_t())return!1;try{if("object"!==typeof globalThis.localStorage)return!1}catch(t){return!1}if(Et.tested)return Et.writable;const e="lswt-".concat(Math.random()).concat(Math.random());try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),Et.tested=!0,Et.writable=!0}catch(t){Et.tested=!0,Et.writable=!1}return Et.writable};const At=e=>{let t;return t=e||("undefined"===typeof fetch?function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return Promise.resolve().then(n.bind(n,630)).then(e=>{let{default:n}=e;return n(...t)})}:fetch),function(){return t(...arguments)}},jt=async(e,t,n)=>{await e.setItem(t,JSON.stringify(n))},Tt=async(e,t)=>{const n=await e.getItem(t);if(!n)return null;try{return JSON.parse(n)}catch(he){return n}},Nt=async(e,t)=>{await e.removeItem(t)};class Dt{constructor(){this.promise=new Dt.promiseConstructor((e,t)=>{this.resolve=e,this.reject=t})}}function Pt(e){const t=e.split(".");if(3!==t.length)throw new ft("Invalid JWT structure");for(let n=0;n<t.length;n++)if(!Ze.test(t[n]))throw new ft("JWT not in base64url format");return{header:JSON.parse(bt(t[0])),payload:JSON.parse(bt(t[1])),signature:St(t[2]),raw:{header:t[0],payload:t[1]}}}function Ot(e){return("0"+e.toString(16)).substr(-2)}async function Rt(e){if(!("undefined"!==typeof crypto&&"undefined"!==typeof crypto.subtle&&"undefined"!==typeof TextEncoder))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const t=await async function(e){const t=(new TextEncoder).encode(e),n=await crypto.subtle.digest("SHA-256",t),r=new Uint8Array(n);return Array.from(r).map(e=>String.fromCharCode(e)).join("")}(e);return btoa(t).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function It(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=function(){const e=new Uint32Array(56);if("undefined"===typeof crypto){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",t=e.length;let n="";for(let r=0;r<56;r++)n+=e.charAt(Math.floor(Math.random()*t));return n}return crypto.getRandomValues(e),Array.from(e,Ot).join("")}();let o=r;n&&(o+="/PASSWORD_RECOVERY"),await jt(e,"".concat(t,"-code-verifier"),o);const a=await Rt(r);return[a,r===a?"plain":"s256"]}Dt.promiseConstructor=Promise;const Mt=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;const Ft=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Lt(e){if(!Ft.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Ut(){return new Proxy({},{get:(e,t)=>{if("__isUserNotAvailableProxy"===t)return!0;if("symbol"===typeof t){const e=t.toString();if("Symbol(Symbol.toPrimitive)"===e||"Symbol(Symbol.toStringTag)"===e||"Symbol(util.inspect.custom)"===e)return}throw new Error('@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "'.concat(t,'" property of the session object is not supported. Please use getUser() instead.'))},set:(e,t)=>{throw new Error('@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "'.concat(t,'" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.'))},deleteProperty:(e,t)=>{throw new Error('@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "'.concat(t,'" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.'))}})}function zt(e){return JSON.parse(JSON.stringify(e))}const Bt=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),qt=[502,503,504];async function Vt(e){var t,n;if(!("object"===typeof(n=e)&&null!==n&&"status"in n&&"ok"in n&&"json"in n&&"function"===typeof n.json))throw new ut(Bt(e),0);if(qt.includes(e.status))throw new ut(Bt(e),e.status);let r,o;try{r=await e.json()}catch(i){throw new rt(Bt(i),i)}const a=function(e){const t=e.headers.get(Xe);if(!t)return null;if(!t.match(Mt))return null;try{return new Date("".concat(t,"T00:00:00.0Z"))}catch(i){return null}}(e);if(a&&a.getTime()>=Je.timestamp&&"object"===typeof r&&r&&"string"===typeof r.code?o=r.code:"object"===typeof r&&r&&"string"===typeof r.error_code&&(o=r.error_code),o){if("weak_password"===o)throw new ht(Bt(r),e.status,(null===(t=r.weak_password)||void 0===t?void 0:t.reasons)||[]);if("session_not_found"===o)throw new at}else if("object"===typeof r&&r&&"object"===typeof r.weak_password&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((e,t)=>e&&"string"===typeof t,!0))throw new ht(Bt(r),e.status,r.weak_password.reasons);throw new nt(Bt(r),e.status||500,o)}async function Wt(e,t,n,r){var o;const a=Object.assign({},null===r||void 0===r?void 0:r.headers);a[Xe]||(a[Xe]=Je.name),(null===r||void 0===r?void 0:r.jwt)&&(a.Authorization="Bearer ".concat(r.jwt));const i=null!==(o=null===r||void 0===r?void 0:r.query)&&void 0!==o?o:{};(null===r||void 0===r?void 0:r.redirectTo)&&(i.redirect_to=r.redirectTo);const s=Object.keys(i).length?"?"+new URLSearchParams(i).toString():"",l=await async function(e,t,n,r,o,a){const i=((e,t,n,r)=>{const o={method:e,headers:(null===t||void 0===t?void 0:t.headers)||{}};return"GET"===e?o:(o.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},null===t||void 0===t?void 0:t.headers),o.body=JSON.stringify(r),Object.assign(Object.assign({},o),n))})(t,r,o,a);let s;try{s=await e(n,Object.assign({},i))}catch(l){throw console.error(l),new ut(Bt(l),0)}s.ok||await Vt(s);if(null===r||void 0===r?void 0:r.noResolveJson)return s;try{return await s.json()}catch(l){await Vt(l)}}(e,t,n+s,{headers:a,noResolveJson:null===r||void 0===r?void 0:r.noResolveJson},{},null===r||void 0===r?void 0:r.body);return(null===r||void 0===r?void 0:r.xform)?null===r||void 0===r?void 0:r.xform(l):{data:Object.assign({},l),error:null}}function Ht(e){var t;let n=null;var r;(function(e){return e.access_token&&e.refresh_token&&e.expires_in})(e)&&(n=Object.assign({},e),e.expires_at||(n.expires_at=(r=e.expires_in,Math.round(Date.now()/1e3)+r)));return{data:{session:n,user:null!==(t=e.user)&&void 0!==t?t:e},error:null}}function Kt(e){const t=Ht(e);return!t.error&&e.weak_password&&"object"===typeof e.weak_password&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&"string"===typeof e.weak_password.message&&e.weak_password.reasons.reduce((e,t)=>e&&"string"===typeof t,!0)&&(t.data.weak_password=e.weak_password),t}function Gt(e){var t;return{data:{user:null!==(t=e.user)&&void 0!==t?t:e},error:null}}function Qt(e){return{data:e,error:null}}function Yt(e){const{action_link:t,email_otp:n,hashed_token:o,redirect_to:a,verification_type:i}=e,s=(0,r.__rest)(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]);return{data:{properties:{action_link:t,email_otp:n,hashed_token:o,redirect_to:a,verification_type:i},user:Object.assign({},s)},error:null}}function $t(e){return e}const Xt=["global","local","others"];class Jt{constructor(e){let{url:t="",headers:n={},fetch:r}=e;this.url=t,this.headers=n,this.fetch=At(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Xt[0];if(Xt.indexOf(t)<0)throw new Error("@supabase/auth-js: Parameter scope must be one of ".concat(Xt.join(", ")));try{return await Wt(this.fetch,"POST","".concat(this.url,"/logout?scope=").concat(t),{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(n){if(tt(n))return{data:null,error:n};throw n}}async inviteUserByEmail(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};try{return await Wt(this.fetch,"POST","".concat(this.url,"/invite"),{body:{email:e,data:t.data},headers:this.headers,redirectTo:t.redirectTo,xform:Gt})}catch(n){if(tt(n))return{data:{user:null},error:n};throw n}}async generateLink(e){try{const{options:t}=e,n=(0,r.__rest)(e,["options"]),o=Object.assign(Object.assign({},n),t);return"newEmail"in n&&(o.new_email=null===n||void 0===n?void 0:n.newEmail,delete o.newEmail),await Wt(this.fetch,"POST","".concat(this.url,"/admin/generate_link"),{body:o,headers:this.headers,xform:Yt,redirectTo:null===t||void 0===t?void 0:t.redirectTo})}catch(t){if(tt(t))return{data:{properties:null,user:null},error:t};throw t}}async createUser(e){try{return await Wt(this.fetch,"POST","".concat(this.url,"/admin/users"),{body:e,headers:this.headers,xform:Gt})}catch(t){if(tt(t))return{data:{user:null},error:t};throw t}}async listUsers(e){var t,n,r,o,a,i,s;try{const l={nextPage:null,lastPage:0,total:0},c=await Wt(this.fetch,"GET","".concat(this.url,"/admin/users"),{headers:this.headers,noResolveJson:!0,query:{page:null!==(n=null===(t=null===e||void 0===e?void 0:e.page)||void 0===t?void 0:t.toString())&&void 0!==n?n:"",per_page:null!==(o=null===(r=null===e||void 0===e?void 0:e.perPage)||void 0===r?void 0:r.toString())&&void 0!==o?o:""},xform:$t});if(c.error)throw c.error;const u=await c.json(),d=null!==(a=c.headers.get("x-total-count"))&&void 0!==a?a:0,h=null!==(s=null===(i=c.headers.get("link"))||void 0===i?void 0:i.split(","))&&void 0!==s?s:[];return h.length>0&&(h.forEach(e=>{const t=parseInt(e.split(";")[0].split("=")[1].substring(0,1)),n=JSON.parse(e.split(";")[1].split("=")[1]);l["".concat(n,"Page")]=t}),l.total=parseInt(d)),{data:Object.assign(Object.assign({},u),l),error:null}}catch(l){if(tt(l))return{data:{users:[]},error:l};throw l}}async getUserById(e){Lt(e);try{return await Wt(this.fetch,"GET","".concat(this.url,"/admin/users/").concat(e),{headers:this.headers,xform:Gt})}catch(t){if(tt(t))return{data:{user:null},error:t};throw t}}async updateUserById(e,t){Lt(e);try{return await Wt(this.fetch,"PUT","".concat(this.url,"/admin/users/").concat(e),{body:t,headers:this.headers,xform:Gt})}catch(n){if(tt(n))return{data:{user:null},error:n};throw n}}async deleteUser(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];Lt(e);try{return await Wt(this.fetch,"DELETE","".concat(this.url,"/admin/users/").concat(e),{headers:this.headers,body:{should_soft_delete:t},xform:Gt})}catch(n){if(tt(n))return{data:{user:null},error:n};throw n}}async _listFactors(e){Lt(e.userId);try{const{data:t,error:n}=await Wt(this.fetch,"GET","".concat(this.url,"/admin/users/").concat(e.userId,"/factors"),{headers:this.headers,xform:e=>({data:{factors:e},error:null})});return{data:t,error:n}}catch(t){if(tt(t))return{data:null,error:t};throw t}}async _deleteFactor(e){Lt(e.userId),Lt(e.id);try{return{data:await Wt(this.fetch,"DELETE","".concat(this.url,"/admin/users/").concat(e.userId,"/factors/").concat(e.id),{headers:this.headers}),error:null}}catch(t){if(tt(t))return{data:null,error:t};throw t}}async _listOAuthClients(e){var t,n,r,o,a,i,s;try{const l={nextPage:null,lastPage:0,total:0},c=await Wt(this.fetch,"GET","".concat(this.url,"/admin/oauth/clients"),{headers:this.headers,noResolveJson:!0,query:{page:null!==(n=null===(t=null===e||void 0===e?void 0:e.page)||void 0===t?void 0:t.toString())&&void 0!==n?n:"",per_page:null!==(o=null===(r=null===e||void 0===e?void 0:e.perPage)||void 0===r?void 0:r.toString())&&void 0!==o?o:""},xform:$t});if(c.error)throw c.error;const u=await c.json(),d=null!==(a=c.headers.get("x-total-count"))&&void 0!==a?a:0,h=null!==(s=null===(i=c.headers.get("link"))||void 0===i?void 0:i.split(","))&&void 0!==s?s:[];return h.length>0&&(h.forEach(e=>{const t=parseInt(e.split(";")[0].split("=")[1].substring(0,1)),n=JSON.parse(e.split(";")[1].split("=")[1]);l["".concat(n,"Page")]=t}),l.total=parseInt(d)),{data:Object.assign(Object.assign({},u),l),error:null}}catch(l){if(tt(l))return{data:{clients:[]},error:l};throw l}}async _createOAuthClient(e){try{return await Wt(this.fetch,"POST","".concat(this.url,"/admin/oauth/clients"),{body:e,headers:this.headers,xform:e=>({data:e,error:null})})}catch(t){if(tt(t))return{data:null,error:t};throw t}}async _getOAuthClient(e){try{return await Wt(this.fetch,"GET","".concat(this.url,"/admin/oauth/clients/").concat(e),{headers:this.headers,xform:e=>({data:e,error:null})})}catch(t){if(tt(t))return{data:null,error:t};throw t}}async _deleteOAuthClient(e){try{return await Wt(this.fetch,"DELETE","".concat(this.url,"/admin/oauth/clients/").concat(e),{headers:this.headers,xform:e=>({data:e,error:null})})}catch(t){if(tt(t))return{data:null,error:t};throw t}}async _regenerateOAuthClientSecret(e){try{return await Wt(this.fetch,"POST","".concat(this.url,"/admin/oauth/clients/").concat(e,"/regenerate_secret"),{headers:this.headers,xform:e=>({data:e,error:null})})}catch(t){if(tt(t))return{data:null,error:t};throw t}}}function Zt(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{getItem:t=>e[t]||null,setItem:(t,n)=>{e[t]=n},removeItem:t=>{delete e[t]}}}const en=!!(globalThis&&Ct()&&globalThis.localStorage&&"true"===globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug"));class tn extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class nn extends tn{}async function rn(e,t,n){en&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const r=new globalThis.AbortController;return t>0&&setTimeout(()=>{r.abort(),en&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,0===t?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async r=>{if(!r){if(0===t)throw en&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new nn('Acquiring an exclusive Navigator LockManager lock "'.concat(e,'" immediately failed'));if(en)try{const e=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(e,null,"  "))}catch(o){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",o)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}en&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,r.name);try{return await n()}finally{en&&console.log("@supabase/gotrue-js: navigatorLock: released",e,r.name)}}))}function on(e){if(!/^0x[a-fA-F0-9]{40}$/.test(e))throw new Error('@supabase/auth-js: Address "'.concat(e,'" is invalid.'));return e.toLowerCase()}function an(e){const t=(new TextEncoder).encode(e);return"0x"+Array.from(t,e=>e.toString(16).padStart(2,"0")).join("")}class sn extends Error{constructor(e){let{message:t,code:n,cause:r,name:o}=e;var a;super(t,{cause:r}),this.__isWebAuthnError=!0,this.name=null!==(a=null!==o&&void 0!==o?o:r instanceof Error?r.name:void 0)&&void 0!==a?a:"Unknown Error",this.code=n}}class ln extends sn{constructor(e,t){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t,message:e}),this.name="WebAuthnUnknownError",this.originalError=t}}function cn(e){let{error:t,options:n}=e;var r,o,a;const{publicKey:i}=n;if(!i)throw Error("options was missing required publicKey property");if("AbortError"===t.name){if(n.signal instanceof AbortSignal)return new sn({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else if("ConstraintError"===t.name){if(!0===(null===(r=i.authenticatorSelection)||void 0===r?void 0:r.requireResidentKey))return new sn({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:t});if("conditional"===n.mediation&&"required"===(null===(o=i.authenticatorSelection)||void 0===o?void 0:o.userVerification))return new sn({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:t});if("required"===(null===(a=i.authenticatorSelection)||void 0===a?void 0:a.userVerification))return new sn({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:t})}else{if("InvalidStateError"===t.name)return new sn({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:t});if("NotAllowedError"===t.name)return new sn({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if("NotSupportedError"===t.name){return 0===i.pubKeyCredParams.filter(e=>"public-key"===e.type).length?new sn({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:t}):new sn({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:t})}if("SecurityError"===t.name){const e=window.location.hostname;if(!gn(e))return new sn({message:"".concat(window.location.hostname," is an invalid domain"),code:"ERROR_INVALID_DOMAIN",cause:t});if(i.rp.id!==e)return new sn({message:'The RP ID "'.concat(i.rp.id,'" is invalid for this domain'),code:"ERROR_INVALID_RP_ID",cause:t})}else if("TypeError"===t.name){if(i.user.id.byteLength<1||i.user.id.byteLength>64)return new sn({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:t})}else if("UnknownError"===t.name)return new sn({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new sn({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}function un(e){let{error:t,options:n}=e;const{publicKey:r}=n;if(!r)throw Error("options was missing required publicKey property");if("AbortError"===t.name){if(n.signal instanceof AbortSignal)return new sn({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else{if("NotAllowedError"===t.name)return new sn({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if("SecurityError"===t.name){const e=window.location.hostname;if(!gn(e))return new sn({message:"".concat(window.location.hostname," is an invalid domain"),code:"ERROR_INVALID_DOMAIN",cause:t});if(r.rpId!==e)return new sn({message:'The RP ID "'.concat(r.rpId,'" is invalid for this domain'),code:"ERROR_INVALID_RP_ID",cause:t})}else if("UnknownError"===t.name)return new sn({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new sn({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}const dn=new class{createNewAbortSignal(){if(this.controller){const e=new Error("Cancelling existing WebAuthn API call for new one");e.name="AbortError",this.controller.abort(e)}const e=new AbortController;return this.controller=e,e.signal}cancelCeremony(){if(this.controller){const e=new Error("Manually cancelling existing WebAuthn API call");e.name="AbortError",this.controller.abort(e),this.controller=void 0}}};function hn(e){if(!e)throw new Error("Credential creation options are required");if("undefined"!==typeof PublicKeyCredential&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&"function"===typeof PublicKeyCredential.parseCreationOptionsFromJSON)return PublicKeyCredential.parseCreationOptionsFromJSON(e);const{challenge:t,user:n,excludeCredentials:o}=e,a=(0,r.__rest)(e,["challenge","user","excludeCredentials"]),i=St(t).buffer,s=Object.assign(Object.assign({},n),{id:St(n.id).buffer}),l=Object.assign(Object.assign({},a),{challenge:i,user:s});if(o&&o.length>0){l.excludeCredentials=new Array(o.length);for(let e=0;e<o.length;e++){const t=o[e];l.excludeCredentials[e]=Object.assign(Object.assign({},t),{id:St(t.id).buffer,type:t.type||"public-key",transports:t.transports})}}return l}function fn(e){if(!e)throw new Error("Credential request options are required");if("undefined"!==typeof PublicKeyCredential&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&"function"===typeof PublicKeyCredential.parseRequestOptionsFromJSON)return PublicKeyCredential.parseRequestOptionsFromJSON(e);const{challenge:t,allowCredentials:n}=e,o=(0,r.__rest)(e,["challenge","allowCredentials"]),a=St(t).buffer,i=Object.assign(Object.assign({},o),{challenge:a});if(n&&n.length>0){i.allowCredentials=new Array(n.length);for(let e=0;e<n.length;e++){const t=n[e];i.allowCredentials[e]=Object.assign(Object.assign({},t),{id:St(t.id).buffer,type:t.type||"public-key",transports:t.transports})}}return i}function pn(e){var t;if("toJSON"in e&&"function"===typeof e.toJSON)return e.toJSON();const n=e;return{id:e.id,rawId:e.id,response:{attestationObject:kt(new Uint8Array(e.response.attestationObject)),clientDataJSON:kt(new Uint8Array(e.response.clientDataJSON))},type:"public-key",clientExtensionResults:e.getClientExtensionResults(),authenticatorAttachment:null!==(t=n.authenticatorAttachment)&&void 0!==t?t:void 0}}function mn(e){var t;if("toJSON"in e&&"function"===typeof e.toJSON)return e.toJSON();const n=e,r=e.getClientExtensionResults(),o=e.response;return{id:e.id,rawId:e.id,response:{authenticatorData:kt(new Uint8Array(o.authenticatorData)),clientDataJSON:kt(new Uint8Array(o.clientDataJSON)),signature:kt(new Uint8Array(o.signature)),userHandle:o.userHandle?kt(new Uint8Array(o.userHandle)):void 0},type:"public-key",clientExtensionResults:r,authenticatorAttachment:null!==(t=n.authenticatorAttachment)&&void 0!==t?t:void 0}}function gn(e){return"localhost"===e||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(e)}function vn(){var e,t;return!!(_t()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&"function"===typeof(null===(e=null===navigator||void 0===navigator?void 0:navigator.credentials)||void 0===e?void 0:e.create)&&"function"===typeof(null===(t=null===navigator||void 0===navigator?void 0:navigator.credentials)||void 0===t?void 0:t.get))}const yn={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"none"},bn={userVerification:"preferred",hints:["security-key"]};function wn(){const e=e=>null!==e&&"object"===typeof e&&!Array.isArray(e),t=e=>e instanceof ArrayBuffer||ArrayBuffer.isView(e),n={};for(var r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];for(const i of o)if(i)for(const r in i){const o=i[r];if(void 0!==o)if(Array.isArray(o))n[r]=o;else if(t(o))n[r]=o;else if(e(o)){const t=n[r];e(t)?n[r]=wn(t,o):n[r]=wn(o)}else n[r]=o}return n}class xn{constructor(e){this.client=e,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(e){return this.client.mfa.enroll(Object.assign(Object.assign({},e),{factorType:"webauthn"}))}async _challenge(e,t){let{factorId:n,webauthn:r,friendlyName:o,signal:a}=e;try{const{data:e,error:i}=await this.client.mfa.challenge({factorId:n,webauthn:r});if(!e)return{data:null,error:i};const s=null!==a&&void 0!==a?a:dn.createNewAbortSignal();if("create"===e.webauthn.type){const{user:t}=e.webauthn.credential_options.publicKey;t.name||(t.name="".concat(t.id,":").concat(o)),t.displayName||(t.displayName=t.name)}switch(e.webauthn.type){case"create":{const r=function(e,t){return wn(yn,e,t||{})}(e.webauthn.credential_options.publicKey,null===t||void 0===t?void 0:t.create),{data:o,error:a}=await async function(e){try{const t=await navigator.credentials.create(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new ln("Browser returned unexpected credential type",t)}:{data:null,error:new ln("Empty credential response",t)}}catch(t){return{data:null,error:cn({error:t,options:e})}}}({publicKey:r,signal:s});return o?{data:{factorId:n,challengeId:e.id,webauthn:{type:e.webauthn.type,credential_response:o}},error:null}:{data:null,error:a}}case"request":{const r=function(e,t){return wn(bn,e,t||{})}(e.webauthn.credential_options.publicKey,null===t||void 0===t?void 0:t.request),{data:o,error:a}=await async function(e){try{const t=await navigator.credentials.get(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new ln("Browser returned unexpected credential type",t)}:{data:null,error:new ln("Empty credential response",t)}}catch(t){return{data:null,error:un({error:t,options:e})}}}(Object.assign(Object.assign({},e.webauthn.credential_options),{publicKey:r,signal:s}));return o?{data:{factorId:n,challengeId:e.id,webauthn:{type:e.webauthn.type,credential_response:o}},error:null}:{data:null,error:a}}}}catch(i){return tt(i)?{data:null,error:i}:{data:null,error:new rt("Unexpected error in challenge",i)}}}async _verify(e){let{challengeId:t,factorId:n,webauthn:r}=e;return this.client.mfa.verify({factorId:n,challengeId:t,webauthn:r})}async _authenticate(e,t){let{factorId:n,webauthn:{rpId:r=("undefined"!==typeof window?window.location.hostname:void 0),rpOrigins:o=("undefined"!==typeof window?[window.location.origin]:void 0),signal:a}}=e;if(!r)return{data:null,error:new et("rpId is required for WebAuthn authentication")};try{if(!vn())return{data:null,error:new rt("Browser does not support WebAuthn",null)};const{data:e,error:i}=await this.challenge({factorId:n,webauthn:{rpId:r,rpOrigins:o},signal:a},{request:t});if(!e)return{data:null,error:i};const{webauthn:s}=e;return this._verify({factorId:n,challengeId:e.challengeId,webauthn:{type:s.type,rpId:r,rpOrigins:o,credential_response:s.credential_response}})}catch(i){return tt(i)?{data:null,error:i}:{data:null,error:new rt("Unexpected error in authenticate",i)}}}async _register(e,t){let{friendlyName:n,rpId:r=("undefined"!==typeof window?window.location.hostname:void 0),rpOrigins:o=("undefined"!==typeof window?[window.location.origin]:void 0),signal:a}=e;if(!r)return{data:null,error:new et("rpId is required for WebAuthn registration")};try{if(!vn())return{data:null,error:new rt("Browser does not support WebAuthn",null)};const{data:e,error:i}=await this._enroll({friendlyName:n});if(!e)return await this.client.mfa.listFactors().then(e=>{var t;return null===(t=e.data)||void 0===t?void 0:t.all.find(e=>"webauthn"===e.factor_type&&e.friendly_name===n&&"unverified"!==e.status)}).then(e=>e?this.client.mfa.unenroll({factorId:null===e||void 0===e?void 0:e.id}):void 0),{data:null,error:i};const{data:s,error:l}=await this._challenge({factorId:e.id,friendlyName:e.friendly_name,webauthn:{rpId:r,rpOrigins:o},signal:a},{create:t});return s?this._verify({factorId:e.id,challengeId:s.challengeId,webauthn:{rpId:r,rpOrigins:o,type:s.webauthn.type,credential_response:s.webauthn.credential_response}}):{data:null,error:l}}catch(i){return tt(i)?{data:null,error:i}:{data:null,error:new rt("Unexpected error in register",i)}}}}!function(){if("object"!==typeof globalThis)try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch(e){"undefined"!==typeof self&&(self.globalThis=self)}}();const Sn={url:"http://localhost:9999",storageKey:"supabase.auth.token",autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:$e,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function kn(e,t,n){return await n()}const _n={};class En{get jwks(){var e,t;return null!==(t=null===(e=_n[this.storageKey])||void 0===e?void 0:e.jwks)&&void 0!==t?t:{keys:[]}}set jwks(e){_n[this.storageKey]=Object.assign(Object.assign({},_n[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,t;return null!==(t=null===(e=_n[this.storageKey])||void 0===e?void 0:e.cachedAt)&&void 0!==t?t:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){_n[this.storageKey]=Object.assign(Object.assign({},_n[this.storageKey]),{cachedAt:e})}constructor(e){var t,n;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=En.nextInstanceID,En.nextInstanceID+=1,this.instanceID>0&&_t()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const r=Object.assign(Object.assign({},Sn),e);if(this.logDebugMessages=!!r.debug,"function"===typeof r.debug&&(this.logger=r.debug),this.persistSession=r.persistSession,this.storageKey=r.storageKey,this.autoRefreshToken=r.autoRefreshToken,this.admin=new Jt({url:r.url,headers:r.headers,fetch:r.fetch}),this.url=r.url,this.headers=r.headers,this.fetch=At(r.fetch),this.lock=r.lock||kn,this.detectSessionInUrl=r.detectSessionInUrl,this.flowType=r.flowType,this.hasCustomAuthorizationHeader=r.hasCustomAuthorizationHeader,r.lock?this.lock=r.lock:_t()&&(null===(t=null===globalThis||void 0===globalThis?void 0:globalThis.navigator)||void 0===t?void 0:t.locks)?this.lock=rn:this.lock=kn,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new xn(this)},this.persistSession?(r.storage?this.storage=r.storage:Ct()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=Zt(this.memoryStorage)),r.userStorage&&(this.userStorage=r.userStorage)):(this.memoryStorage={},this.storage=Zt(this.memoryStorage)),_t()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(o){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",o)}null===(n=this.broadcastChannel)||void 0===n||n.addEventListener("message",async e=>{this._debug("received broadcast notification from other tab or client",e),await this._notifyAllSubscribers(e.data.event,e.data.session,!1)})}this.initialize()}_debug(){if(this.logDebugMessages){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this.logger("GoTrueClient@".concat(this.instanceID," (").concat(Ge,") ").concat((new Date).toISOString()),...t)}return this}async initialize(){return this.initializePromise||(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))()),await this.initializePromise}async _initialize(){var e;try{const t=function(e){const t={},n=new URL(e);if(n.hash&&"#"===n.hash[0])try{new URLSearchParams(n.hash.substring(1)).forEach((e,n)=>{t[n]=e})}catch(r){}return n.searchParams.forEach((e,n)=>{t[n]=e}),t}(window.location.href);let n="none";if(this._isImplicitGrantCallback(t)?n="implicit":await this._isPKCECallback(t)&&(n="pkce"),_t()&&this.detectSessionInUrl&&"none"!==n){const{data:r,error:o}=await this._getSessionFromURL(t,n);if(o){if(this._debug("#_initialize()","error detecting session from URL",o),function(e){return tt(e)&&"AuthImplicitGrantRedirectError"===e.name}(o)){const t=null===(e=o.details)||void 0===e?void 0:e.code;if("identity_already_exists"===t||"identity_not_found"===t||"single_identity_not_deletable"===t)return{error:o}}return await this._removeSession(),{error:o}}const{session:a,redirectType:i}=r;return this._debug("#_initialize()","detected session in URL",a,"redirect type",i),await this._saveSession(a),setTimeout(async()=>{"recovery"===i?await this._notifyAllSubscribers("PASSWORD_RECOVERY",a):await this._notifyAllSubscribers("SIGNED_IN",a)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(t){return tt(t)?{error:t}:{error:new rt("Unexpected error during initialization",t)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var t,n,r;try{const o=await Wt(this.fetch,"POST","".concat(this.url,"/signup"),{headers:this.headers,body:{data:null!==(n=null===(t=null===e||void 0===e?void 0:e.options)||void 0===t?void 0:t.data)&&void 0!==n?n:{},gotrue_meta_security:{captcha_token:null===(r=null===e||void 0===e?void 0:e.options)||void 0===r?void 0:r.captchaToken}},xform:Ht}),{data:a,error:i}=o;if(i||!a)return{data:{user:null,session:null},error:i};const s=a.session,l=a.user;return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",s)),{data:{user:l,session:s},error:null}}catch(o){if(tt(o))return{data:{user:null,session:null},error:o};throw o}}async signUp(e){var t,n,r;try{let o;if("email"in e){const{email:n,password:r,options:a}=e;let i=null,s=null;"pkce"===this.flowType&&([i,s]=await It(this.storage,this.storageKey)),o=await Wt(this.fetch,"POST","".concat(this.url,"/signup"),{headers:this.headers,redirectTo:null===a||void 0===a?void 0:a.emailRedirectTo,body:{email:n,password:r,data:null!==(t=null===a||void 0===a?void 0:a.data)&&void 0!==t?t:{},gotrue_meta_security:{captcha_token:null===a||void 0===a?void 0:a.captchaToken},code_challenge:i,code_challenge_method:s},xform:Ht})}else{if(!("phone"in e))throw new st("You must provide either an email or phone number and a password");{const{phone:t,password:a,options:i}=e;o=await Wt(this.fetch,"POST","".concat(this.url,"/signup"),{headers:this.headers,body:{phone:t,password:a,data:null!==(n=null===i||void 0===i?void 0:i.data)&&void 0!==n?n:{},channel:null!==(r=null===i||void 0===i?void 0:i.channel)&&void 0!==r?r:"sms",gotrue_meta_security:{captcha_token:null===i||void 0===i?void 0:i.captchaToken}},xform:Ht})}}const{data:a,error:i}=o;if(i||!a)return{data:{user:null,session:null},error:i};const s=a.session,l=a.user;return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",s)),{data:{user:l,session:s},error:null}}catch(o){if(tt(o))return{data:{user:null,session:null},error:o};throw o}}async signInWithPassword(e){try{let t;if("email"in e){const{email:n,password:r,options:o}=e;t=await Wt(this.fetch,"POST","".concat(this.url,"/token?grant_type=password"),{headers:this.headers,body:{email:n,password:r,gotrue_meta_security:{captcha_token:null===o||void 0===o?void 0:o.captchaToken}},xform:Kt})}else{if(!("phone"in e))throw new st("You must provide either an email or phone number and a password");{const{phone:n,password:r,options:o}=e;t=await Wt(this.fetch,"POST","".concat(this.url,"/token?grant_type=password"),{headers:this.headers,body:{phone:n,password:r,gotrue_meta_security:{captcha_token:null===o||void 0===o?void 0:o.captchaToken}},xform:Kt})}}const{data:n,error:r}=t;return r?{data:{user:null,session:null},error:r}:n&&n.session&&n.user?(n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),{data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:r}):{data:{user:null,session:null},error:new it}}catch(t){if(tt(t))return{data:{user:null,session:null},error:t};throw t}}async signInWithOAuth(e){var t,n,r,o;return await this._handleProviderSignIn(e.provider,{redirectTo:null===(t=e.options)||void 0===t?void 0:t.redirectTo,scopes:null===(n=e.options)||void 0===n?void 0:n.scopes,queryParams:null===(r=e.options)||void 0===r?void 0:r.queryParams,skipBrowserRedirect:null===(o=e.options)||void 0===o?void 0:o.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:t}=e;switch(t){case"ethereum":return await this.signInWithEthereum(e);case"solana":return await this.signInWithSolana(e);default:throw new Error('@supabase/auth-js: Unsupported chain "'.concat(t,'"'))}}async signInWithEthereum(e){var t,n,r,o,a,i,s,l,c,u,d;let h,f;if("message"in e)h=e.message,f=e.signature;else{const{chain:u,wallet:d,statement:p,options:m}=e;let g;if(_t())if("object"===typeof d)g=d;else{const e=window;if(!("ethereum"in e)||"object"!==typeof e.ethereum||!("request"in e.ethereum)||"function"!==typeof e.ethereum.request)throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.");g=e.ethereum}else{if("object"!==typeof d||!(null===m||void 0===m?void 0:m.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");g=d}const v=new URL(null!==(t=null===m||void 0===m?void 0:m.url)&&void 0!==t?t:window.location.href),y=await g.request({method:"eth_requestAccounts"}).then(e=>e).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!y||0===y.length)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const b=on(y[0]);let w=null===(n=null===m||void 0===m?void 0:m.signInWithEthereum)||void 0===n?void 0:n.chainId;if(!w){w=function(e){return parseInt(e,16)}(await g.request({method:"eth_chainId"}))}h=function(e){var t;const{chainId:n,domain:r,expirationTime:o,issuedAt:a=new Date,nonce:i,notBefore:s,requestId:l,resources:c,scheme:u,uri:d,version:h}=e;if(!Number.isInteger(n))throw new Error('@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: '.concat(n));if(!r)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(i&&i.length<8)throw new Error('@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: '.concat(i));if(!d)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if("1"!==h)throw new Error("@supabase/auth-js: Invalid SIWE message field \"version\". Version must be '1'. Provided value: ".concat(h));if(null===(t=e.statement)||void 0===t?void 0:t.includes("\n"))throw new Error("@supabase/auth-js: Invalid SIWE message field \"statement\". Statement must not include '\\n'. Provided value: ".concat(e.statement));const f=on(e.address),p=u?"".concat(u,"://").concat(r):r,m=e.statement?"".concat(e.statement,"\n"):"",g="".concat(p," wants you to sign in with your Ethereum account:\n").concat(f,"\n\n").concat(m);let v="URI: ".concat(d,"\nVersion: ").concat(h,"\nChain ID: ").concat(n).concat(i?"\nNonce: ".concat(i):"","\nIssued At: ").concat(a.toISOString());if(o&&(v+="\nExpiration Time: ".concat(o.toISOString())),s&&(v+="\nNot Before: ".concat(s.toISOString())),l&&(v+="\nRequest ID: ".concat(l)),c){let e="\nResources:";for(const t of c){if(!t||"string"!==typeof t)throw new Error('@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: '.concat(t));e+="\n- ".concat(t)}v+=e}return"".concat(g,"\n").concat(v)}({domain:v.host,address:b,statement:p,uri:v.href,version:"1",chainId:w,nonce:null===(r=null===m||void 0===m?void 0:m.signInWithEthereum)||void 0===r?void 0:r.nonce,issuedAt:null!==(a=null===(o=null===m||void 0===m?void 0:m.signInWithEthereum)||void 0===o?void 0:o.issuedAt)&&void 0!==a?a:new Date,expirationTime:null===(i=null===m||void 0===m?void 0:m.signInWithEthereum)||void 0===i?void 0:i.expirationTime,notBefore:null===(s=null===m||void 0===m?void 0:m.signInWithEthereum)||void 0===s?void 0:s.notBefore,requestId:null===(l=null===m||void 0===m?void 0:m.signInWithEthereum)||void 0===l?void 0:l.requestId,resources:null===(c=null===m||void 0===m?void 0:m.signInWithEthereum)||void 0===c?void 0:c.resources}),f=await g.request({method:"personal_sign",params:[an(h),b]})}try{const{data:t,error:n}=await Wt(this.fetch,"POST","".concat(this.url,"/token?grant_type=web3"),{headers:this.headers,body:Object.assign({chain:"ethereum",message:h,signature:f},(null===(u=e.options)||void 0===u?void 0:u.captchaToken)?{gotrue_meta_security:{captcha_token:null===(d=e.options)||void 0===d?void 0:d.captchaToken}}:null),xform:Ht});if(n)throw n;return t&&t.session&&t.user?(t.session&&(await this._saveSession(t.session),await this._notifyAllSubscribers("SIGNED_IN",t.session)),{data:Object.assign({},t),error:n}):{data:{user:null,session:null},error:new it}}catch(p){if(tt(p))return{data:{user:null,session:null},error:p};throw p}}async signInWithSolana(e){var t,n,r,o,a,i,s,l,c,u,d,h;let f,p;if("message"in e)f=e.message,p=e.signature;else{const{chain:d,wallet:h,statement:m,options:g}=e;let v;if(_t())if("object"===typeof h)v=h;else{const e=window;if(!("solana"in e)||"object"!==typeof e.solana||!("signIn"in e.solana&&"function"===typeof e.solana.signIn||"signMessage"in e.solana&&"function"===typeof e.solana.signMessage))throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.");v=e.solana}else{if("object"!==typeof h||!(null===g||void 0===g?void 0:g.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");v=h}const y=new URL(null!==(t=null===g||void 0===g?void 0:g.url)&&void 0!==t?t:window.location.href);if("signIn"in v&&v.signIn){const e=await v.signIn(Object.assign(Object.assign(Object.assign({issuedAt:(new Date).toISOString()},null===g||void 0===g?void 0:g.signInWithSolana),{version:"1",domain:y.host,uri:y.href}),m?{statement:m}:null));let t;if(Array.isArray(e)&&e[0]&&"object"===typeof e[0])t=e[0];else{if(!(e&&"object"===typeof e&&"signedMessage"in e&&"signature"in e))throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");t=e}if(!("signedMessage"in t&&"signature"in t&&("string"===typeof t.signedMessage||t.signedMessage instanceof Uint8Array)&&t.signature instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields");f="string"===typeof t.signedMessage?t.signedMessage:(new TextDecoder).decode(t.signedMessage),p=t.signature}else{if(!("signMessage"in v)||"function"!==typeof v.signMessage||!("publicKey"in v)||"object"!==typeof v||!v.publicKey||!("toBase58"in v.publicKey)||"function"!==typeof v.publicKey.toBase58)throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");f=["".concat(y.host," wants you to sign in with your Solana account:"),v.publicKey.toBase58(),...m?["",m,""]:[""],"Version: 1","URI: ".concat(y.href),"Issued At: ".concat(null!==(r=null===(n=null===g||void 0===g?void 0:g.signInWithSolana)||void 0===n?void 0:n.issuedAt)&&void 0!==r?r:(new Date).toISOString()),...(null===(o=null===g||void 0===g?void 0:g.signInWithSolana)||void 0===o?void 0:o.notBefore)?["Not Before: ".concat(g.signInWithSolana.notBefore)]:[],...(null===(a=null===g||void 0===g?void 0:g.signInWithSolana)||void 0===a?void 0:a.expirationTime)?["Expiration Time: ".concat(g.signInWithSolana.expirationTime)]:[],...(null===(i=null===g||void 0===g?void 0:g.signInWithSolana)||void 0===i?void 0:i.chainId)?["Chain ID: ".concat(g.signInWithSolana.chainId)]:[],...(null===(s=null===g||void 0===g?void 0:g.signInWithSolana)||void 0===s?void 0:s.nonce)?["Nonce: ".concat(g.signInWithSolana.nonce)]:[],...(null===(l=null===g||void 0===g?void 0:g.signInWithSolana)||void 0===l?void 0:l.requestId)?["Request ID: ".concat(g.signInWithSolana.requestId)]:[],...(null===(u=null===(c=null===g||void 0===g?void 0:g.signInWithSolana)||void 0===c?void 0:c.resources)||void 0===u?void 0:u.length)?["Resources",...g.signInWithSolana.resources.map(e=>"- ".concat(e))]:[]].join("\n");const e=await v.signMessage((new TextEncoder).encode(f),"utf8");if(!e||!(e instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");p=e}}try{const{data:t,error:n}=await Wt(this.fetch,"POST","".concat(this.url,"/token?grant_type=web3"),{headers:this.headers,body:Object.assign({chain:"solana",message:f,signature:kt(p)},(null===(d=e.options)||void 0===d?void 0:d.captchaToken)?{gotrue_meta_security:{captcha_token:null===(h=e.options)||void 0===h?void 0:h.captchaToken}}:null),xform:Ht});if(n)throw n;return t&&t.session&&t.user?(t.session&&(await this._saveSession(t.session),await this._notifyAllSubscribers("SIGNED_IN",t.session)),{data:Object.assign({},t),error:n}):{data:{user:null,session:null},error:new it}}catch(m){if(tt(m))return{data:{user:null,session:null},error:m};throw m}}async _exchangeCodeForSession(e){const t=await Tt(this.storage,"".concat(this.storageKey,"-code-verifier")),[n,r]=(null!==t&&void 0!==t?t:"").split("/");try{const{data:t,error:o}=await Wt(this.fetch,"POST","".concat(this.url,"/token?grant_type=pkce"),{headers:this.headers,body:{auth_code:e,code_verifier:n},xform:Ht});if(await Nt(this.storage,"".concat(this.storageKey,"-code-verifier")),o)throw o;return t&&t.session&&t.user?(t.session&&(await this._saveSession(t.session),await this._notifyAllSubscribers("SIGNED_IN",t.session)),{data:Object.assign(Object.assign({},t),{redirectType:null!==r&&void 0!==r?r:null}),error:o}):{data:{user:null,session:null,redirectType:null},error:new it}}catch(o){if(tt(o))return{data:{user:null,session:null,redirectType:null},error:o};throw o}}async signInWithIdToken(e){try{const{options:t,provider:n,token:r,access_token:o,nonce:a}=e,i=await Wt(this.fetch,"POST","".concat(this.url,"/token?grant_type=id_token"),{headers:this.headers,body:{provider:n,id_token:r,access_token:o,nonce:a,gotrue_meta_security:{captcha_token:null===t||void 0===t?void 0:t.captchaToken}},xform:Ht}),{data:s,error:l}=i;return l?{data:{user:null,session:null},error:l}:s&&s.session&&s.user?(s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",s.session)),{data:s,error:l}):{data:{user:null,session:null},error:new it}}catch(t){if(tt(t))return{data:{user:null,session:null},error:t};throw t}}async signInWithOtp(e){var t,n,r,o,a;try{if("email"in e){const{email:r,options:o}=e;let a=null,i=null;"pkce"===this.flowType&&([a,i]=await It(this.storage,this.storageKey));const{error:s}=await Wt(this.fetch,"POST","".concat(this.url,"/otp"),{headers:this.headers,body:{email:r,data:null!==(t=null===o||void 0===o?void 0:o.data)&&void 0!==t?t:{},create_user:null===(n=null===o||void 0===o?void 0:o.shouldCreateUser)||void 0===n||n,gotrue_meta_security:{captcha_token:null===o||void 0===o?void 0:o.captchaToken},code_challenge:a,code_challenge_method:i},redirectTo:null===o||void 0===o?void 0:o.emailRedirectTo});return{data:{user:null,session:null},error:s}}if("phone"in e){const{phone:t,options:n}=e,{data:i,error:s}=await Wt(this.fetch,"POST","".concat(this.url,"/otp"),{headers:this.headers,body:{phone:t,data:null!==(r=null===n||void 0===n?void 0:n.data)&&void 0!==r?r:{},create_user:null===(o=null===n||void 0===n?void 0:n.shouldCreateUser)||void 0===o||o,gotrue_meta_security:{captcha_token:null===n||void 0===n?void 0:n.captchaToken},channel:null!==(a=null===n||void 0===n?void 0:n.channel)&&void 0!==a?a:"sms"}});return{data:{user:null,session:null,messageId:null===i||void 0===i?void 0:i.message_id},error:s}}throw new st("You must provide either an email or phone number.")}catch(i){if(tt(i))return{data:{user:null,session:null},error:i};throw i}}async verifyOtp(e){var t,n;try{let r,o;"options"in e&&(r=null===(t=e.options)||void 0===t?void 0:t.redirectTo,o=null===(n=e.options)||void 0===n?void 0:n.captchaToken);const{data:a,error:i}=await Wt(this.fetch,"POST","".concat(this.url,"/verify"),{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:o}}),redirectTo:r,xform:Ht});if(i)throw i;if(!a)throw new Error("An error occurred on token verification.");const s=a.session,l=a.user;return(null===s||void 0===s?void 0:s.access_token)&&(await this._saveSession(s),await this._notifyAllSubscribers("recovery"==e.type?"PASSWORD_RECOVERY":"SIGNED_IN",s)),{data:{user:l,session:s},error:null}}catch(r){if(tt(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithSSO(e){var t,n,r;try{let o=null,a=null;return"pkce"===this.flowType&&([o,a]=await It(this.storage,this.storageKey)),await Wt(this.fetch,"POST","".concat(this.url,"/sso"),{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:null!==(n=null===(t=e.options)||void 0===t?void 0:t.redirectTo)&&void 0!==n?n:void 0}),(null===(r=null===e||void 0===e?void 0:e.options)||void 0===r?void 0:r.captchaToken)?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:o,code_challenge_method:a}),headers:this.headers,xform:Qt})}catch(o){if(tt(o))return{data:null,error:o};throw o}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:t},error:n}=e;if(n)throw n;if(!t)throw new at;const{error:r}=await Wt(this.fetch,"GET","".concat(this.url,"/reauthenticate"),{headers:this.headers,jwt:t.access_token});return{data:{user:null,session:null},error:r}})}catch(e){if(tt(e))return{data:{user:null,session:null},error:e};throw e}}async resend(e){try{const t="".concat(this.url,"/resend");if("email"in e){const{email:n,type:r,options:o}=e,{error:a}=await Wt(this.fetch,"POST",t,{headers:this.headers,body:{email:n,type:r,gotrue_meta_security:{captcha_token:null===o||void 0===o?void 0:o.captchaToken}},redirectTo:null===o||void 0===o?void 0:o.emailRedirectTo});return{data:{user:null,session:null},error:a}}if("phone"in e){const{phone:n,type:r,options:o}=e,{data:a,error:i}=await Wt(this.fetch,"POST",t,{headers:this.headers,body:{phone:n,type:r,gotrue_meta_security:{captcha_token:null===o||void 0===o?void 0:o.captchaToken}}});return{data:{user:null,session:null,messageId:null===a||void 0===a?void 0:a.message_id},error:i}}throw new st("You must provide either an email or phone number and a type")}catch(t){if(tt(t))return{data:{user:null,session:null},error:t};throw t}}async getSession(){await this.initializePromise;return await this._acquireLock(-1,async()=>this._useSession(async e=>e))}async _acquireLock(e,t){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const e=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),n=(async()=>(await e,await t()))();return this.pendingInLock.push((async()=>{try{await n}catch(e){}})()),n}return await this.lock("lock:".concat(this.storageKey),e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const e=t();for(this.pendingInLock.push((async()=>{try{await e}catch(t){}})()),await e;this.pendingInLock.length;){const e=[...this.pendingInLock];await Promise.all(e),this.pendingInLock.splice(0,e.length)}return await e}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const t=await this.__loadSession();return await e(t)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",(new Error).stack);try{let e=null;const t=await Tt(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",t),null!==t&&(this._isValidSession(t)?e=t:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const n=!!e.expires_at&&1e3*e.expires_at-Date.now()<Ye;if(this._debug("#__loadSession()","session has".concat(n?"":" not"," expired"),"expires_at",e.expires_at),!n){if(this.userStorage){const t=await Tt(this.userStorage,this.storageKey+"-user");(null===t||void 0===t?void 0:t.user)?e.user=t.user:e.user=Ut()}if(this.storage.isServer&&e.user){let t=this.suppressGetSessionWarning;e=new Proxy(e,{get:(e,n,r)=>(t||"user"!==n||(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),t=!0,this.suppressGetSessionWarning=!0),Reflect.get(e,n,r))})}return{data:{session:e},error:null}}const{data:r,error:o}=await this._callRefreshToken(e.refresh_token);return o?{data:{session:null},error:o}:{data:{session:r},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(e){if(e)return await this._getUser(e);await this.initializePromise;return await this._acquireLock(-1,async()=>await this._getUser())}async _getUser(e){try{return e?await Wt(this.fetch,"GET","".concat(this.url,"/user"),{headers:this.headers,jwt:e,xform:Gt}):await this._useSession(async e=>{var t,n,r;const{data:o,error:a}=e;if(a)throw a;return(null===(t=o.session)||void 0===t?void 0:t.access_token)||this.hasCustomAuthorizationHeader?await Wt(this.fetch,"GET","".concat(this.url,"/user"),{headers:this.headers,jwt:null!==(r=null===(n=o.session)||void 0===n?void 0:n.access_token)&&void 0!==r?r:void 0,xform:Gt}):{data:{user:null},error:new at}})}catch(t){if(tt(t))return function(e){return tt(e)&&"AuthSessionMissingError"===e.name}(t)&&(await this._removeSession(),await Nt(this.storage,"".concat(this.storageKey,"-code-verifier"))),{data:{user:null},error:t};throw t}}async updateUser(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,t))}async _updateUser(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};try{return await this._useSession(async n=>{const{data:r,error:o}=n;if(o)throw o;if(!r.session)throw new at;const a=r.session;let i=null,s=null;"pkce"===this.flowType&&null!=e.email&&([i,s]=await It(this.storage,this.storageKey));const{data:l,error:c}=await Wt(this.fetch,"PUT","".concat(this.url,"/user"),{headers:this.headers,redirectTo:null===t||void 0===t?void 0:t.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:i,code_challenge_method:s}),jwt:a.access_token,xform:Gt});if(c)throw c;return a.user=l.user,await this._saveSession(a),await this._notifyAllSubscribers("USER_UPDATED",a),{data:{user:a.user},error:null}})}catch(n){if(tt(n))return{data:{user:null},error:n};throw n}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new at;const t=Date.now()/1e3;let n=t,r=!0,o=null;const{payload:a}=Pt(e.access_token);if(a.exp&&(n=a.exp,r=n<=t),r){const{data:t,error:n}=await this._callRefreshToken(e.refresh_token);if(n)return{data:{user:null,session:null},error:n};if(!t)return{data:{user:null,session:null},error:null};o=t}else{const{data:r,error:a}=await this._getUser(e.access_token);if(a)throw a;o={access_token:e.access_token,refresh_token:e.refresh_token,user:r.user,token_type:"bearer",expires_in:n-t,expires_at:n},await this._saveSession(o),await this._notifyAllSubscribers("SIGNED_IN",o)}return{data:{user:o.user,session:o},error:null}}catch(t){if(tt(t))return{data:{session:null,user:null},error:t};throw t}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async t=>{var n;if(!e){const{data:r,error:o}=t;if(o)throw o;e=null!==(n=r.session)&&void 0!==n?n:void 0}if(!(null===e||void 0===e?void 0:e.refresh_token))throw new at;const{data:r,error:o}=await this._callRefreshToken(e.refresh_token);return o?{data:{user:null,session:null},error:o}:r?{data:{user:r.user,session:r},error:null}:{data:{user:null,session:null},error:null}})}catch(t){if(tt(t))return{data:{user:null,session:null},error:t};throw t}}async _getSessionFromURL(e,t){try{if(!_t())throw new lt("No browser detected.");if(e.error||e.error_description||e.error_code)throw new lt(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(t){case"implicit":if("pkce"===this.flowType)throw new ct("Not a valid PKCE flow url.");break;case"pkce":if("implicit"===this.flowType)throw new lt("Not a valid implicit grant flow url.")}if("pkce"===t){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new ct("No code detected.");const{data:t,error:n}=await this._exchangeCodeForSession(e.code);if(n)throw n;const r=new URL(window.location.href);return r.searchParams.delete("code"),window.history.replaceState(window.history.state,"",r.toString()),{data:{session:t.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:r,access_token:o,refresh_token:a,expires_in:i,expires_at:s,token_type:l}=e;if(!o||!i||!a||!l)throw new lt("No session defined in URL");const c=Math.round(Date.now()/1e3),u=parseInt(i);let d=c+u;s&&(d=parseInt(s));const h=d-c;1e3*h<=Qe&&console.warn("@supabase/gotrue-js: Session as retrieved from URL expires in ".concat(h,"s, should have been closer to ").concat(u,"s"));const f=d-u;c-f>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",f,d,c):c-f<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",f,d,c);const{data:p,error:m}=await this._getUser(o);if(m)throw m;const g={provider_token:n,provider_refresh_token:r,access_token:o,expires_in:u,expires_at:d,refresh_token:a,token_type:l,user:p.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:g,redirectType:e.type},error:null}}catch(n){if(tt(n))return{data:{session:null,redirectType:null},error:n};throw n}}_isImplicitGrantCallback(e){return Boolean(e.access_token||e.error_description)}async _isPKCECallback(e){const t=await Tt(this.storage,"".concat(this.storageKey,"-code-verifier"));return!(!e.code||!t)}async signOut(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{scope:"global"};return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut(){let{scope:e}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{scope:"global"};return await this._useSession(async t=>{var n;const{data:r,error:o}=t;if(o)return{error:o};const a=null===(n=r.session)||void 0===n?void 0:n.access_token;if(a){const{error:t}=await this.admin.signOut(a,e);if(t&&(!function(e){return tt(e)&&"AuthApiError"===e.name}(t)||404!==t.status&&401!==t.status&&403!==t.status))return{error:t}}return"others"!==e&&(await this._removeSession(),await Nt(this.storage,"".concat(this.storageKey,"-code-verifier"))),{error:null}})}onAuthStateChange(e){const t="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=16*Math.random()|0;return("x"==e?t:3&t|8).toString(16)}),n={id:t,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",t),this.stateChangeEmitters.delete(t)}};return this._debug("#onAuthStateChange()","registered callback with id",t),this.stateChangeEmitters.set(t,n),(async()=>{await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(t)})})(),{data:{subscription:n}}}async _emitInitialSession(e){return await this._useSession(async t=>{var n,r;try{const{data:{session:r},error:o}=t;if(o)throw o;await(null===(n=this.stateChangeEmitters.get(e))||void 0===n?void 0:n.callback("INITIAL_SESSION",r)),this._debug("INITIAL_SESSION","callback id",e,"session",r)}catch(o){await(null===(r=this.stateChangeEmitters.get(e))||void 0===r?void 0:r.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",o),console.error(o)}})}async resetPasswordForEmail(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=null,r=null;"pkce"===this.flowType&&([n,r]=await It(this.storage,this.storageKey,!0));try{return await Wt(this.fetch,"POST","".concat(this.url,"/recover"),{body:{email:e,code_challenge:n,code_challenge_method:r,gotrue_meta_security:{captcha_token:t.captchaToken}},headers:this.headers,redirectTo:t.redirectTo})}catch(o){if(tt(o))return{data:null,error:o};throw o}}async getUserIdentities(){var e;try{const{data:t,error:n}=await this.getUser();if(n)throw n;return{data:{identities:null!==(e=t.user.identities)&&void 0!==e?e:[]},error:null}}catch(t){if(tt(t))return{data:null,error:t};throw t}}async linkIdentity(e){return"token"in e?this.linkIdentityIdToken(e):this.linkIdentityOAuth(e)}async linkIdentityOAuth(e){var t;try{const{data:n,error:r}=await this._useSession(async t=>{var n,r,o,a,i;const{data:s,error:l}=t;if(l)throw l;const c=await this._getUrlForProvider("".concat(this.url,"/user/identities/authorize"),e.provider,{redirectTo:null===(n=e.options)||void 0===n?void 0:n.redirectTo,scopes:null===(r=e.options)||void 0===r?void 0:r.scopes,queryParams:null===(o=e.options)||void 0===o?void 0:o.queryParams,skipBrowserRedirect:!0});return await Wt(this.fetch,"GET",c,{headers:this.headers,jwt:null!==(i=null===(a=s.session)||void 0===a?void 0:a.access_token)&&void 0!==i?i:void 0})});if(r)throw r;return _t()&&!(null===(t=e.options)||void 0===t?void 0:t.skipBrowserRedirect)&&window.location.assign(null===n||void 0===n?void 0:n.url),{data:{provider:e.provider,url:null===n||void 0===n?void 0:n.url},error:null}}catch(n){if(tt(n))return{data:{provider:e.provider,url:null},error:n};throw n}}async linkIdentityIdToken(e){return await this._useSession(async t=>{var n;try{const{error:r,data:{session:o}}=t;if(r)throw r;const{options:a,provider:i,token:s,access_token:l,nonce:c}=e,u=await Wt(this.fetch,"POST","".concat(this.url,"/token?grant_type=id_token"),{headers:this.headers,jwt:null!==(n=null===o||void 0===o?void 0:o.access_token)&&void 0!==n?n:void 0,body:{provider:i,id_token:s,access_token:l,nonce:c,link_identity:!0,gotrue_meta_security:{captcha_token:null===a||void 0===a?void 0:a.captchaToken}},xform:Ht}),{data:d,error:h}=u;return h?{data:{user:null,session:null},error:h}:d&&d.session&&d.user?(d.session&&(await this._saveSession(d.session),await this._notifyAllSubscribers("USER_UPDATED",d.session)),{data:d,error:h}):{data:{user:null,session:null},error:new it}}catch(r){if(tt(r))return{data:{user:null,session:null},error:r};throw r}})}async unlinkIdentity(e){try{return await this._useSession(async t=>{var n,r;const{data:o,error:a}=t;if(a)throw a;return await Wt(this.fetch,"DELETE","".concat(this.url,"/user/identities/").concat(e.identity_id),{headers:this.headers,jwt:null!==(r=null===(n=o.session)||void 0===n?void 0:n.access_token)&&void 0!==r?r:void 0})})}catch(t){if(tt(t))return{data:null,error:t};throw t}}async _refreshAccessToken(e){const t="#_refreshAccessToken(".concat(e.substring(0,5),"...)");this._debug(t,"begin");try{const o=Date.now();return await(n=async n=>(n>0&&await async function(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}(200*Math.pow(2,n-1)),this._debug(t,"refreshing attempt",n),await Wt(this.fetch,"POST","".concat(this.url,"/token?grant_type=refresh_token"),{body:{refresh_token:e},headers:this.headers,xform:Ht})),r=(e,t)=>{const n=200*Math.pow(2,e);return t&&dt(t)&&Date.now()+n-o<Qe},new Promise((e,t)=>{(async()=>{for(let a=0;a<1/0;a++)try{const t=await n(a);if(!r(a,null,t))return void e(t)}catch(o){if(!r(a,o))return void t(o)}})()}))}catch(o){if(this._debug(t,"error",o),tt(o))return{data:{session:null,user:null},error:o};throw o}finally{this._debug(t,"end")}var n,r}_isValidSession(e){return"object"===typeof e&&null!==e&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,t){const n=await this._getUrlForProvider("".concat(this.url,"/authorize"),e,{redirectTo:t.redirectTo,scopes:t.scopes,queryParams:t.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",t,"url",n),_t()&&!t.skipBrowserRedirect&&window.location.assign(n),{data:{provider:e,url:n},error:null}}async _recoverAndRefresh(){var e,t;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const o=await Tt(this.storage,this.storageKey);if(o&&this.userStorage){let t=await Tt(this.userStorage,this.storageKey+"-user");this.storage.isServer||!Object.is(this.storage,this.userStorage)||t||(t={user:o.user},await jt(this.userStorage,this.storageKey+"-user",t)),o.user=null!==(e=null===t||void 0===t?void 0:t.user)&&void 0!==e?e:Ut()}else if(o&&!o.user&&!o.user){const e=await Tt(this.storage,this.storageKey+"-user");e&&(null===e||void 0===e?void 0:e.user)?(o.user=e.user,await Nt(this.storage,this.storageKey+"-user"),await jt(this.storage,this.storageKey,o)):o.user=Ut()}if(this._debug(n,"session from storage",o),!this._isValidSession(o))return this._debug(n,"session is not valid"),void(null!==o&&await this._removeSession());const a=1e3*(null!==(t=o.expires_at)&&void 0!==t?t:1/0)-Date.now()<Ye;if(this._debug(n,"session has".concat(a?"":" not"," expired with margin of ").concat(Ye,"s")),a){if(this.autoRefreshToken&&o.refresh_token){const{error:e}=await this._callRefreshToken(o.refresh_token);e&&(console.error(e),dt(e)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",e),await this._removeSession()))}}else if(o.user&&!0===o.user.__isUserNotAvailableProxy)try{const{data:e,error:t}=await this._getUser(o.access_token);!t&&(null===e||void 0===e?void 0:e.user)?(o.user=e.user,await this._saveSession(o),await this._notifyAllSubscribers("SIGNED_IN",o)):this._debug(n,"could not get user data, skipping SIGNED_IN notification")}catch(r){console.error("Error getting user data:",r),this._debug(n,"error getting user data, skipping SIGNED_IN notification",r)}else await this._notifyAllSubscribers("SIGNED_IN",o)}catch(o){return this._debug(n,"error",o),void console.error(o)}finally{this._debug(n,"end")}}async _callRefreshToken(e){var t,n;if(!e)throw new at;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const r="#_callRefreshToken(".concat(e.substring(0,5),"...)");this._debug(r,"begin");try{this.refreshingDeferred=new Dt;const{data:t,error:n}=await this._refreshAccessToken(e);if(n)throw n;if(!t.session)throw new at;await this._saveSession(t.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",t.session);const r={data:t.session,error:null};return this.refreshingDeferred.resolve(r),r}catch(o){if(this._debug(r,"error",o),tt(o)){const e={data:null,error:o};return dt(o)||await this._removeSession(),null===(t=this.refreshingDeferred)||void 0===t||t.resolve(e),e}throw null===(n=this.refreshingDeferred)||void 0===n||n.reject(o),o}finally{this.refreshingDeferred=null,this._debug(r,"end")}}async _notifyAllSubscribers(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];const r="#_notifyAllSubscribers(".concat(e,")");this._debug(r,"begin",t,"broadcast = ".concat(n));try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:e,session:t});const r=[],o=Array.from(this.stateChangeEmitters.values()).map(async n=>{try{await n.callback(e,t)}catch(o){r.push(o)}});if(await Promise.all(o),r.length>0){for(let e=0;e<r.length;e+=1)console.error(r[e]);throw r[0]}}finally{this._debug(r,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0;const t=Object.assign({},e),n=t.user&&!0===t.user.__isUserNotAvailableProxy;if(this.userStorage){!n&&t.user&&await jt(this.userStorage,this.storageKey+"-user",{user:t.user});const e=Object.assign({},t);delete e.user;const r=zt(e);await jt(this.storage,this.storageKey,r)}else{const e=zt(t);await jt(this.storage,this.storageKey,e)}}async _removeSession(){this._debug("#_removeSession()"),await Nt(this.storage,this.storageKey),await Nt(this.storage,this.storageKey+"-code-verifier"),await Nt(this.storage,this.storageKey+"-user"),this.userStorage&&await Nt(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&_t()&&(null===window||void 0===window?void 0:window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(t){console.error("removing visibilitychange callback failed",t)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),Qe);this.autoRefreshTicker=e,e&&"object"===typeof e&&"function"===typeof e.unref?e.unref():"undefined"!==typeof Deno&&"function"===typeof Deno.unrefTimer&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async e=>{const{data:{session:n}}=e;if(!n||!n.refresh_token||!n.expires_at)return void this._debug("#_autoRefreshTokenTick()","no session");const r=Math.floor((1e3*n.expires_at-t)/Qe);this._debug("#_autoRefreshTokenTick()","access token expires in ".concat(r," ticks, a tick lasts ").concat(Qe,"ms, refresh threshold is ").concat(3," ticks")),r<=3&&await this._callRefreshToken(n.refresh_token)})}catch(e){console.error("Auto refresh tick failed with error. This is likely a transient error.",e)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(!(e.isAcquireTimeout||e instanceof tn))throw e;this._debug("auto refresh token tick lock not available")}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!_t()||!(null===window||void 0===window?void 0:window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),null===window||void 0===window||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const t="#_onVisibilityChanged(".concat(e,")");this._debug(t,"visibilityState",document.visibilityState),"visible"===document.visibilityState?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{"visible"===document.visibilityState?await this._recoverAndRefresh():this._debug(t,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting")}))):"hidden"===document.visibilityState&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,t,n){const r=["provider=".concat(encodeURIComponent(t))];if((null===n||void 0===n?void 0:n.redirectTo)&&r.push("redirect_to=".concat(encodeURIComponent(n.redirectTo))),(null===n||void 0===n?void 0:n.scopes)&&r.push("scopes=".concat(encodeURIComponent(n.scopes))),"pkce"===this.flowType){const[e,t]=await It(this.storage,this.storageKey),n=new URLSearchParams({code_challenge:"".concat(encodeURIComponent(e)),code_challenge_method:"".concat(encodeURIComponent(t))});r.push(n.toString())}if(null===n||void 0===n?void 0:n.queryParams){const e=new URLSearchParams(n.queryParams);r.push(e.toString())}return(null===n||void 0===n?void 0:n.skipBrowserRedirect)&&r.push("skip_http_redirect=".concat(n.skipBrowserRedirect)),"".concat(e,"?").concat(r.join("&"))}async _unenroll(e){try{return await this._useSession(async t=>{var n;const{data:r,error:o}=t;return o?{data:null,error:o}:await Wt(this.fetch,"DELETE","".concat(this.url,"/factors/").concat(e.factorId),{headers:this.headers,jwt:null===(n=null===r||void 0===r?void 0:r.session)||void 0===n?void 0:n.access_token})})}catch(t){if(tt(t))return{data:null,error:t};throw t}}async _enroll(e){try{return await this._useSession(async t=>{var n,r;const{data:o,error:a}=t;if(a)return{data:null,error:a};const i=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},"phone"===e.factorType?{phone:e.phone}:"totp"===e.factorType?{issuer:e.issuer}:{}),{data:s,error:l}=await Wt(this.fetch,"POST","".concat(this.url,"/factors"),{body:i,headers:this.headers,jwt:null===(n=null===o||void 0===o?void 0:o.session)||void 0===n?void 0:n.access_token});return l?{data:null,error:l}:("totp"===e.factorType&&"totp"===s.type&&(null===(r=null===s||void 0===s?void 0:s.totp)||void 0===r?void 0:r.qr_code)&&(s.totp.qr_code="data:image/svg+xml;utf-8,".concat(s.totp.qr_code)),{data:s,error:null})})}catch(t){if(tt(t))return{data:null,error:t};throw t}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async t=>{var n;const{data:r,error:o}=t;if(o)return{data:null,error:o};const a=Object.assign({challenge_id:e.challengeId},"webauthn"in e?{webauthn:Object.assign(Object.assign({},e.webauthn),{credential_response:"create"===e.webauthn.type?pn(e.webauthn.credential_response):mn(e.webauthn.credential_response)})}:{code:e.code}),{data:i,error:s}=await Wt(this.fetch,"POST","".concat(this.url,"/factors/").concat(e.factorId,"/verify"),{body:a,headers:this.headers,jwt:null===(n=null===r||void 0===r?void 0:r.session)||void 0===n?void 0:n.access_token});return s?{data:null,error:s}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+i.expires_in},i)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",i),{data:i,error:s})})}catch(t){if(tt(t))return{data:null,error:t};throw t}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async t=>{var n;const{data:r,error:o}=t;if(o)return{data:null,error:o};const a=await Wt(this.fetch,"POST","".concat(this.url,"/factors/").concat(e.factorId,"/challenge"),{body:e,headers:this.headers,jwt:null===(n=null===r||void 0===r?void 0:r.session)||void 0===n?void 0:n.access_token});if(a.error)return a;const{data:i}=a;if("webauthn"!==i.type)return{data:i,error:null};switch(i.webauthn.type){case"create":return{data:Object.assign(Object.assign({},i),{webauthn:Object.assign(Object.assign({},i.webauthn),{credential_options:Object.assign(Object.assign({},i.webauthn.credential_options),{publicKey:hn(i.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},i),{webauthn:Object.assign(Object.assign({},i.webauthn),{credential_options:Object.assign(Object.assign({},i.webauthn.credential_options),{publicKey:fn(i.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(t){if(tt(t))return{data:null,error:t};throw t}})}async _challengeAndVerify(e){const{data:t,error:n}=await this._challenge({factorId:e.factorId});return n?{data:null,error:n}:await this._verify({factorId:e.factorId,challengeId:t.id,code:e.code})}async _listFactors(){var e;const{data:{user:t},error:n}=await this.getUser();if(n)return{data:null,error:n};const r={all:[],phone:[],totp:[],webauthn:[]};for(const o of null!==(e=null===t||void 0===t?void 0:t.factors)&&void 0!==e?e:[])r.all.push(o),"verified"===o.status&&r[o.factor_type].push(o);return{data:r,error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async e=>{var t,n;const{data:{session:r},error:o}=e;if(o)return{data:null,error:o};if(!r)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:a}=Pt(r.access_token);let i=null;a.aal&&(i=a.aal);let s=i;(null!==(n=null===(t=r.user.factors)||void 0===t?void 0:t.filter(e=>"verified"===e.status))&&void 0!==n?n:[]).length>0&&(s="aal2");return{data:{currentLevel:i,nextLevel:s,currentAuthenticationMethods:a.amr||[]},error:null}}))}async fetchJwk(e){let t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{keys:[]}).keys.find(t=>t.kid===e);if(t)return t;const n=Date.now();if(t=this.jwks.keys.find(t=>t.kid===e),t&&this.jwks_cached_at+6e5>n)return t;const{data:r,error:o}=await Wt(this.fetch,"GET","".concat(this.url,"/.well-known/jwks.json"),{headers:this.headers});if(o)throw o;return r.keys&&0!==r.keys.length?(this.jwks=r,this.jwks_cached_at=n,t=r.keys.find(t=>t.kid===e),t||null):null}async getClaims(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};try{let n=e;if(!n){const{data:e,error:t}=await this.getSession();if(t||!e.session)return{data:null,error:t};n=e.session.access_token}const{header:r,payload:o,signature:a,raw:{header:i,payload:s}}=Pt(n);(null===t||void 0===t?void 0:t.allowExpired)||function(e){if(!e)throw new Error("Missing exp claim");if(e<=Math.floor(Date.now()/1e3))throw new Error("JWT has expired")}(o.exp);const l=r.alg&&!r.alg.startsWith("HS")&&r.kid&&"crypto"in globalThis&&"subtle"in globalThis.crypto?await this.fetchJwk(r.kid,(null===t||void 0===t?void 0:t.keys)?{keys:t.keys}:null===t||void 0===t?void 0:t.jwks):null;if(!l){const{error:e}=await this.getUser(n);if(e)throw e;return{data:{claims:o,header:r,signature:a},error:null}}const c=function(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}(r.alg),u=await crypto.subtle.importKey("jwk",l,c,!0,["verify"]);if(!await crypto.subtle.verify(c,u,a,function(e){const t=[];return xt(e,e=>t.push(e)),new Uint8Array(t)}("".concat(i,".").concat(s))))throw new ft("Invalid JWT signature");return{data:{claims:o,header:r,signature:a},error:null}}catch(n){if(tt(n))return{data:null,error:n};throw n}}}En.nextInstanceID=0;const Cn=En;class An extends Cn{constructor(e){super(e)}}class jn{constructor(e,t,n){var r,o,a;this.supabaseUrl=e,this.supabaseKey=t;const i=function(e){const t=null===e||void 0===e?void 0:e.trim();if(!t)throw new Error("supabaseUrl is required.");if(!t.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL((n=t).endsWith("/")?n:n+"/")}catch(r){throw Error("Invalid supabaseUrl: Provided URL is malformed.")}var n}(e);if(!t)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",i),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",i),this.storageUrl=new URL("storage/v1",i),this.functionsUrl=new URL("functions/v1",i);const s="sb-".concat(i.hostname.split(".")[0],"-auth-token"),l=function(e,t){var n,r;const{db:o,auth:a,realtime:i,global:s}=e,{db:l,auth:c,realtime:u,global:d}=t,h={db:Object.assign(Object.assign({},l),o),auth:Object.assign(Object.assign({},c),a),realtime:Object.assign(Object.assign({},u),i),storage:{},global:Object.assign(Object.assign(Object.assign({},d),s),{headers:Object.assign(Object.assign({},null!==(n=null===d||void 0===d?void 0:d.headers)&&void 0!==n?n:{}),null!==(r=null===s||void 0===s?void 0:s.headers)&&void 0!==r?r:{})}),accessToken:async()=>""};return e.accessToken?h.accessToken=e.accessToken:delete h.accessToken,h}(null!==n&&void 0!==n?n:{},{db:Be,realtime:Ve,auth:Object.assign(Object.assign({},qe),{storageKey:s}),global:ze});this.storageKey=null!==(r=l.auth.storageKey)&&void 0!==r?r:"",this.headers=null!==(o=l.global.headers)&&void 0!==o?o:{},l.accessToken?(this.accessToken=l.accessToken,this.auth=new Proxy({},{get:(e,t)=>{throw new Error("@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.".concat(String(t)," is not possible"))}})):this.auth=this._initSupabaseAuthClient(null!==(a=l.auth)&&void 0!==a?a:{},this.headers,l.global.fetch),this.fetch=Ke(t,this._getAccessToken.bind(this),l.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},l.realtime)),this.rest=new d(new URL("rest/v1",i).href,{headers:this.headers,schema:l.db.schema,fetch:this.fetch}),this.storage=new Le(this.storageUrl.href,this.headers,this.fetch,null===n||void 0===n?void 0:n.storage),l.accessToken||this._listenForAuthEvents()}get functions(){return new c(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{head:!1,get:!1,count:void 0};return this.rest.rpc(e,t,n)}channel(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{config:{}};return this.realtime.channel(e,t)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var e,t;if(this.accessToken)return await this.accessToken();const{data:n}=await this.auth.getSession();return null!==(t=null===(e=n.session)||void 0===e?void 0:e.access_token)&&void 0!==t?t:this.supabaseKey}_initSupabaseAuthClient(e,t,n){let{autoRefreshToken:r,persistSession:o,detectSessionInUrl:a,storage:i,userStorage:s,storageKey:l,flowType:c,lock:u,debug:d}=e;const h={Authorization:"Bearer ".concat(this.supabaseKey),apikey:"".concat(this.supabaseKey)};return new An({url:this.authUrl.href,headers:Object.assign(Object.assign({},h),t),storageKey:l,autoRefreshToken:r,persistSession:o,detectSessionInUrl:a,storage:i,userStorage:s,flowType:c,lock:u,debug:d,fetch:n,hasCustomAuthorizationHeader:Object.keys(this.headers).some(e=>"authorization"===e.toLowerCase())})}_initRealtimeClient(e){return new $(this.realtimeUrl.href,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},null===e||void 0===e?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((e,t)=>{this._handleTokenChanged(e,"CLIENT",null===t||void 0===t?void 0:t.access_token)})}_handleTokenChanged(e,t,n){"TOKEN_REFRESHED"!==e&&"SIGNED_IN"!==e||this.changedAccessToken===n?"SIGNED_OUT"===e&&(this.realtime.setAuth(),"STORAGE"==t&&this.auth.signOut(),this.changedAccessToken=void 0):(this.changedAccessToken=n,this.realtime.setAuth(n))}}(function(){if("undefined"!==typeof window)return!1;if("undefined"===typeof process)return!1;const e=process.version;if(void 0===e||null===e)return!1;const t=e.match(/^v(\d+)\./);return!!t&&parseInt(t[1],10)<=18})()&&console.warn("\u26a0\ufe0f  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217"),console.log("\ud83d\udd04 Carregando configura\xe7\xe3o do Supabase..."),console.log("Variables encontradas:",{REACT_APP_SUPABASE_URL:"DEFINIDA",REACT_APP_SUPABASE_ANON_KEY:"DEFINIDA"});const Tn="https://ygzyshbfmcwegxgqcuwr.supabase.co",Nn="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InlnenlzaGJmbWN3ZWd4Z3FjdXdyIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjA2NDIxOTgsImV4cCI6MjA3NjIxODE5OH0.KNJbGlO38w0cp61VA0GJ_-UpwBfZ13u1plZ_PT4LRk0";console.log("\u2705 Supabase configurado:",Tn);const Dn=((e,t,n)=>new jn(e,t,n))(Tn,Nn,{auth:{autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0}});async function Pn(e){var t;console.log("\ud83d\udd0e [createUserDocumentFromAuth] Usu\xe1rio recebido:",e);const n=(null===e||void 0===e?void 0:e.id)||(null===e||void 0===e?void 0:e.uuid)||(null===e||void 0===e||null===(t=e.user)||void 0===t?void 0:t.id);if(n)try{var r,o,a,i,s,l,c,u;const{data:t,error:d}=await Dn.from("users").select("uuid").eq("uuid",n).single();if(d&&"PGRST116"!==d.code)return void console.error("\u274c Erro ao verificar usu\xe1rio existente:",d);if(t)return void console.log("\u2139\ufe0f Usu\xe1rio j\xe1 existe no banco:",e.email);const h={id:n,uuid:n,email:e.email,display_name:(null===(r=e.user_metadata)||void 0===r?void 0:r.full_name)||(null===(o=e.user_metadata)||void 0===o?void 0:o.display_name)||(null===(a=e.email)||void 0===a?void 0:a.split("@")[0])||"Usu\xe1rio",username:(null===(i=e.user_metadata)||void 0===i?void 0:i.username)||(null===(s=e.user_metadata)||void 0===s?void 0:s.full_name)||(null===(l=e.user_metadata)||void 0===l?void 0:l.display_name)||(null===(c=e.email)||void 0===c?void 0:c.split("@")[0])||"Usu\xe1rio",avatar_url:(null===(u=e.user_metadata)||void 0===u?void 0:u.avatar_url)||null,created_at:(new Date).toISOString(),updated_at:(new Date).toISOString()},{error:f}=await Dn.from("users").insert(h);f?console.error("\u274c Erro ao criar documento do usu\xe1rio:",f):console.log("\u2705 Documento do usu\xe1rio criado:",h.email)}catch(d){console.error("\u274c Erro inesperado ao criar documento do usu\xe1rio:",d)}else console.error("\u274c createUserDocumentFromAuth: Nenhum campo de id encontrado no objeto user:",e)}const On={currentUser:null,_callbacks:[],onAuthStateChanged(e){this._callbacks.push(e);const{data:{subscription:t}}=Dn.auth.onAuthStateChange(async(e,t)=>{var n;console.log("\ud83d\udc64 Auth state changed:",e,(null===t||void 0===t||null===(n=t.user)||void 0===n?void 0:n.email)||"sem usu\xe1rio"),null!==t&&void 0!==t&&t.user?(this.currentUser=t.user,await Pn(t.user)):this.currentUser=null,this._callbacks.forEach(e=>e(this.currentUser))});return()=>{null===t||void 0===t||t.unsubscribe();const n=this._callbacks.indexOf(e);n>-1&&this._callbacks.splice(n,1)}}};Dn.auth.getSession().then(e=>{let{data:{session:t},error:n}=e;if(n)return console.error("\u274c Erro ao verificar sess\xe3o inicial:",n),On.currentUser=null,void On._callbacks.forEach(e=>e(null));null!==t&&void 0!==t&&t.user?(console.log("\u2705 Sess\xe3o ativa encontrada:",t.user.email),On.currentUser=t.user,Pn(t.user).catch(e=>{console.error("\u274c Erro ao criar documento na sess\xe3o inicial:",e)}),On._callbacks.forEach(e=>e(On.currentUser))):(console.log("\u2139\ufe0f Nenhuma sess\xe3o ativa encontrada - usu\xe1rio deve fazer login"),On.currentUser=null,On._callbacks.forEach(e=>e(null)))}).catch(e=>{console.error("\u274c Erro ao verificar sess\xe3o inicial:",e),On.currentUser=null,On._callbacks.forEach(e=>e(null))})},896:(e,t)=>{function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,o=e[r];if(!(0<a(o,t)))break e;e[r]=t,e[n]=o,n=r}}function r(e){return 0===e.length?null:e[0]}function o(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,o=e.length,i=o>>>1;r<i;){var s=2*(r+1)-1,l=e[s],c=s+1,u=e[c];if(0>a(l,n))c<o&&0>a(u,l)?(e[r]=u,e[c]=n,r=c):(e[r]=l,e[s]=n,r=s);else{if(!(c<o&&0>a(u,n)))break e;e[r]=u,e[c]=n,r=c}}}return t}function a(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if(t.unstable_now=void 0,"object"===typeof performance&&"function"===typeof performance.now){var i=performance;t.unstable_now=function(){return i.now()}}else{var s=Date,l=s.now();t.unstable_now=function(){return s.now()-l}}var c=[],u=[],d=1,h=null,f=3,p=!1,m=!1,g=!1,v=!1,y="function"===typeof setTimeout?setTimeout:null,b="function"===typeof clearTimeout?clearTimeout:null,w="undefined"!==typeof setImmediate?setImmediate:null;function x(e){for(var t=r(u);null!==t;){if(null===t.callback)o(u);else{if(!(t.startTime<=e))break;o(u),t.sortIndex=t.expirationTime,n(c,t)}t=r(u)}}function S(e){if(g=!1,x(e),!m)if(null!==r(c))m=!0,_||(_=!0,k());else{var t=r(u);null!==t&&P(S,t.startTime-e)}}var k,_=!1,E=-1,C=5,A=-1;function j(){return!!v||!(t.unstable_now()-A<C)}function T(){if(v=!1,_){var e=t.unstable_now();A=e;var n=!0;try{e:{m=!1,g&&(g=!1,b(E),E=-1),p=!0;var a=f;try{t:{for(x(e),h=r(c);null!==h&&!(h.expirationTime>e&&j());){var i=h.callback;if("function"===typeof i){h.callback=null,f=h.priorityLevel;var s=i(h.expirationTime<=e);if(e=t.unstable_now(),"function"===typeof s){h.callback=s,x(e),n=!0;break t}h===r(c)&&o(c),x(e)}else o(c);h=r(c)}if(null!==h)n=!0;else{var l=r(u);null!==l&&P(S,l.startTime-e),n=!1}}break e}finally{h=null,f=a,p=!1}n=void 0}}finally{n?k():_=!1}}}if("function"===typeof w)k=function(){w(T)};else if("undefined"!==typeof MessageChannel){var N=new MessageChannel,D=N.port2;N.port1.onmessage=T,k=function(){D.postMessage(null)}}else k=function(){y(T,0)};function P(e,n){E=y(function(){e(t.unstable_now())},n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_next=function(e){switch(f){case 1:case 2:case 3:var t=3;break;default:t=f}var n=f;f=t;try{return e()}finally{f=n}},t.unstable_requestPaint=function(){v=!0},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=f;f=e;try{return t()}finally{f=n}},t.unstable_scheduleCallback=function(e,o,a){var i=t.unstable_now();switch("object"===typeof a&&null!==a?a="number"===typeof(a=a.delay)&&0<a?i+a:i:a=i,e){case 1:var s=-1;break;case 2:s=250;break;case 5:s=1073741823;break;case 4:s=1e4;break;default:s=5e3}return e={id:d++,callback:o,priorityLevel:e,startTime:a,expirationTime:s=a+s,sortIndex:-1},a>i?(e.sortIndex=a,n(u,e),null===r(c)&&e===r(u)&&(g?(b(E),E=-1):g=!0,P(S,a-i))):(e.sortIndex=s,n(c,e),m||p||(m=!0,_||(_=!0,k()))),e},t.unstable_shouldYield=j,t.unstable_wrapCallback=function(e){var t=f;return function(){var n=f;f=t;try{return e.apply(this,arguments)}finally{f=n}}}},922:(e,t,n)=>{n.r(t),n.d(t,{clear:()=>u,default:()=>a,getItem:()=>l,getStorageStats:()=>d,indexedDBStorage:()=>i,logStats:()=>h,removeItem:()=>c,setItem:()=>s});const r="sync_queue";const o=new class{constructor(){this.db=null,this.isReady=!1,this.fallbackToLocalStorage=!1,this.init()}async init(){if("undefined"===typeof window||!window.indexedDB)return console.warn("\u26a0\ufe0f IndexedDB n\xe3o dispon\xedvel. Usando localStorage como fallback."),this.fallbackToLocalStorage=!0,void(this.isReady=!0);try{this.db=await this.openDB(),this.isReady=!0,console.log("\u2705 IndexedDB inicializado com sucesso")}catch(e){console.error("\u274c Erro ao inicializar IndexedDB:",e),this.fallbackToLocalStorage=!0,this.isReady=!0}}openDB(){return new Promise((e,t)=>{const n=indexedDB.open("deckmaster_db",1);n.onerror=()=>t(n.error),n.onsuccess=()=>e(n.result),n.onupgradeneeded=e=>{const t=e.target.result;if(!t.objectStoreNames.contains(r)){const e=t.createObjectStore(r,{keyPath:"id",autoIncrement:!0});e.createIndex("timestamp","timestamp",{unique:!1}),e.createIndex("type","type",{unique:!1}),console.log("\ud83d\udce6 Object store criado:",r)}}})}async waitForReady(){if(this.isReady)return;const e=Date.now();for(;!this.isReady&&Date.now()-e<5e3;)await new Promise(e=>setTimeout(e,100));this.isReady||(console.warn("\u26a0\ufe0f Timeout ao aguardar IndexedDB. Usando fallback."),this.fallbackToLocalStorage=!0,this.isReady=!0)}async setItem(e,t){if(await this.waitForReady(),!this.fallbackToLocalStorage)return new Promise((n,o)=>{const a=this.db.transaction([r],"readwrite").objectStore(r).put({id:e,data:t,timestamp:Date.now()});a.onsuccess=()=>n(a.result),a.onerror=()=>o(a.error)});try{localStorage.setItem(e,JSON.stringify(t))}catch(n){throw console.error("\u274c Erro ao salvar no localStorage:",n),n}}async getItem(e){if(await this.waitForReady(),this.fallbackToLocalStorage)try{const t=localStorage.getItem(e);return t?JSON.parse(t):null}catch(t){return console.error("\u274c Erro ao ler do localStorage:",t),null}return new Promise((t,n)=>{const o=this.db.transaction([r],"readonly").objectStore(r).get(e);o.onsuccess=()=>{const e=o.result;t(e?e.data:null)},o.onerror=()=>n(o.error)})}async removeItem(e){if(await this.waitForReady(),!this.fallbackToLocalStorage)return new Promise((t,n)=>{const o=this.db.transaction([r],"readwrite").objectStore(r).delete(e);o.onsuccess=()=>t(),o.onerror=()=>n(o.error)});try{localStorage.removeItem(e)}catch(t){console.error("\u274c Erro ao remover do localStorage:",t)}}async getAllItems(){if(await this.waitForReady(),this.fallbackToLocalStorage)try{const e=localStorage.getItem("deckmaster_pending_sync");return e?[{id:"deckmaster_pending_sync",data:JSON.parse(e)}]:[]}catch(e){return console.error("\u274c Erro ao listar do localStorage:",e),[]}return new Promise((e,t)=>{const n=this.db.transaction([r],"readonly").objectStore(r).getAll();n.onsuccess=()=>e(n.result||[]),n.onerror=()=>t(n.error)})}async clear(){if(await this.waitForReady(),!this.fallbackToLocalStorage)return new Promise((e,t)=>{const n=this.db.transaction([r],"readwrite").objectStore(r).clear();n.onsuccess=()=>e(),n.onerror=()=>t(n.error)});try{Object.keys(localStorage).forEach(e=>{e.startsWith("deckmaster_")&&localStorage.removeItem(e)})}catch(e){console.error("\u274c Erro ao limpar localStorage:",e)}}async getStorageStats(){if(await this.waitForReady(),this.fallbackToLocalStorage){let e=0;const t=Object.keys(localStorage);return t.forEach(t=>{t.startsWith("deckmaster_")&&(e+=localStorage.getItem(t).length)}),{type:"localStorage",itemCount:t.filter(e=>e.startsWith("deckmaster_")).length,estimatedSize:e,estimatedSizeMB:(e/1024/1024).toFixed(2),maxSize:"5-10MB (limite do navegador)"}}const e=await this.getAllItems();let t=0;e.forEach(e=>{t+=JSON.stringify(e).length});let n=null;if(navigator.storage&&navigator.storage.estimate)try{const e=await navigator.storage.estimate();n={usage:e.usage,quota:e.quota,usageMB:(e.usage/1024/1024).toFixed(2),quotaMB:(e.quota/1024/1024).toFixed(2),percentUsed:(e.usage/e.quota*100).toFixed(2)}}catch(r){console.warn("\u26a0\ufe0f N\xe3o foi poss\xedvel obter quota do storage")}return{type:"IndexedDB",itemCount:e.length,estimatedSize:t,estimatedSizeMB:(t/1024/1024).toFixed(2),quota:n}}async logStats(){const e=await this.getStorageStats();console.log("\n\ud83d\udcca ESTAT\xcdSTICAS DE ARMAZENAMENTO:\n  \ud83d\udcbe Tipo: ".concat(e.type,"\n  \ud83d\udce6 Itens: ").concat(e.itemCount,"\n  \ud83d\udcbd Tamanho estimado: ").concat(e.estimatedSizeMB,"MB\n  ").concat(e.quota?"\n  \ud83d\udcc8 Quota do navegador:\n    \u2022 Usado: ".concat(e.quota.usageMB,"MB\n    \u2022 Total: ").concat(e.quota.quotaMB,"MB\n    \u2022 Ocupa\xe7\xe3o: ").concat(e.quota.percentUsed,"%\n  "):"  \ud83d\udccf Limite: ".concat(e.maxSize||"Desconhecido"),"\n    "))}},a=o,i=o,s=(e,t)=>o.setItem(e,t),l=e=>o.getItem(e),c=e=>o.removeItem(e),u=()=>o.clear(),d=()=>o.getStorageStats(),h=()=>o.logStats();"undefined"!==typeof window&&(window.storageManager=o,console.log("\ud83d\udca1 Use window.storageManager.logStats() para ver estat\xedsticas de armazenamento"))},950:(e,t,n)=>{!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(672)},980:(e,t,n)=>{t.kf=t.le=t.ZS=t.pT=t.lc=t.tE=void 0;const r=n(326),o=r.__importDefault(n(210));t.tE=o.default;const a=r.__importDefault(n(829));t.lc=a.default;const i=r.__importDefault(n(736));t.pT=i.default;const s=r.__importDefault(n(993));t.ZS=s.default;const l=r.__importDefault(n(286));t.le=l.default;const c=r.__importDefault(n(611));t.kf=c.default,o.default,a.default,i.default,s.default,l.default,c.default},993:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});const r=n(326).__importDefault(n(286));class o extends r.default{select(e){let t=!1;const n=(null!==e&&void 0!==e?e:"*").split("").map(e=>/\s/.test(e)&&!t?"":('"'===e&&(t=!t),e)).join("");return this.url.searchParams.set("select",n),this.headers.append("Prefer","return=representation"),this}order(e){let{ascending:t=!0,nullsFirst:n,foreignTable:r,referencedTable:o=r}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const a=o?"".concat(o,".order"):"order",i=this.url.searchParams.get(a);return this.url.searchParams.set(a,"".concat(i?"".concat(i,","):"").concat(e,".").concat(t?"asc":"desc").concat(void 0===n?"":n?".nullsfirst":".nullslast")),this}limit(e){let{foreignTable:t,referencedTable:n=t}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const r="undefined"===typeof n?"limit":"".concat(n,".limit");return this.url.searchParams.set(r,"".concat(e)),this}range(e,t){let{foreignTable:n,referencedTable:r=n}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const o="undefined"===typeof r?"offset":"".concat(r,".offset"),a="undefined"===typeof r?"limit":"".concat(r,".limit");return this.url.searchParams.set(o,"".concat(e)),this.url.searchParams.set(a,"".concat(t-e+1)),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return"GET"===this.method?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain(){let{analyze:e=!1,verbose:t=!1,settings:n=!1,buffers:r=!1,wal:o=!1,format:a="text"}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};var i;const s=[e?"analyze":null,t?"verbose":null,n?"settings":null,r?"buffers":null,o?"wal":null].filter(Boolean).join("|"),l=null!==(i=this.headers.get("Accept"))&&void 0!==i?i:"application/json";return this.headers.set("Accept","application/vnd.pgrst.plan+".concat(a,'; for="').concat(l,'"; options=').concat(s,";")),this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(e){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer","max-affected=".concat(e)),this}}t.default=o}},t={};function n(r){var o=t[r];if(void 0!==o)return o.exports;var a=t[r]={exports:{}};return e[r](a,a.exports,n),a.exports}n.m=e,(()=>{var e,t=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__;n.t=function(r,o){if(1&o&&(r=this(r)),8&o)return r;if("object"===typeof r&&r){if(4&o&&r.__esModule)return r;if(16&o&&"function"===typeof r.then)return r}var a=Object.create(null);n.r(a);var i={};e=e||[null,t({}),t([]),t(t)];for(var s=2&o&&r;("object"==typeof s||"function"==typeof s)&&!~e.indexOf(s);s=t(s))Object.getOwnPropertyNames(s).forEach(e=>i[e]=()=>r[e]);return i.default=()=>r,n.d(a,i),a}})(),n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.f={},n.e=e=>Promise.all(Object.keys(n.f).reduce((t,r)=>(n.f[r](e,t),t),[])),n.u=e=>"static/js/"+e+".70652d2d.chunk.js",n.miniCssF=e=>{},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={},t="deckmaster:";n.l=(r,o,a,i)=>{if(e[r])e[r].push(o);else{var s,l;if(void 0!==a)for(var c=document.getElementsByTagName("script"),u=0;u<c.length;u++){var d=c[u];if(d.getAttribute("src")==r||d.getAttribute("data-webpack")==t+a){s=d;break}}s||(l=!0,(s=document.createElement("script")).charset="utf-8",n.nc&&s.setAttribute("nonce",n.nc),s.setAttribute("data-webpack",t+a),s.src=r),e[r]=[o];var h=(t,n)=>{s.onerror=s.onload=null,clearTimeout(f);var o=e[r];if(delete e[r],s.parentNode&&s.parentNode.removeChild(s),o&&o.forEach(e=>e(n)),t)return t(n)},f=setTimeout(h.bind(null,void 0,{type:"timeout",target:s}),12e4);s.onerror=h.bind(null,s.onerror),s.onload=h.bind(null,s.onload),l&&document.head.appendChild(s)}}})(),n.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.p="/",(()=>{var e={792:0};n.f.j=(t,r)=>{var o=n.o(e,t)?e[t]:void 0;if(0!==o)if(o)r.push(o[2]);else{var a=new Promise((n,r)=>o=e[t]=[n,r]);r.push(o[2]=a);var i=n.p+n.u(t),s=new Error;n.l(i,r=>{if(n.o(e,t)&&(0!==(o=e[t])&&(e[t]=void 0),o)){var a=r&&("load"===r.type?"missing":r.type),i=r&&r.target&&r.target.src;s.message="Loading chunk "+t+" failed.\n("+a+": "+i+")",s.name="ChunkLoadError",s.type=a,s.request=i,o[1](s)}},"chunk-"+t,t)}};var t=(t,r)=>{var o,a,[i,s,l]=r,c=0;if(i.some(t=>0!==e[t])){for(o in s)n.o(s,o)&&(n.m[o]=s[o]);if(l)l(n)}for(t&&t(r);c<i.length;c++)a=i[c],n.o(e,a)&&e[a]&&e[a][0](),e[a]=0},r=self.webpackChunkdeckmaster=self.webpackChunkdeckmaster||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))})(),n.nc=void 0;var r=n(43),o=n.t(r,2),a=n(391);function i(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var s=n(555);const l=["sri"],c=["page"],u=["page","matches"],d=["onClick","discover","prefetch","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],h=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],f=["discover","fetcherKey","navigate","reloadDocument","replace","state","method","action","onSubmit","relative","preventScrollReset","viewTransition"];var p="popstate";function m(){return S(function(e,t){let{pathname:n,search:r,hash:o}=e.location;return b("",{pathname:n,search:r,hash:o},t.state&&t.state.usr||null,t.state&&t.state.key||"default")},function(e,t){return"string"===typeof t?t:w(t)},null,arguments.length>0&&void 0!==arguments[0]?arguments[0]:{})}function g(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}function v(e,t){if(!e){"undefined"!==typeof console&&console.warn(t);try{throw new Error(t)}catch(n){}}}function y(e,t){return{usr:e.state,key:e.key,idx:t}}function b(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=arguments.length>3?arguments[3]:void 0;return(0,s.A)((0,s.A)({pathname:"string"===typeof e?e:e.pathname,search:"",hash:""},"string"===typeof t?x(t):t),{},{state:n,key:t&&t.key||r||Math.random().toString(36).substring(2,10)})}function w(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&"?"!==n&&(t+="?"===n.charAt(0)?n:"?"+n),r&&"#"!==r&&(t+="#"===r.charAt(0)?r:"#"+r),t}function x(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substring(n),e=e.substring(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substring(r),e=e.substring(0,r)),e&&(t.pathname=e)}return t}function S(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},{window:o=document.defaultView,v5Compat:a=!1}=r,i=o.history,l="POP",c=null,u=d();function d(){return(i.state||{idx:null}).idx}function h(){l="POP";let e=d(),t=null==e?null:e-u;u=e,c&&c({action:l,location:m.location,delta:t})}function f(e){return k(e)}null==u&&(u=0,i.replaceState((0,s.A)((0,s.A)({},i.state),{},{idx:u}),""));let m={get action(){return l},get location(){return e(o,i)},listen(e){if(c)throw new Error("A history only accepts one active listener");return o.addEventListener(p,h),c=e,()=>{o.removeEventListener(p,h),c=null}},createHref:e=>t(o,e),createURL:f,encodeLocation(e){let t=f(e);return{pathname:t.pathname,search:t.search,hash:t.hash}},push:function(e,t){l="PUSH";let r=b(m.location,e,t);n&&n(r,e),u=d()+1;let s=y(r,u),h=m.createHref(r);try{i.pushState(s,"",h)}catch(f){if(f instanceof DOMException&&"DataCloneError"===f.name)throw f;o.location.assign(h)}a&&c&&c({action:l,location:m.location,delta:1})},replace:function(e,t){l="REPLACE";let r=b(m.location,e,t);n&&n(r,e),u=d();let o=y(r,u),s=m.createHref(r);i.replaceState(o,"",s),a&&c&&c({action:l,location:m.location,delta:0})},go:e=>i.go(e)};return m}function k(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n="http://localhost";"undefined"!==typeof window&&(n="null"!==window.location.origin?window.location.origin:window.location.href),g(n,"No window.location.(origin|href) available to create URL");let r="string"===typeof e?e:w(e);return r=r.replace(/ $/,"%20"),!t&&r.startsWith("//")&&(r=n+r),new URL(r,n)}new WeakMap;function _(e,t){return E(e,t,arguments.length>2&&void 0!==arguments[2]?arguments[2]:"/",!1)}function E(e,t,n,r){let o=z(("string"===typeof t?x(t):t).pathname||"/",n);if(null==o)return null;let a=C(e);!function(e){e.sort((e,t)=>e.score!==t.score?t.score-e.score:function(e,t){let n=e.length===t.length&&e.slice(0,-1).every((e,n)=>e===t[n]);return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map(e=>e.childrenIndex),t.routesMeta.map(e=>e.childrenIndex)))}(a);let i=null;for(let s=0;null==i&&s<a.length;++s){let e=U(o);i=M(a[s],e,r)}return i}function C(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",o=arguments.length>4&&void 0!==arguments[4]&&arguments[4],a=function(e,a){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:o,s=arguments.length>3?arguments[3]:void 0,l={relativePath:void 0===s?e.path||"":s,caseSensitive:!0===e.caseSensitive,childrenIndex:a,route:e};if(l.relativePath.startsWith("/")){if(!l.relativePath.startsWith(r)&&i)return;g(l.relativePath.startsWith(r),'Absolute route path "'.concat(l.relativePath,'" nested under path "').concat(r,'" is not valid. An absolute child route path must start with the combined path of all its parent routes.')),l.relativePath=l.relativePath.slice(r.length)}let c=H([r,l.relativePath]),u=n.concat(l);e.children&&e.children.length>0&&(g(!0!==e.index,'Index routes must not have child routes. Please remove all child routes from route path "'.concat(c,'".')),C(e.children,t,u,c,i)),(null!=e.path||e.index)&&t.push({path:c,score:I(c,e.index),routesMeta:u})};return e.forEach((e,t)=>{var n;if(""!==e.path&&null!==(n=e.path)&&void 0!==n&&n.includes("?"))for(let r of A(e.path))a(e,t,!0,r);else a(e,t)}),t}function A(e){let t=e.split("/");if(0===t.length)return[];let[n,...r]=t,o=n.endsWith("?"),a=n.replace(/\?$/,"");if(0===r.length)return o?[a,""]:[a];let i=A(r.join("/")),s=[];return s.push(...i.map(e=>""===e?a:[a,e].join("/"))),o&&s.push(...i),s.map(t=>e.startsWith("/")&&""===t?"/":t)}var j=/^:[\w-]+$/,T=3,N=2,D=1,P=10,O=-2,R=e=>"*"===e;function I(e,t){let n=e.split("/"),r=n.length;return n.some(R)&&(r+=O),t&&(r+=N),n.filter(e=>!R(e)).reduce((e,t)=>e+(j.test(t)?T:""===t?D:P),r)}function M(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],{routesMeta:r}=e,o={},a="/",i=[];for(let s=0;s<r.length;++s){let e=r[s],l=s===r.length-1,c="/"===a?t:t.slice(a.length)||"/",u=F({path:e.relativePath,caseSensitive:e.caseSensitive,end:l},c),d=e.route;if(!u&&l&&n&&!r[r.length-1].route.index&&(u=F({path:e.relativePath,caseSensitive:e.caseSensitive,end:!1},c)),!u)return null;Object.assign(o,u.params),i.push({params:o,pathname:H([a,u.pathname]),pathnameBase:K(H([a,u.pathnameBase])),route:d}),"/"!==u.pathnameBase&&(a=H([a,u.pathnameBase]))}return i}function F(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=L(e.path,e.caseSensitive,e.end),o=t.match(n);if(!o)return null;let a=o[0],i=a.replace(/(.)\/+$/,"$1"),s=o.slice(1),l=r.reduce((e,t,n)=>{let{paramName:r,isOptional:o}=t;if("*"===r){let e=s[n]||"";i=a.slice(0,a.length-e.length).replace(/(.)\/+$/,"$1")}const l=s[n];return e[r]=o&&!l?void 0:(l||"").replace(/%2F/g,"/"),e},{});return{params:l,pathname:a,pathnameBase:i,pattern:e}}function L(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];v("*"===e||!e.endsWith("*")||e.endsWith("/*"),'Route path "'.concat(e,'" will be treated as if it were "').concat(e.replace(/\*$/,"/*"),'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "').concat(e.replace(/\*$/,"/*"),'".'));let r=[],o="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(e,t,n)=>(r.push({paramName:t,isOptional:null!=n}),n?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return e.endsWith("*")?(r.push({paramName:"*"}),o+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":""!==e&&"/"!==e&&(o+="(?:(?=\\/|$))"),[new RegExp(o,t?void 0:"i"),r]}function U(e){try{return e.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(t){return v(!1,'The URL path "'.concat(e,'" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (').concat(t,").")),e}}function z(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&"/"!==r?null:e.slice(n)||"/"}function B(e,t,n,r){return"Cannot include a '".concat(e,"' character in a manually specified `to.").concat(t,"` field [").concat(JSON.stringify(r),"].  Please separate it out to the `to.").concat(n,'` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.')}function q(e){return e.filter((e,t)=>0===t||e.route.path&&e.route.path.length>0)}function V(e){let t=q(e);return t.map((e,n)=>n===t.length-1?e.pathname:e.pathnameBase)}function W(e,t,n){let r,o=arguments.length>3&&void 0!==arguments[3]&&arguments[3];"string"===typeof e?r=x(e):(r=(0,s.A)({},e),g(!r.pathname||!r.pathname.includes("?"),B("?","pathname","search",r)),g(!r.pathname||!r.pathname.includes("#"),B("#","pathname","hash",r)),g(!r.search||!r.search.includes("#"),B("#","search","hash",r)));let a,i=""===e||""===r.pathname,l=i?"/":r.pathname;if(null==l)a=n;else{let e=t.length-1;if(!o&&l.startsWith("..")){let t=l.split("/");for(;".."===t[0];)t.shift(),e-=1;r.pathname=t.join("/")}a=e>=0?t[e]:"/"}let c=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"/",{pathname:n,search:r="",hash:o=""}="string"===typeof e?x(e):e,a=n?n.startsWith("/")?n:function(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(e=>{".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)}),n.length>1?n.join("/"):"/"}(n,t):t;return{pathname:a,search:G(r),hash:Q(o)}}(r,a),u=l&&"/"!==l&&l.endsWith("/"),d=(i||"."===l)&&n.endsWith("/");return c.pathname.endsWith("/")||!u&&!d||(c.pathname+="/"),c}var H=e=>e.join("/").replace(/\/\/+/g,"/"),K=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),G=e=>e&&"?"!==e?e.startsWith("?")?e:"?"+e:"",Q=e=>e&&"#"!==e?e.startsWith("#")?e:"#"+e:"";function Y(e){return null!=e&&"number"===typeof e.status&&"string"===typeof e.statusText&&"boolean"===typeof e.internal&&"data"in e}var $=["POST","PUT","PATCH","DELETE"],X=(new Set($),["GET",...$]);new Set(X),Symbol("ResetLoaderData");var J=r.createContext(null);J.displayName="DataRouter";var Z=r.createContext(null);Z.displayName="DataRouterState";var ee=r.createContext(!1);var te=r.createContext({isTransitioning:!1});te.displayName="ViewTransition";var ne=r.createContext(new Map);ne.displayName="Fetchers";var re=r.createContext(null);re.displayName="Await";var oe=r.createContext(null);oe.displayName="Navigation";var ae=r.createContext(null);ae.displayName="Location";var ie=r.createContext({outlet:null,matches:[],isDataRoute:!1});ie.displayName="Route";var se=r.createContext(null);se.displayName="RouteError";function le(){return null!=r.useContext(ae)}function ce(){return g(le(),"useLocation() may be used only in the context of a <Router> component."),r.useContext(ae).location}var ue="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function de(e){r.useContext(oe).static||r.useLayoutEffect(e)}function he(){let{isDataRoute:e}=r.useContext(ie);return e?function(){let{router:e}=Se("useNavigate"),t=_e("useNavigate"),n=r.useRef(!1);de(()=>{n.current=!0});let o=r.useCallback(async function(r){let o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};v(n.current,ue),n.current&&("number"===typeof r?e.navigate(r):await e.navigate(r,(0,s.A)({fromRouteId:t},o)))},[e,t]);return o}():function(){g(le(),"useNavigate() may be used only in the context of a <Router> component.");let e=r.useContext(J),{basename:t,navigator:n}=r.useContext(oe),{matches:o}=r.useContext(ie),{pathname:a}=ce(),i=JSON.stringify(V(o)),s=r.useRef(!1);de(()=>{s.current=!0});let l=r.useCallback(function(r){let o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(v(s.current,ue),!s.current)return;if("number"===typeof r)return void n.go(r);let l=W(r,JSON.parse(i),a,"path"===o.relative);null==e&&"/"!==t&&(l.pathname="/"===l.pathname?t:H([t,l.pathname])),(o.replace?n.replace:n.push)(l,o.state,o)},[t,n,i,a,e]);return l}()}r.createContext(null);function fe(){let{matches:e}=r.useContext(ie),t=e[e.length-1];return t?t.params:{}}function pe(e){let{relative:t}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{matches:n}=r.useContext(ie),{pathname:o}=ce(),a=JSON.stringify(V(n));return r.useMemo(()=>W(e,JSON.parse(a),o,"path"===t),[e,a,o,t])}function me(e,t,n,o,a){g(le(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:i}=r.useContext(oe),{matches:l}=r.useContext(ie),c=l[l.length-1],u=c?c.params:{},d=c?c.pathname:"/",h=c?c.pathnameBase:"/",f=c&&c.route;{let e=f&&f.path||"";Ae(d,!f||e.endsWith("*")||e.endsWith("*?"),'You rendered descendant <Routes> (or called `useRoutes()`) at "'.concat(d,'" (under <Route path="').concat(e,'">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won\'t match anymore and therefore the child routes will never render.\n\nPlease change the parent <Route path="').concat(e,'"> to <Route path="').concat("/"===e?"*":"".concat(e,"/*"),'">.'))}let p,m=ce();if(t){var y;let e="string"===typeof t?x(t):t;g("/"===h||(null===(y=e.pathname)||void 0===y?void 0:y.startsWith(h)),'When overriding the location using `<Routes location>` or `useRoutes(routes, location)`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "'.concat(h,'" but pathname "').concat(e.pathname,'" was given in the `location` prop.')),p=e}else p=m;let b=p.pathname||"/",w=b;if("/"!==h){let e=h.replace(/^\//,"").split("/");w="/"+b.replace(/^\//,"").split("/").slice(e.length).join("/")}let S=_(e,{pathname:w});v(f||null!=S,'No routes matched location "'.concat(p.pathname).concat(p.search).concat(p.hash,'" ')),v(null==S||void 0!==S[S.length-1].route.element||void 0!==S[S.length-1].route.Component||void 0!==S[S.length-1].route.lazy,'Matched leaf route at location "'.concat(p.pathname).concat(p.search).concat(p.hash,'" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.'));let k=we(S&&S.map(e=>Object.assign({},e,{params:Object.assign({},u,e.params),pathname:H([h,i.encodeLocation?i.encodeLocation(e.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:e.pathname]),pathnameBase:"/"===e.pathnameBase?h:H([h,i.encodeLocation?i.encodeLocation(e.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:e.pathnameBase])})),l,n,o,a);return t&&k?r.createElement(ae.Provider,{value:{location:(0,s.A)({pathname:"/",search:"",hash:"",state:null,key:"default"},p),navigationType:"POP"}},k):k}function ge(){let e=Ee(),t=Y(e)?"".concat(e.status," ").concat(e.statusText):e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,o="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:o},i={padding:"2px 4px",backgroundColor:o},s=null;return console.error("Error handled by React Router default ErrorBoundary:",e),s=r.createElement(r.Fragment,null,r.createElement("p",null,"\ud83d\udcbf Hey developer \ud83d\udc4b"),r.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",r.createElement("code",{style:i},"ErrorBoundary")," or"," ",r.createElement("code",{style:i},"errorElement")," prop on your route.")),r.createElement(r.Fragment,null,r.createElement("h2",null,"Unexpected Application Error!"),r.createElement("h3",{style:{fontStyle:"italic"}},t),n?r.createElement("pre",{style:a},n):null,s)}var ve=r.createElement(ge,null),ye=class extends r.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||"idle"!==t.revalidation&&"idle"===e.revalidation?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:void 0!==e.error?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){this.props.unstable_onError?this.props.unstable_onError(e,t):console.error("React Router caught the following error during render",e)}render(){return void 0!==this.state.error?r.createElement(ie.Provider,{value:this.props.routeContext},r.createElement(se.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function be(e){let{routeContext:t,match:n,children:o}=e,a=r.useContext(J);return a&&a.static&&a.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=n.route.id),r.createElement(ie.Provider,{value:t},o)}function we(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;if(null==e){if(!n)return null;if(n.errors)e=n.matches;else{if(0!==t.length||n.initialized||!(n.matches.length>0))return null;e=n.matches}}let a=e,i=null===n||void 0===n?void 0:n.errors;if(null!=i){let e=a.findIndex(e=>e.route.id&&void 0!==(null===i||void 0===i?void 0:i[e.route.id]));g(e>=0,"Could not find a matching route for errors on route IDs: ".concat(Object.keys(i).join(","))),a=a.slice(0,Math.min(a.length,e+1))}let s=!1,l=-1;if(n)for(let r=0;r<a.length;r++){let e=a[r];if((e.route.HydrateFallback||e.route.hydrateFallbackElement)&&(l=r),e.route.id){let{loaderData:t,errors:r}=n,o=e.route.loader&&!t.hasOwnProperty(e.route.id)&&(!r||void 0===r[e.route.id]);if(e.route.lazy||o){s=!0,a=l>=0?a.slice(0,l+1):[a[0]];break}}}return a.reduceRight((e,c,u)=>{let d,h=!1,f=null,p=null;n&&(d=i&&c.route.id?i[c.route.id]:void 0,f=c.route.errorElement||ve,s&&(l<0&&0===u?(Ae("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),h=!0,p=null):l===u&&(h=!0,p=c.route.hydrateFallbackElement||null)));let m=t.concat(a.slice(0,u+1)),g=()=>{let t;return t=d?f:h?p:c.route.Component?r.createElement(c.route.Component,null):c.route.element?c.route.element:e,r.createElement(be,{match:c,routeContext:{outlet:e,matches:m,isDataRoute:null!=n},children:t})};return n&&(c.route.ErrorBoundary||c.route.errorElement||0===u)?r.createElement(ye,{location:n.location,revalidation:n.revalidation,component:f,error:d,children:g(),routeContext:{outlet:null,matches:m,isDataRoute:!0},unstable_onError:o}):g()},null)}function xe(e){return"".concat(e," must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.")}function Se(e){let t=r.useContext(J);return g(t,xe(e)),t}function ke(e){let t=r.useContext(Z);return g(t,xe(e)),t}function _e(e){let t=function(e){let t=r.useContext(ie);return g(t,xe(e)),t}(e),n=t.matches[t.matches.length-1];return g(n.route.id,"".concat(e,' can only be used on routes that contain a unique "id"')),n.route.id}function Ee(){var e;let t=r.useContext(se),n=ke("useRouteError"),o=_e("useRouteError");return void 0!==t?t:null===(e=n.errors)||void 0===e?void 0:e[o]}var Ce={};function Ae(e,t,n){t||Ce[e]||(Ce[e]=!0,v(!1,n))}var je={};function Te(e,t){e||je[t]||(je[t]=!0,console.warn(t))}r.memo(function(e){let{routes:t,future:n,state:r,unstable_onError:o}=e;return me(t,void 0,r,o,n)});function Ne(e){let{to:t,replace:n,state:o,relative:a}=e;g(le(),"<Navigate> may be used only in the context of a <Router> component.");let{static:i}=r.useContext(oe);v(!i,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:s}=r.useContext(ie),{pathname:l}=ce(),c=he(),u=W(t,V(s),l,"path"===a),d=JSON.stringify(u);return r.useEffect(()=>{c(JSON.parse(d),{replace:n,state:o,relative:a})},[c,d,a,n,o]),null}function De(e){g(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function Pe(e){let{basename:t="/",children:n=null,location:o,navigationType:a="POP",navigator:i,static:s=!1}=e;g(!le(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let l=t.replace(/^\/*/,"/"),c=r.useMemo(()=>({basename:l,navigator:i,static:s,future:{}}),[l,i,s]);"string"===typeof o&&(o=x(o));let{pathname:u="/",search:d="",hash:h="",state:f=null,key:p="default"}=o,m=r.useMemo(()=>{let e=z(u,l);return null==e?null:{location:{pathname:e,search:d,hash:h,state:f,key:p},navigationType:a}},[l,u,d,h,f,p,a]);return v(null!=m,'<Router basename="'.concat(l,'"> is not able to match the URL "').concat(u).concat(d).concat(h,"\" because it does not start with the basename, so the <Router> won't render anything.")),null==m?null:r.createElement(oe.Provider,{value:c},r.createElement(ae.Provider,{children:n,value:m}))}function Oe(e){let{children:t,location:n}=e;return me(Re(t),n)}r.Component;function Re(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=[];return r.Children.forEach(e,(e,o)=>{if(!r.isValidElement(e))return;let a=[...t,o];if(e.type===r.Fragment)return void n.push.apply(n,Re(e.props.children,a));g(e.type===De,"[".concat("string"===typeof e.type?e.type:e.type.name,"] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>")),g(!e.props.index||!e.props.children,"An index route cannot have child routes.");let i={id:e.props.id||a.join("-"),caseSensitive:e.props.caseSensitive,element:e.props.element,Component:e.props.Component,index:e.props.index,path:e.props.path,middleware:e.props.middleware,loader:e.props.loader,action:e.props.action,hydrateFallbackElement:e.props.hydrateFallbackElement,HydrateFallback:e.props.HydrateFallback,errorElement:e.props.errorElement,ErrorBoundary:e.props.ErrorBoundary,hasErrorBoundary:!0===e.props.hasErrorBoundary||null!=e.props.ErrorBoundary||null!=e.props.errorElement,shouldRevalidate:e.props.shouldRevalidate,handle:e.props.handle,lazy:e.props.lazy};e.props.children&&(i.children=Re(e.props.children,a)),n.push(i)}),n}var Ie="get",Me="application/x-www-form-urlencoded";function Fe(e){return null!=e&&"string"===typeof e.tagName}var Le=null;var Ue=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function ze(e){return null==e||Ue.has(e)?e:(v(!1,'"'.concat(e,'" is not a valid `encType` for `<Form>`/`<fetcher.Form>` and will default to "').concat(Me,'"')),null)}function Be(e,t){let n,r,o,a,i;if(Fe(s=e)&&"form"===s.tagName.toLowerCase()){let i=e.getAttribute("action");r=i?z(i,t):null,n=e.getAttribute("method")||Ie,o=ze(e.getAttribute("enctype"))||Me,a=new FormData(e)}else if(function(e){return Fe(e)&&"button"===e.tagName.toLowerCase()}(e)||function(e){return Fe(e)&&"input"===e.tagName.toLowerCase()}(e)&&("submit"===e.type||"image"===e.type)){let i=e.form;if(null==i)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let s=e.getAttribute("formaction")||i.getAttribute("action");if(r=s?z(s,t):null,n=e.getAttribute("formmethod")||i.getAttribute("method")||Ie,o=ze(e.getAttribute("formenctype"))||ze(i.getAttribute("enctype"))||Me,a=new FormData(i,e),!function(){if(null===Le)try{new FormData(document.createElement("form"),0),Le=!1}catch(e){Le=!0}return Le}()){let{name:t,type:n,value:r}=e;if("image"===n){let e=t?"".concat(t,"."):"";a.append("".concat(e,"x"),"0"),a.append("".concat(e,"y"),"0")}else t&&a.append(t,r)}}else{if(Fe(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Ie,r=null,o=Me,i=e}var s;return a&&"text/plain"===o&&(i=a,a=void 0),{action:r,method:n.toLowerCase(),encType:o,formData:a,body:i}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");"undefined"!==typeof window?window:"undefined"!==typeof globalThis&&globalThis;function qe(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}Symbol("SingleFetchRedirect");function Ve(e,t,n){let r="string"===typeof e?new URL(e,"undefined"===typeof window?"server://singlefetch/":window.location.origin):e;return"/"===r.pathname?r.pathname="_root.".concat(n):t&&"/"===z(r.pathname,t)?r.pathname="".concat(t.replace(/\/$/,""),"/_root.").concat(n):r.pathname="".concat(r.pathname.replace(/\/$/,""),".").concat(n),r}async function We(e,t){if(e.id in t)return t[e.id];try{let n=await import(e.module);return t[e.id]=n,n}catch(n){return console.error("Error loading route module `".concat(e.module,"`, reloading page...")),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function He(e){return null!=e&&"string"===typeof e.page}function Ke(e){return null!=e&&(null==e.href?"preload"===e.rel&&"string"===typeof e.imageSrcSet&&"string"===typeof e.imageSizes:"string"===typeof e.rel&&"string"===typeof e.href)}function Ge(e,t,n,r,o,a){let i=(e,t)=>!n[t]||e.route.id!==n[t].route.id,s=(e,t)=>{var r;return n[t].pathname!==e.pathname||(null===(r=n[t].route.path)||void 0===r?void 0:r.endsWith("*"))&&n[t].params["*"]!==e.params["*"]};return"assets"===a?t.filter((e,t)=>i(e,t)||s(e,t)):"data"===a?t.filter((t,a)=>{let l=r.routes[t.route.id];if(!l||!l.hasLoader)return!1;if(i(t,a)||s(t,a))return!0;if(t.route.shouldRevalidate){var c;let r=t.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:(null===(c=n[0])||void 0===c?void 0:c.params)||{},nextUrl:new URL(e,window.origin),nextParams:t.params,defaultShouldRevalidate:!0});if("boolean"===typeof r)return r}return!0}):[]}function Qe(e,t){let{includeHydrateFallback:n}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return r=e.map(e=>{let r=t.routes[e.route.id];if(!r)return[];let o=[r.module];return r.clientActionModule&&(o=o.concat(r.clientActionModule)),r.clientLoaderModule&&(o=o.concat(r.clientLoaderModule)),n&&r.hydrateFallbackModule&&(o=o.concat(r.hydrateFallbackModule)),r.imports&&(o=o.concat(r.imports)),o}).flat(1),[...new Set(r)];var r}function Ye(e,t){let n=new Set,r=new Set(t);return e.reduce((e,o)=>{if(t&&!He(o)&&"script"===o.as&&o.href&&r.has(o.href))return e;let a=JSON.stringify(function(e){let t={},n=Object.keys(e).sort();for(let r of n)t[r]=e[r];return t}(o));return n.has(a)||(n.add(a),e.push({key:a,link:o})),e},[])}function $e(e,t){return"lazy"===e.mode&&!0===t}function Xe(){let e=r.useContext(J);return qe(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function Je(){let e=r.useContext(Z);return qe(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var Ze=r.createContext(void 0);function et(){let e=r.useContext(Ze);return qe(e,"You must render this element inside a <HydratedRouter> element"),e}function tt(e,t){return n=>{e&&e(n),n.defaultPrevented||t(n)}}function nt(e,t,n){if(n&&!it)return[e[0]];if(t){let n=e.findIndex(e=>void 0!==t[e.route.id]);return e.slice(0,n+1)}return e}Ze.displayName="FrameworkContext";function rt(e){let{page:t}=e,n=i(e,c),{router:o}=Xe(),a=r.useMemo(()=>_(o.routes,t,o.basename),[o.routes,t,o.basename]);return a?r.createElement(at,(0,s.A)({page:t,matches:a},n)):null}function ot(e){let{manifest:t,routeModules:n}=et(),[o,a]=r.useState([]);return r.useEffect(()=>{let r=!1;return async function(e,t,n){let r=await Promise.all(e.map(async e=>{let r=t.routes[e.route.id];if(r){let e=await We(r,n);return e.links?e.links():[]}return[]}));return Ye(r.flat(1).filter(Ke).filter(e=>"stylesheet"===e.rel||"preload"===e.rel).map(e=>"stylesheet"===e.rel?(0,s.A)((0,s.A)({},e),{},{rel:"prefetch",as:"style"}):(0,s.A)((0,s.A)({},e),{},{rel:"prefetch"})))}(e,t,n).then(e=>{r||a(e)}),()=>{r=!0}},[e,t,n]),o}function at(e){let{page:t,matches:n}=e,o=i(e,u),a=ce(),{manifest:l,routeModules:c}=et(),{basename:d}=Xe(),{loaderData:h,matches:f}=Je(),p=r.useMemo(()=>Ge(t,n,f,l,a,"data"),[t,n,f,l,a]),m=r.useMemo(()=>Ge(t,n,f,l,a,"assets"),[t,n,f,l,a]),g=r.useMemo(()=>{if(t===a.pathname+a.search+a.hash)return[];let e=new Set,r=!1;if(n.forEach(t=>{var n;let o=l.routes[t.route.id];o&&o.hasLoader&&(!p.some(e=>e.route.id===t.route.id)&&t.route.id in h&&null!==(n=c[t.route.id])&&void 0!==n&&n.shouldRevalidate||o.hasClientLoader?r=!0:e.add(t.route.id))}),0===e.size)return[];let o=Ve(t,d,"data");return r&&e.size>0&&o.searchParams.set("_routes",n.filter(t=>e.has(t.route.id)).map(e=>e.route.id).join(",")),[o.pathname+o.search]},[d,h,a,l,p,n,t,c]),v=r.useMemo(()=>Qe(m,l),[m,l]),y=ot(m);return r.createElement(r.Fragment,null,g.map(e=>r.createElement("link",(0,s.A)({key:e,rel:"prefetch",as:"fetch",href:e},o))),v.map(e=>r.createElement("link",(0,s.A)({key:e,rel:"modulepreload",href:e},o))),y.map(e=>{let{key:t,link:n}=e;return r.createElement("link",(0,s.A)({key:t,nonce:o.nonce},n))}))}var it=!1;function st(e){let{manifest:t,serverHandoffString:n,isSpaMode:o,renderMeta:a,routeDiscovery:c,ssr:u}=et(),{router:d,static:h,staticContext:f}=Xe(),{matches:p}=Je(),m=r.useContext(ee),g=$e(c,u);a&&(a.didRenderScripts=!0);let v=nt(p,null,o);r.useEffect(()=>{it=!0},[]);let y=r.useMemo(()=>{var o;if(m)return null;let a=f?"window.__reactRouterContext = ".concat(n,";").concat("window.__reactRouterContext.stream = new ReadableStream({start(controller){window.__reactRouterContext.streamController = controller;}}).pipeThrough(new TextEncoderStream());"):" ",c=h?"".concat(null!==(o=t.hmr)&&void 0!==o&&o.runtime?"import ".concat(JSON.stringify(t.hmr.runtime),";"):"").concat(g?"":"import ".concat(JSON.stringify(t.url)),";\n").concat(v.map((e,n)=>{let r="route".concat(n),o=t.routes[e.route.id];qe(o,"Route ".concat(e.route.id," not found in manifest"));let{clientActionModule:a,clientLoaderModule:i,clientMiddlewareModule:s,hydrateFallbackModule:l,module:c}=o,u=[...a?[{module:a,varName:"".concat(r,"_clientAction")}]:[],...i?[{module:i,varName:"".concat(r,"_clientLoader")}]:[],...s?[{module:s,varName:"".concat(r,"_clientMiddleware")}]:[],...l?[{module:l,varName:"".concat(r,"_HydrateFallback")}]:[],{module:c,varName:"".concat(r,"_main")}];return 1===u.length?"import * as ".concat(r," from ").concat(JSON.stringify(c),";"):[u.map(e=>"import * as ".concat(e.varName,' from "').concat(e.module,'";')).join("\n"),"const ".concat(r," = {").concat(u.map(e=>"...".concat(e.varName)).join(","),"};")].join("\n")}).join("\n"),"\n  ").concat(g?"window.__reactRouterManifest = ".concat(JSON.stringify(function(e,t){let{sri:n}=e,r=i(e,l),o=new Set(t.state.matches.map(e=>e.route.id)),a=t.state.location.pathname.split("/").filter(Boolean),c=["/"];for(a.pop();a.length>0;)c.push("/".concat(a.join("/"))),a.pop();c.forEach(e=>{let n=_(t.routes,e,t.basename);n&&n.forEach(e=>o.add(e.route.id))});let u=[...o].reduce((e,t)=>Object.assign(e,{[t]:r.routes[t]}),{});return(0,s.A)((0,s.A)({},r),{},{routes:u,sri:!!n||void 0})}(t,d),null,2),";"):"","\n  window.__reactRouterRouteModules = {").concat(v.map((e,t)=>"".concat(JSON.stringify(e.route.id),":route").concat(t)).join(","),"};\n\nimport(").concat(JSON.stringify(t.entry.module),");"):" ";return r.createElement(r.Fragment,null,r.createElement("script",(0,s.A)((0,s.A)({},e),{},{suppressHydrationWarning:!0,dangerouslySetInnerHTML:{__html:a},type:void 0})),r.createElement("script",(0,s.A)((0,s.A)({},e),{},{suppressHydrationWarning:!0,dangerouslySetInnerHTML:{__html:c},type:"module",async:!0})))},[]),b=it||m?[]:(w=t.entry.imports.concat(Qe(v,t,{includeHydrateFallback:!0})),[...new Set(w)]);var w;let x="object"===typeof t.sri?t.sri:{};return Te(!m,"The <Scripts /> element is a no-op when using RSC and can be safely removed."),it||m?null:r.createElement(r.Fragment,null,"object"===typeof t.sri?r.createElement("script",{"rr-importmap":"",type:"importmap",suppressHydrationWarning:!0,dangerouslySetInnerHTML:{__html:JSON.stringify({integrity:x})}}):null,g?null:r.createElement("link",{rel:"modulepreload",href:t.url,crossOrigin:e.crossOrigin,integrity:x[t.url],suppressHydrationWarning:!0}),r.createElement("link",{rel:"modulepreload",href:t.entry.module,crossOrigin:e.crossOrigin,integrity:x[t.entry.module],suppressHydrationWarning:!0}),b.map(t=>r.createElement("link",{key:t,rel:"modulepreload",href:t,crossOrigin:e.crossOrigin,integrity:x[t],suppressHydrationWarning:!0})),y)}function lt(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return e=>{t.forEach(t=>{"function"===typeof t?t(e):null!=t&&(t.current=e)})}}r.Component;function ct(e){let{error:t,isOutsideRemixApp:n}=e;console.error(t);let o,a=r.createElement("script",{dangerouslySetInnerHTML:{__html:'\n        console.log(\n          "\ud83d\udcbf Hey developer \ud83d\udc4b. You can provide a way better UX than this when your app throws errors. Check out https://reactrouter.com/how-to/error-boundary for more information."\n        );\n      '}});if(Y(t))return r.createElement(ut,{title:"Unhandled Thrown Response!"},r.createElement("h1",{style:{fontSize:"24px"}},t.status," ",t.statusText),a);if(t instanceof Error)o=t;else{let e=null==t?"Unknown Error":"object"===typeof t&&"toString"in t?t.toString():JSON.stringify(t);o=new Error(e)}return r.createElement(ut,{title:"Application Error!",isOutsideRemixApp:n},r.createElement("h1",{style:{fontSize:"24px"}},"Application Error"),r.createElement("pre",{style:{padding:"2rem",background:"hsla(10, 50%, 50%, 0.1)",color:"red",overflow:"auto"}},o.stack),a)}function ut(e){var t;let{title:n,renderScripts:o,isOutsideRemixApp:a,children:i}=e,{routeModules:s}=et();return null!==(t=s.root)&&void 0!==t&&t.Layout&&!a?i:r.createElement("html",{lang:"en"},r.createElement("head",null,r.createElement("meta",{charSet:"utf-8"}),r.createElement("meta",{name:"viewport",content:"width=device-width,initial-scale=1,viewport-fit=cover"}),r.createElement("title",null,n)),r.createElement("body",null,r.createElement("main",{style:{fontFamily:"system-ui, sans-serif",padding:"2rem"}},i,o?r.createElement(st,null):null)))}var dt="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement;try{dt&&(window.__reactRouterVersion="7.9.4")}catch(IA){}function ht(e){let{basename:t,children:n,window:o}=e,a=r.useRef();null==a.current&&(a.current=m({window:o,v5Compat:!0}));let i=a.current,[s,l]=r.useState({action:i.action,location:i.location}),c=r.useCallback(e=>{r.startTransition(()=>l(e))},[l]);return r.useLayoutEffect(()=>i.listen(c),[i,c]),r.createElement(Pe,{basename:t,children:n,location:s.location,navigationType:s.action,navigator:i})}var ft=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,pt=r.forwardRef(function(e,t){let n,{onClick:o,discover:a="render",prefetch:l="none",relative:c,reloadDocument:u,replace:h,state:f,target:p,to:m,preventScrollReset:y,viewTransition:b}=e,x=i(e,d),{basename:S}=r.useContext(oe),k="string"===typeof m&&ft.test(m),_=!1;if("string"===typeof m&&k&&(n=m,dt))try{let e=new URL(window.location.href),t=m.startsWith("//")?new URL(e.protocol+m):new URL(m),n=z(t.pathname,S);t.origin===e.origin&&null!=n?m=n+t.search+t.hash:_=!0}catch(IA){v(!1,'<Link to="'.concat(m,'"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.'))}let E=function(e){let{relative:t}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};g(le(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:o}=r.useContext(oe),{hash:a,pathname:i,search:s}=pe(e,{relative:t}),l=i;return"/"!==n&&(l="/"===i?n:H([n,i])),o.createHref({pathname:l,search:s,hash:a})}(m,{relative:c}),[C,A,j]=function(e,t){let n=r.useContext(Ze),[o,a]=r.useState(!1),[i,s]=r.useState(!1),{onFocus:l,onBlur:c,onMouseEnter:u,onMouseLeave:d,onTouchStart:h}=t,f=r.useRef(null);r.useEffect(()=>{if("render"===e&&s(!0),"viewport"===e){let e=new IntersectionObserver(e=>{e.forEach(e=>{s(e.isIntersecting)})},{threshold:.5});return f.current&&e.observe(f.current),()=>{e.disconnect()}}},[e]),r.useEffect(()=>{if(o){let e=setTimeout(()=>{s(!0)},100);return()=>{clearTimeout(e)}}},[o]);let p=()=>{a(!0)},m=()=>{a(!1),s(!1)};return n?"intent"!==e?[i,f,{}]:[i,f,{onFocus:tt(l,p),onBlur:tt(c,m),onMouseEnter:tt(u,p),onMouseLeave:tt(d,m),onTouchStart:tt(h,p)}]:[!1,f,{}]}(l,x),T=function(e){let{target:t,replace:n,state:o,preventScrollReset:a,relative:i,viewTransition:s}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},l=he(),c=ce(),u=pe(e,{relative:i});return r.useCallback(r=>{if(function(e,t){return 0===e.button&&(!t||"_self"===t)&&!function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)}(r,t)){r.preventDefault();let t=void 0!==n?n:w(c)===w(u);l(e,{replace:t,state:o,preventScrollReset:a,relative:i,viewTransition:s})}},[c,l,u,n,o,t,e,a,i,s])}(m,{replace:h,state:f,target:p,preventScrollReset:y,relative:c,viewTransition:b});let N=r.createElement("a",(0,s.A)((0,s.A)((0,s.A)({},x),j),{},{href:n||E,onClick:_||u?o:function(e){o&&o(e),e.defaultPrevented||T(e)},ref:lt(t,A),target:p,"data-discover":k||"render"!==a?void 0:"true"}));return C&&!k?r.createElement(r.Fragment,null,N,r.createElement(rt,{page:E})):N});pt.displayName="Link",r.forwardRef(function(e,t){let{"aria-current":n="page",caseSensitive:o=!1,className:a="",end:l=!1,style:c,to:u,viewTransition:d,children:f}=e,p=i(e,h),m=pe(u,{relative:p.relative}),v=ce(),y=r.useContext(Z),{navigator:b,basename:w}=r.useContext(oe),x=null!=y&&function(e){let{relative:t}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=r.useContext(te);g(null!=n,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:o}=vt("useViewTransitionState"),a=pe(e,{relative:t});if(!n.isTransitioning)return!1;let i=z(n.currentLocation.pathname,o)||n.currentLocation.pathname,s=z(n.nextLocation.pathname,o)||n.nextLocation.pathname;return null!=F(a.pathname,s)||null!=F(a.pathname,i)}(m)&&!0===d,S=b.encodeLocation?b.encodeLocation(m).pathname:m.pathname,k=v.pathname,_=y&&y.navigation&&y.navigation.location?y.navigation.location.pathname:null;o||(k=k.toLowerCase(),_=_?_.toLowerCase():null,S=S.toLowerCase()),_&&w&&(_=z(_,w)||_);const E="/"!==S&&S.endsWith("/")?S.length-1:S.length;let C,A=k===S||!l&&k.startsWith(S)&&"/"===k.charAt(E),j=null!=_&&(_===S||!l&&_.startsWith(S)&&"/"===_.charAt(S.length)),T={isActive:A,isPending:j,isTransitioning:x},N=A?n:void 0;C="function"===typeof a?a(T):[a,A?"active":null,j?"pending":null,x?"transitioning":null].filter(Boolean).join(" ");let D="function"===typeof c?c(T):c;return r.createElement(pt,(0,s.A)((0,s.A)({},p),{},{"aria-current":N,className:C,ref:t,style:D,to:u,viewTransition:d}),"function"===typeof f?f(T):f)}).displayName="NavLink";var mt=r.forwardRef((e,t)=>{let{discover:n="render",fetcherKey:o,navigate:a,reloadDocument:l,replace:c,state:u,method:d=Ie,action:h,onSubmit:p,relative:m,preventScrollReset:v,viewTransition:y}=e,b=i(e,f),x=wt(),S=function(e){let{relative:t}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{basename:n}=r.useContext(oe),o=r.useContext(ie);g(o,"useFormAction must be used inside a RouteContext");let[a]=o.matches.slice(-1),i=(0,s.A)({},pe(e||".",{relative:t})),l=ce();if(null==e){i.search=l.search;let e=new URLSearchParams(i.search),t=e.getAll("index");if(t.some(e=>""===e)){e.delete("index"),t.filter(e=>e).forEach(t=>e.append("index",t));let n=e.toString();i.search=n?"?".concat(n):""}}e&&"."!==e||!a.route.index||(i.search=i.search?i.search.replace(/^\?/,"?index&"):"?index");"/"!==n&&(i.pathname="/"===i.pathname?n:H([n,i.pathname]));return w(i)}(h,{relative:m}),k="get"===d.toLowerCase()?"get":"post",_="string"===typeof h&&ft.test(h);return r.createElement("form",(0,s.A)((0,s.A)({ref:t,method:k,action:S,onSubmit:l?p:e=>{if(p&&p(e),e.defaultPrevented)return;e.preventDefault();let t=e.nativeEvent.submitter,n=(null===t||void 0===t?void 0:t.getAttribute("formmethod"))||d;x(t||e.currentTarget,{fetcherKey:o,method:n,navigate:a,replace:c,state:u,relative:m,preventScrollReset:v,viewTransition:y})}},b),{},{"data-discover":_||"render"!==n?void 0:"true"}))});function gt(e){return"".concat(e," must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.")}function vt(e){let t=r.useContext(J);return g(t,gt(e)),t}mt.displayName="Form";var yt=0,bt=()=>"__".concat(String(++yt),"__");function wt(){let{router:e}=vt("useSubmit"),{basename:t}=r.useContext(oe),n=_e("useRouteId");return r.useCallback(async function(r){let o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{action:a,method:i,encType:s,formData:l,body:c}=Be(r,t);if(!1===o.navigate){let t=o.fetcherKey||bt();await e.fetch(t,n,o.action||a,{preventScrollReset:o.preventScrollReset,formData:l,body:c,formMethod:o.method||i,formEncType:o.encType||s,flushSync:o.flushSync})}else await e.navigate(o.action||a,{preventScrollReset:o.preventScrollReset,formData:l,body:c,formMethod:o.method||i,formEncType:o.encType||s,replace:o.replace,state:o.state,fromRouteId:n,flushSync:o.flushSync,viewTransition:o.viewTransition})},[e,t,n])}var xt=n(875);function St(){const[e,t]=(0,r.useState)(null),[n,o]=(0,r.useState)(!0);return console.log("\ud83d\udd0d useAuthState - Estado inicial:",{user:(null===e||void 0===e?void 0:e.email)||"null",loading:n}),(0,r.useEffect)(()=>{console.log("\ud83d\udd04 useAuthState - Configurando listener de auth...");const{data:{subscription:e}}=xt.ND.auth.onAuthStateChange(async(e,n)=>{var r;console.log("\ud83d\udc64 useAuthState - Auth state changed:",e,(null===n||void 0===n||null===(r=n.user)||void 0===r?void 0:r.email)||"sem usu\xe1rio"),null!==n&&void 0!==n&&n.user?t(n.user):t(null),o(!1)});return(async()=>{try{const{data:{session:e},error:n}=await xt.ND.auth.getSession();n?(console.error("\u274c Erro ao verificar sess\xe3o:",n),t(null)):null!==e&&void 0!==e&&e.user?(console.log("\u2705 Sess\xe3o encontrada:",e.user.email),t(e.user)):(console.log("\u2139\ufe0f Nenhuma sess\xe3o ativa"),t(null))}catch(e){console.error("\u274c Erro inesperado ao verificar sess\xe3o:",e),t(null)}finally{o(!1)}})(),()=>{null===e||void 0===e||e.unsubscribe()}},[]),console.log("\ud83d\udd0d useAuthState - Estado atual:",{user:(null===e||void 0===e?void 0:e.email)||"null",loading:n}),[e,n]}var kt=n(579),_t=r.createContext(void 0),Et=e=>{const t=r.useContext(_t);if(e)return e;if(!t)throw new Error("No QueryClient set, use QueryClientProvider to set one");return t},Ct=e=>{let{client:t,children:n}=e;return r.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),(0,kt.jsx)(_t.Provider,{value:t,children:n})};function At(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}function jt(e,t){At(e,t),t.add(e)}function Tt(e,t,n){At(e,t),t.set(e,n)}function Nt(e,t,n){if("function"==typeof e?e===t:e.has(t))return arguments.length<3?t:n;throw new TypeError("Private element is not present on this object")}function Dt(e,t){return e.get(Nt(e,t))}function Pt(e,t,n){return e.set(Nt(e,t),n),n}var Ot,Rt,It=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},Mt={setTimeout:(e,t)=>setTimeout(e,t),clearTimeout:e=>clearTimeout(e),setInterval:(e,t)=>setInterval(e,t),clearInterval:e=>clearInterval(e)},Ft=(Ot=new WeakMap,Rt=new WeakMap,class{constructor(){Tt(this,Ot,Mt),Tt(this,Rt,!1)}setTimeoutProvider(e){Pt(Ot,this,e)}setTimeout(e,t){return Dt(Ot,this).setTimeout(e,t)}clearTimeout(e){Dt(Ot,this).clearTimeout(e)}setInterval(e,t){return Dt(Ot,this).setInterval(e,t)}clearInterval(e){Dt(Ot,this).clearInterval(e)}}),Lt=new Ft;var Ut="undefined"===typeof window||"Deno"in globalThis;function zt(){}function Bt(e){return"number"===typeof e&&e>=0&&e!==1/0}function qt(e,t){return Math.max(e+(t||0)-Date.now(),0)}function Vt(e,t){return"function"===typeof e?e(t):e}function Wt(e,t){return"function"===typeof e?e(t):e}function Ht(e,t){const{type:n="all",exact:r,fetchStatus:o,predicate:a,queryKey:i,stale:s}=e;if(i)if(r){if(t.queryHash!==Gt(i,t.options))return!1}else if(!Yt(t.queryKey,i))return!1;if("all"!==n){const e=t.isActive();if("active"===n&&!e)return!1;if("inactive"===n&&e)return!1}return("boolean"!==typeof s||t.isStale()===s)&&((!o||o===t.state.fetchStatus)&&!(a&&!a(t)))}function Kt(e,t){const{exact:n,status:r,predicate:o,mutationKey:a}=e;if(a){if(!t.options.mutationKey)return!1;if(n){if(Qt(t.options.mutationKey)!==Qt(a))return!1}else if(!Yt(t.options.mutationKey,a))return!1}return(!r||t.state.status===r)&&!(o&&!o(t))}function Gt(e,t){return((null===t||void 0===t?void 0:t.queryKeyHashFn)||Qt)(e)}function Qt(e){return JSON.stringify(e,(e,t)=>en(t)?Object.keys(t).sort().reduce((e,n)=>(e[n]=t[n],e),{}):t)}function Yt(e,t){return e===t||typeof e===typeof t&&(!(!e||!t||"object"!==typeof e||"object"!==typeof t)&&Object.keys(t).every(n=>Yt(e[n],t[n])))}var $t=Object.prototype.hasOwnProperty;function Xt(e,t){if(e===t)return e;const n=Zt(e)&&Zt(t);if(!n&&(!en(e)||!en(t)))return t;const r=(n?e:Object.keys(e)).length,o=n?t:Object.keys(t),a=o.length,i=n?new Array(a):{};let s=0;for(let l=0;l<a;l++){const a=n?l:o[l],c=e[a],u=t[a];if(c===u){i[a]=c,(n?l<r:$t.call(e,a))&&s++;continue}if(null===c||null===u||"object"!==typeof c||"object"!==typeof u){i[a]=u;continue}const d=Xt(c,u);i[a]=d,d===c&&s++}return r===a&&s===r?e:i}function Jt(e,t){if(!t||Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e)if(e[n]!==t[n])return!1;return!0}function Zt(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function en(e){if(!tn(e))return!1;const t=e.constructor;if(void 0===t)return!0;const n=t.prototype;return!!tn(n)&&(!!n.hasOwnProperty("isPrototypeOf")&&Object.getPrototypeOf(e)===Object.prototype)}function tn(e){return"[object Object]"===Object.prototype.toString.call(e)}function nn(e,t,n){return"function"===typeof n.structuralSharing?n.structuralSharing(e,t):!1!==n.structuralSharing?Xt(e,t):t}function rn(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;const r=[...e,t];return n&&r.length>n?r.slice(1):r}function on(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;const r=[t,...e];return n&&r.length>n?r.slice(0,-1):r}var an,sn,ln,cn=Symbol();function un(e,t){return!e.queryFn&&null!==t&&void 0!==t&&t.initialPromise?()=>t.initialPromise:e.queryFn&&e.queryFn!==cn?e.queryFn:()=>Promise.reject(new Error("Missing queryFn: '".concat(e.queryHash,"'")))}function dn(e,t){return"function"===typeof e?e(...t):!!e}var hn=new(an=new WeakMap,sn=new WeakMap,ln=new WeakMap,class extends It{constructor(){super(),Tt(this,an,void 0),Tt(this,sn,void 0),Tt(this,ln,void 0),Pt(ln,this,e=>{if(!Ut&&window.addEventListener){const t=()=>e();return window.addEventListener("visibilitychange",t,!1),()=>{window.removeEventListener("visibilitychange",t)}}})}onSubscribe(){Dt(sn,this)||this.setEventListener(Dt(ln,this))}onUnsubscribe(){var e;this.hasListeners()||(null===(e=Dt(sn,this))||void 0===e||e.call(this),Pt(sn,this,void 0))}setEventListener(e){var t;Pt(ln,this,e),null===(t=Dt(sn,this))||void 0===t||t.call(this),Pt(sn,this,e(e=>{"boolean"===typeof e?this.setFocused(e):this.onFocus()}))}setFocused(e){Dt(an,this)!==e&&(Pt(an,this,e),this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(t=>{t(e)})}isFocused(){var e;return"boolean"===typeof Dt(an,this)?Dt(an,this):"hidden"!==(null===(e=globalThis.document)||void 0===e?void 0:e.visibilityState)}}),fn=function(e){setTimeout(e,0)};var pn,mn,gn,vn=function(){let e=[],t=0,n=e=>{e()},r=e=>{e()},o=fn;const a=r=>{t?e.push(r):o(()=>{n(r)})};return{batch:a=>{let i;t++;try{i=a()}finally{t--,t||(()=>{const t=e;e=[],t.length&&o(()=>{r(()=>{t.forEach(e=>{n(e)})})})})()}return i},batchCalls:e=>function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];a(()=>{e(...n)})},schedule:a,setNotifyFunction:e=>{n=e},setBatchNotifyFunction:e=>{r=e},setScheduler:e=>{o=e}}}(),yn=new(pn=new WeakMap,mn=new WeakMap,gn=new WeakMap,class extends It{constructor(){super(),Tt(this,pn,!0),Tt(this,mn,void 0),Tt(this,gn,void 0),Pt(gn,this,e=>{if(!Ut&&window.addEventListener){const t=()=>e(!0),n=()=>e(!1);return window.addEventListener("online",t,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",t),window.removeEventListener("offline",n)}}})}onSubscribe(){Dt(mn,this)||this.setEventListener(Dt(gn,this))}onUnsubscribe(){var e;this.hasListeners()||(null===(e=Dt(mn,this))||void 0===e||e.call(this),Pt(mn,this,void 0))}setEventListener(e){var t;Pt(gn,this,e),null===(t=Dt(mn,this))||void 0===t||t.call(this),Pt(mn,this,e(this.setOnline.bind(this)))}setOnline(e){Dt(pn,this)!==e&&(Pt(pn,this,e),this.listeners.forEach(t=>{t(e)}))}isOnline(){return Dt(pn,this)}});function bn(){let e,t;const n=new Promise((n,r)=>{e=n,t=r});function r(e){Object.assign(n,e),delete n.resolve,delete n.reject}return n.status="pending",n.catch(()=>{}),n.resolve=t=>{r({status:"fulfilled",value:t}),e(t)},n.reject=e=>{r({status:"rejected",reason:e}),t(e)},n}function wn(e){return Math.min(1e3*2**e,3e4)}function xn(e){return"online"!==(null!==e&&void 0!==e?e:"online")||yn.isOnline()}var Sn,kn=class extends Error{constructor(e){super("CancelledError"),this.revert=null===e||void 0===e?void 0:e.revert,this.silent=null===e||void 0===e?void 0:e.silent}};function _n(e){let t,n=!1,r=0;const o=bn(),a=()=>"pending"!==o.status,i=()=>hn.isFocused()&&("always"===e.networkMode||yn.isOnline())&&e.canRun(),s=()=>xn(e.networkMode)&&e.canRun(),l=e=>{var n;a()||(null===(n=t)||void 0===n||n(),o.resolve(e))},c=e=>{var n;a()||(null===(n=t)||void 0===n||n(),o.reject(e))},u=()=>new Promise(n=>{var r;t=e=>{(a()||i())&&n(e)},null===(r=e.onPause)||void 0===r||r.call(e)}).then(()=>{var n;(t=void 0,a())||(null===(n=e.onContinue)||void 0===n||n.call(e))}),d=()=>{if(a())return;let t;const o=0===r?e.initialPromise:void 0;try{t=null!==o&&void 0!==o?o:e.fn()}catch(s){t=Promise.reject(s)}Promise.resolve(t).then(l).catch(t=>{var o,s,l;if(a())return;const h=null!==(o=e.retry)&&void 0!==o?o:Ut?0:3,f=null!==(s=e.retryDelay)&&void 0!==s?s:wn,p="function"===typeof f?f(r,t):f,m=!0===h||"number"===typeof h&&r<h||"function"===typeof h&&h(r,t);var g;!n&&m?(r++,null===(l=e.onFail)||void 0===l||l.call(e,r,t),(g=p,new Promise(e=>{Lt.setTimeout(e,g)})).then(()=>i()?void 0:u()).then(()=>{n?c(t):d()})):c(t)})};return{promise:o,status:()=>o.status,cancel:t=>{if(!a()){var n;const r=new kn(t);c(r),null===(n=e.onCancel)||void 0===n||n.call(e,r)}},continue:()=>{var e;return null===(e=t)||void 0===e||e(),o},cancelRetry:()=>{n=!0},continueRetry:()=>{n=!1},canStart:s,start:()=>(s()?d():u().then(d),o)}}var En,Cn,An,jn,Tn,Nn,Dn,Pn,On,Rn,In,Mn,Fn,Ln,Un,zn,Bn,qn,Vn,Wn,Hn,Kn,Gn,Qn,Yn=(Sn=new WeakMap,class{constructor(){Tt(this,Sn,void 0)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),Bt(this.gcTime)&&Pt(Sn,this,Lt.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,null!==e&&void 0!==e?e:Ut?1/0:3e5)}clearGcTimeout(){Dt(Sn,this)&&(Lt.clearTimeout(Dt(Sn,this)),Pt(Sn,this,void 0))}}),$n=(En=new WeakMap,Cn=new WeakMap,An=new WeakMap,jn=new WeakMap,Tn=new WeakMap,Nn=new WeakMap,Dn=new WeakMap,Pn=new WeakSet,class extends Yn{constructor(e){var t;super(),jt(this,Pn),Tt(this,En,void 0),Tt(this,Cn,void 0),Tt(this,An,void 0),Tt(this,jn,void 0),Tt(this,Tn,void 0),Tt(this,Nn,void 0),Tt(this,Dn,void 0),Pt(Dn,this,!1),Pt(Nn,this,e.defaultOptions),this.setOptions(e.options),this.observers=[],Pt(jn,this,e.client),Pt(An,this,Dt(jn,this).getQueryCache()),this.queryKey=e.queryKey,this.queryHash=e.queryHash,Pt(En,this,Zn(this.options)),this.state=null!==(t=e.state)&&void 0!==t?t:Dt(En,this),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var e;return null===(e=Dt(Tn,this))||void 0===e?void 0:e.promise}setOptions(e){if(this.options=(0,s.A)((0,s.A)({},Dt(Nn,this)),e),this.updateGcTime(this.options.gcTime),this.state&&void 0===this.state.data){const e=Zn(this.options);void 0!==e.data&&(this.setData(e.data,{updatedAt:e.dataUpdatedAt,manual:!0}),Pt(En,this,e))}}optionalRemove(){this.observers.length||"idle"!==this.state.fetchStatus||Dt(An,this).remove(this)}setData(e,t){const n=nn(this.state.data,e,this.options);return Nt(Pn,this,Xn).call(this,{data:n,type:"success",dataUpdatedAt:null===t||void 0===t?void 0:t.updatedAt,manual:null===t||void 0===t?void 0:t.manual}),n}setState(e,t){Nt(Pn,this,Xn).call(this,{type:"setState",state:e,setStateOptions:t})}cancel(e){var t,n;const r=null===(t=Dt(Tn,this))||void 0===t?void 0:t.promise;return null===(n=Dt(Tn,this))||void 0===n||n.cancel(e),r?r.then(zt).catch(zt):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(Dt(En,this))}isActive(){return this.observers.some(e=>!1!==Wt(e.options.enabled,this))}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===cn||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0&&this.observers.some(e=>"static"===Vt(e.options.staleTime,this))}isStale(){return this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):void 0===this.state.data||this.state.isInvalidated}isStaleByTime(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return void 0===this.state.data||"static"!==e&&(!!this.state.isInvalidated||!qt(this.state.dataUpdatedAt,e))}onFocus(){var e;const t=this.observers.find(e=>e.shouldFetchOnWindowFocus());null===t||void 0===t||t.refetch({cancelRefetch:!1}),null===(e=Dt(Tn,this))||void 0===e||e.continue()}onOnline(){var e;const t=this.observers.find(e=>e.shouldFetchOnReconnect());null===t||void 0===t||t.refetch({cancelRefetch:!1}),null===(e=Dt(Tn,this))||void 0===e||e.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),Dt(An,this).notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(t=>t!==e),this.observers.length||(Dt(Tn,this)&&(Dt(Dn,this)?Dt(Tn,this).cancel({revert:!0}):Dt(Tn,this).cancelRetry()),this.scheduleGc()),Dt(An,this).notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||Nt(Pn,this,Xn).call(this,{type:"invalidate"})}async fetch(e,t){var n,r,o;if("idle"!==this.state.fetchStatus&&"rejected"!==(null===(n=Dt(Tn,this))||void 0===n?void 0:n.status()))if(void 0!==this.state.data&&null!==t&&void 0!==t&&t.cancelRefetch)this.cancel({silent:!0});else if(Dt(Tn,this))return Dt(Tn,this).continueRetry(),Dt(Tn,this).promise;if(e&&this.setOptions(e),!this.options.queryFn){const e=this.observers.find(e=>e.options.queryFn);e&&this.setOptions(e.options)}const a=new AbortController,i=e=>{Object.defineProperty(e,"signal",{enumerable:!0,get:()=>(Pt(Dn,this,!0),a.signal)})},l=()=>{const e=un(this.options,t),n=(()=>{const e={client:Dt(jn,this),queryKey:this.queryKey,meta:this.meta};return i(e),e})();return Pt(Dn,this,!1),this.options.persister?this.options.persister(e,n,this):e(n)},c=(()=>{const e={fetchOptions:t,options:this.options,queryKey:this.queryKey,client:Dt(jn,this),state:this.state,fetchFn:l};return i(e),e})();var u;(null===(r=this.options.behavior)||void 0===r||r.onFetch(c,this),Pt(Cn,this,this.state),"idle"===this.state.fetchStatus||this.state.fetchMeta!==(null===(o=c.fetchOptions)||void 0===o?void 0:o.meta))&&Nt(Pn,this,Xn).call(this,{type:"fetch",meta:null===(u=c.fetchOptions)||void 0===u?void 0:u.meta});Pt(Tn,this,_n({initialPromise:null===t||void 0===t?void 0:t.initialPromise,fn:c.fetchFn,onCancel:e=>{e instanceof kn&&e.revert&&this.setState((0,s.A)((0,s.A)({},Dt(Cn,this)),{},{fetchStatus:"idle"})),a.abort()},onFail:(e,t)=>{Nt(Pn,this,Xn).call(this,{type:"failed",failureCount:e,error:t})},onPause:()=>{Nt(Pn,this,Xn).call(this,{type:"pause"})},onContinue:()=>{Nt(Pn,this,Xn).call(this,{type:"continue"})},retry:c.options.retry,retryDelay:c.options.retryDelay,networkMode:c.options.networkMode,canRun:()=>!0}));try{var d,h,f,p;const e=await Dt(Tn,this).start();if(void 0===e)throw new Error("".concat(this.queryHash," data is undefined"));return this.setData(e),null===(d=(h=Dt(An,this).config).onSuccess)||void 0===d||d.call(h,e,this),null===(f=(p=Dt(An,this).config).onSettled)||void 0===f||f.call(p,e,this.state.error,this),e}catch(b){var m,g,v,y;if(b instanceof kn){if(b.silent)return Dt(Tn,this).promise;if(b.revert){if(void 0===this.state.data)throw b;return this.state.data}}throw Nt(Pn,this,Xn).call(this,{type:"error",error:b}),null===(m=(g=Dt(An,this).config).onError)||void 0===m||m.call(g,b,this),null===(v=(y=Dt(An,this).config).onSettled)||void 0===v||v.call(y,this.state.data,b,this),b}finally{this.scheduleGc()}}});function Xn(e){this.state=(t=>{var n,r;switch(e.type){case"failed":return(0,s.A)((0,s.A)({},t),{},{fetchFailureCount:e.failureCount,fetchFailureReason:e.error});case"pause":return(0,s.A)((0,s.A)({},t),{},{fetchStatus:"paused"});case"continue":return(0,s.A)((0,s.A)({},t),{},{fetchStatus:"fetching"});case"fetch":return(0,s.A)((0,s.A)((0,s.A)({},t),Jn(t.data,this.options)),{},{fetchMeta:null!==(n=e.meta)&&void 0!==n?n:null});case"success":const o=(0,s.A)((0,s.A)({},t),{},{data:e.data,dataUpdateCount:t.dataUpdateCount+1,dataUpdatedAt:null!==(r=e.dataUpdatedAt)&&void 0!==r?r:Date.now(),error:null,isInvalidated:!1,status:"success"},!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null});return Pt(Cn,this,e.manual?o:void 0),o;case"error":const a=e.error;return(0,s.A)((0,s.A)({},t),{},{error:a,errorUpdateCount:t.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:t.fetchFailureCount+1,fetchFailureReason:a,fetchStatus:"idle",status:"error"});case"invalidate":return(0,s.A)((0,s.A)({},t),{},{isInvalidated:!0});case"setState":return(0,s.A)((0,s.A)({},t),e.state)}})(this.state),vn.batch(()=>{this.observers.forEach(e=>{e.onQueryUpdate()}),Dt(An,this).notify({query:this,type:"updated",action:e})})}function Jn(e,t){return(0,s.A)({fetchFailureCount:0,fetchFailureReason:null,fetchStatus:xn(t.networkMode)?"fetching":"paused"},void 0===e&&{error:null,status:"pending"})}function Zn(e){const t="function"===typeof e.initialData?e.initialData():e.initialData,n=void 0!==t,r=n?"function"===typeof e.initialDataUpdatedAt?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:n?null!==r&&void 0!==r?r:Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var er=(On=new WeakMap,Rn=new WeakMap,In=new WeakMap,Mn=new WeakMap,Fn=new WeakMap,Ln=new WeakMap,Un=new WeakMap,zn=new WeakMap,Bn=new WeakMap,qn=new WeakMap,Vn=new WeakMap,Wn=new WeakMap,Hn=new WeakMap,Kn=new WeakMap,Gn=new WeakMap,Qn=new WeakSet,class extends It{constructor(e,t){super(),jt(this,Qn),Tt(this,On,void 0),Tt(this,Rn,void 0),Tt(this,In,void 0),Tt(this,Mn,void 0),Tt(this,Fn,void 0),Tt(this,Ln,void 0),Tt(this,Un,void 0),Tt(this,zn,void 0),Tt(this,Bn,void 0),Tt(this,qn,void 0),Tt(this,Vn,void 0),Tt(this,Wn,void 0),Tt(this,Hn,void 0),Tt(this,Kn,void 0),Tt(this,Gn,new Set),this.options=t,Pt(On,this,e),Pt(zn,this,null),Pt(Un,this,bn()),this.bindMethods(),this.setOptions(t)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){1===this.listeners.size&&(Dt(Rn,this).addObserver(this),ur(Dt(Rn,this),this.options)?Nt(Qn,this,tr).call(this):this.updateResult(),Nt(Qn,this,ar).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return dr(Dt(Rn,this),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return dr(Dt(Rn,this),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,Nt(Qn,this,ir).call(this),Nt(Qn,this,sr).call(this),Dt(Rn,this).removeObserver(this)}setOptions(e){const t=this.options,n=Dt(Rn,this);if(this.options=Dt(On,this).defaultQueryOptions(e),void 0!==this.options.enabled&&"boolean"!==typeof this.options.enabled&&"function"!==typeof this.options.enabled&&"boolean"!==typeof Wt(this.options.enabled,Dt(Rn,this)))throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");Nt(Qn,this,lr).call(this),Dt(Rn,this).setOptions(this.options),t._defaulted&&!Jt(this.options,t)&&Dt(On,this).getQueryCache().notify({type:"observerOptionsUpdated",query:Dt(Rn,this),observer:this});const r=this.hasListeners();r&&hr(Dt(Rn,this),n,this.options,t)&&Nt(Qn,this,tr).call(this),this.updateResult(),!r||Dt(Rn,this)===n&&Wt(this.options.enabled,Dt(Rn,this))===Wt(t.enabled,Dt(Rn,this))&&Vt(this.options.staleTime,Dt(Rn,this))===Vt(t.staleTime,Dt(Rn,this))||Nt(Qn,this,nr).call(this);const o=Nt(Qn,this,rr).call(this);!r||Dt(Rn,this)===n&&Wt(this.options.enabled,Dt(Rn,this))===Wt(t.enabled,Dt(Rn,this))&&o===Dt(Kn,this)||Nt(Qn,this,or).call(this,o)}getOptimisticResult(e){const t=Dt(On,this).getQueryCache().build(Dt(On,this),e),n=this.createResult(t,e);return function(e,t){if(!Jt(e.getCurrentResult(),t))return!0;return!1}(this,n)&&(Pt(Mn,this,n),Pt(Ln,this,this.options),Pt(Fn,this,Dt(Rn,this).state)),n}getCurrentResult(){return Dt(Mn,this)}trackResult(e,t){return new Proxy(e,{get:(e,n)=>(this.trackProp(n),null===t||void 0===t||t(n),"promise"===n&&(this.trackProp("data"),this.options.experimental_prefetchInRender||"pending"!==Dt(Un,this).status||Dt(Un,this).reject(new Error("experimental_prefetchInRender feature flag is not enabled"))),Reflect.get(e,n))})}trackProp(e){Dt(Gn,this).add(e)}getCurrentQuery(){return Dt(Rn,this)}refetch(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=Object.assign({},(function(e){if(null==e)throw new TypeError("Cannot destructure "+e)}(e),e));return this.fetch((0,s.A)({},t))}fetchOptimistic(e){const t=Dt(On,this).defaultQueryOptions(e),n=Dt(On,this).getQueryCache().build(Dt(On,this),t);return n.fetch().then(()=>this.createResult(n,t))}fetch(e){var t;return Nt(Qn,this,tr).call(this,(0,s.A)((0,s.A)({},e),{},{cancelRefetch:null===(t=e.cancelRefetch)||void 0===t||t})).then(()=>(this.updateResult(),Dt(Mn,this)))}createResult(e,t){const n=Dt(Rn,this),r=this.options,o=Dt(Mn,this),a=Dt(Fn,this),i=Dt(Ln,this),l=e!==n?e.state:Dt(In,this),{state:c}=e;let u,d=(0,s.A)({},c),h=!1;if(t._optimisticResults){const o=this.hasListeners(),a=!o&&ur(e,t),i=o&&hr(e,n,t,r);(a||i)&&(d=(0,s.A)((0,s.A)({},d),Jn(c.data,e.options))),"isRestoring"===t._optimisticResults&&(d.fetchStatus="idle")}let{error:f,errorUpdatedAt:p,status:m}=d;u=d.data;let g=!1;if(void 0!==t.placeholderData&&void 0===u&&"pending"===m){let e;var v;if(null!==o&&void 0!==o&&o.isPlaceholderData&&t.placeholderData===(null===i||void 0===i?void 0:i.placeholderData))e=o.data,g=!0;else e="function"===typeof t.placeholderData?t.placeholderData(null===(v=Dt(Vn,this))||void 0===v?void 0:v.state.data,Dt(Vn,this)):t.placeholderData;void 0!==e&&(m="success",u=nn(null===o||void 0===o?void 0:o.data,e,t),h=!0)}if(t.select&&void 0!==u&&!g)if(o&&u===(null===a||void 0===a?void 0:a.data)&&t.select===Dt(Bn,this))u=Dt(qn,this);else try{Pt(Bn,this,t.select),u=t.select(u),u=nn(null===o||void 0===o?void 0:o.data,u,t),Pt(qn,this,u),Pt(zn,this,null)}catch(_){Pt(zn,this,_)}Dt(zn,this)&&(f=Dt(zn,this),u=Dt(qn,this),p=Date.now(),m="error");const y="fetching"===d.fetchStatus,b="pending"===m,w="error"===m,x=b&&y,S=void 0!==u,k={status:m,fetchStatus:d.fetchStatus,isPending:b,isSuccess:"success"===m,isError:w,isInitialLoading:x,isLoading:x,data:u,dataUpdatedAt:d.dataUpdatedAt,error:f,errorUpdatedAt:p,failureCount:d.fetchFailureCount,failureReason:d.fetchFailureReason,errorUpdateCount:d.errorUpdateCount,isFetched:d.dataUpdateCount>0||d.errorUpdateCount>0,isFetchedAfterMount:d.dataUpdateCount>l.dataUpdateCount||d.errorUpdateCount>l.errorUpdateCount,isFetching:y,isRefetching:y&&!b,isLoadingError:w&&!S,isPaused:"paused"===d.fetchStatus,isPlaceholderData:h,isRefetchError:w&&S,isStale:fr(e,t),refetch:this.refetch,promise:Dt(Un,this),isEnabled:!1!==Wt(t.enabled,e)};if(this.options.experimental_prefetchInRender){const t=e=>{"error"===k.status?e.reject(k.error):void 0!==k.data&&e.resolve(k.data)},r=()=>{const e=Pt(Un,this,k.promise=bn());t(e)},o=Dt(Un,this);switch(o.status){case"pending":e.queryHash===n.queryHash&&t(o);break;case"fulfilled":"error"!==k.status&&k.data===o.value||r();break;case"rejected":"error"===k.status&&k.error===o.reason||r()}}return k}updateResult(){const e=Dt(Mn,this),t=this.createResult(Dt(Rn,this),this.options);if(Pt(Fn,this,Dt(Rn,this).state),Pt(Ln,this,this.options),void 0!==Dt(Fn,this).data&&Pt(Vn,this,Dt(Rn,this)),Jt(t,e))return;Pt(Mn,this,t);Nt(Qn,this,cr).call(this,{listeners:(()=>{if(!e)return!0;const{notifyOnChangeProps:t}=this.options,n="function"===typeof t?t():t;if("all"===n||!n&&!Dt(Gn,this).size)return!0;const r=new Set(null!==n&&void 0!==n?n:Dt(Gn,this));return this.options.throwOnError&&r.add("error"),Object.keys(Dt(Mn,this)).some(t=>{const n=t;return Dt(Mn,this)[n]!==e[n]&&r.has(n)})})()})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&Nt(Qn,this,ar).call(this)}});function tr(e){Nt(Qn,this,lr).call(this);let t=Dt(Rn,this).fetch(this.options,e);return null!==e&&void 0!==e&&e.throwOnError||(t=t.catch(zt)),t}function nr(){Nt(Qn,this,ir).call(this);const e=Vt(this.options.staleTime,Dt(Rn,this));if(Ut||Dt(Mn,this).isStale||!Bt(e))return;const t=qt(Dt(Mn,this).dataUpdatedAt,e)+1;Pt(Wn,this,Lt.setTimeout(()=>{Dt(Mn,this).isStale||this.updateResult()},t))}function rr(){var e;return null!==(e="function"===typeof this.options.refetchInterval?this.options.refetchInterval(Dt(Rn,this)):this.options.refetchInterval)&&void 0!==e&&e}function or(e){Nt(Qn,this,sr).call(this),Pt(Kn,this,e),!Ut&&!1!==Wt(this.options.enabled,Dt(Rn,this))&&Bt(Dt(Kn,this))&&0!==Dt(Kn,this)&&Pt(Hn,this,Lt.setInterval(()=>{(this.options.refetchIntervalInBackground||hn.isFocused())&&Nt(Qn,this,tr).call(this)},Dt(Kn,this)))}function ar(){Nt(Qn,this,nr).call(this),Nt(Qn,this,or).call(this,Nt(Qn,this,rr).call(this))}function ir(){Dt(Wn,this)&&(Lt.clearTimeout(Dt(Wn,this)),Pt(Wn,this,void 0))}function sr(){Dt(Hn,this)&&(Lt.clearInterval(Dt(Hn,this)),Pt(Hn,this,void 0))}function lr(){const e=Dt(On,this).getQueryCache().build(Dt(On,this),this.options);if(e===Dt(Rn,this))return;const t=Dt(Rn,this);Pt(Rn,this,e),Pt(In,this,e.state),this.hasListeners()&&(null===t||void 0===t||t.removeObserver(this),e.addObserver(this))}function cr(e){vn.batch(()=>{e.listeners&&this.listeners.forEach(e=>{e(Dt(Mn,this))}),Dt(On,this).getQueryCache().notify({query:Dt(Rn,this),type:"observerResultsUpdated"})})}function ur(e,t){return function(e,t){return!1!==Wt(t.enabled,e)&&void 0===e.state.data&&!("error"===e.state.status&&!1===t.retryOnMount)}(e,t)||void 0!==e.state.data&&dr(e,t,t.refetchOnMount)}function dr(e,t,n){if(!1!==Wt(t.enabled,e)&&"static"!==Vt(t.staleTime,e)){const r="function"===typeof n?n(e):n;return"always"===r||!1!==r&&fr(e,t)}return!1}function hr(e,t,n,r){return(e!==t||!1===Wt(r.enabled,e))&&(!n.suspense||"error"!==e.state.status)&&fr(e,n)}function fr(e,t){return!1!==Wt(t.enabled,e)&&e.isStaleByTime(Vt(t.staleTime,e))}function pr(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}var mr,gr,vr,yr,br,wr=r.createContext(pr()),xr=r.createContext(!1),Sr=(xr.Provider,(e,t,n)=>t.fetchOptimistic(e).catch(()=>{n.clearReset()}));function kr(e,t,n){var o,a,i,s;const l=r.useContext(xr),c=r.useContext(wr),u=Et(n),d=u.defaultQueryOptions(e);null===(o=u.getDefaultOptions().queries)||void 0===o||null===(a=o._experimental_beforeQuery)||void 0===a||a.call(o,d),d._optimisticResults=l?"isRestoring":"optimistic",(e=>{if(e.suspense){const t=1e3,n=e=>"static"===e?e:Math.max(null!==e&&void 0!==e?e:t,t),r=e.staleTime;e.staleTime="function"===typeof r?function(){return n(r(...arguments))}:n(r),"number"===typeof e.gcTime&&(e.gcTime=Math.max(e.gcTime,t))}})(d),((e,t)=>{(e.suspense||e.throwOnError||e.experimental_prefetchInRender)&&(t.isReset()||(e.retryOnMount=!1))})(d,c),(e=>{r.useEffect(()=>{e.clearReset()},[e])})(c);const h=!u.getQueryCache().get(d.queryHash),[f]=r.useState(()=>new t(u,d)),p=f.getOptimisticResult(d),m=!l&&!1!==e.subscribed;if(r.useSyncExternalStore(r.useCallback(e=>{const t=m?f.subscribe(vn.batchCalls(e)):zt;return f.updateResult(),t},[f,m]),()=>f.getCurrentResult(),()=>f.getCurrentResult()),r.useEffect(()=>{f.setOptions(d)},[d,f]),((e,t)=>(null===e||void 0===e?void 0:e.suspense)&&t.isPending)(d,p))throw Sr(d,f,c);if((e=>{let{result:t,errorResetBoundary:n,throwOnError:r,query:o,suspense:a}=e;return t.isError&&!n.isReset()&&!t.isFetching&&o&&(a&&void 0===t.data||dn(r,[t.error,o]))})({result:p,errorResetBoundary:c,throwOnError:d.throwOnError,query:u.getQueryCache().get(d.queryHash),suspense:d.suspense}))throw p.error;if(null===(i=u.getDefaultOptions().queries)||void 0===i||null===(s=i._experimental_afterQuery)||void 0===s||s.call(i,d,p),d.experimental_prefetchInRender&&!Ut&&((e,t)=>e.isLoading&&e.isFetching&&!t)(p,l)){var g;const e=h?Sr(d,f,c):null===(g=u.getQueryCache().get(d.queryHash))||void 0===g?void 0:g.promise;null===e||void 0===e||e.catch(zt).finally(()=>{f.updateResult()})}return d.notifyOnChangeProps?p:f.trackResult(p)}function _r(e,t){return kr(e,er,t)}var Er,Cr,Ar,jr,Tr,Nr=(mr=new WeakMap,gr=new WeakMap,vr=new WeakMap,yr=new WeakMap,br=new WeakSet,class extends Yn{constructor(e){super(),jt(this,br),Tt(this,mr,void 0),Tt(this,gr,void 0),Tt(this,vr,void 0),Tt(this,yr,void 0),Pt(mr,this,e.client),this.mutationId=e.mutationId,Pt(vr,this,e.mutationCache),Pt(gr,this,[]),this.state=e.state||{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0},this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){Dt(gr,this).includes(e)||(Dt(gr,this).push(e),this.clearGcTimeout(),Dt(vr,this).notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){Pt(gr,this,Dt(gr,this).filter(t=>t!==e)),this.scheduleGc(),Dt(vr,this).notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){Dt(gr,this).length||("pending"===this.state.status?this.scheduleGc():Dt(vr,this).remove(this))}continue(){var e,t;return null!==(e=null===(t=Dt(yr,this))||void 0===t?void 0:t.continue())&&void 0!==e?e:this.execute(this.state.variables)}async execute(e){var t;const n=()=>{Nt(br,this,Dr).call(this,{type:"continue"})},r={client:Dt(mr,this),meta:this.options.meta,mutationKey:this.options.mutationKey};Pt(yr,this,_n({fn:()=>this.options.mutationFn?this.options.mutationFn(e,r):Promise.reject(new Error("No mutationFn found")),onFail:(e,t)=>{Nt(br,this,Dr).call(this,{type:"failed",failureCount:e,error:t})},onPause:()=>{Nt(br,this,Dr).call(this,{type:"pause"})},onContinue:n,retry:null!==(t=this.options.retry)&&void 0!==t?t:0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>Dt(vr,this).canRun(this)}));const o="pending"===this.state.status,a=!Dt(yr,this).canStart();try{var i,s,l,c,u,d,h,f;if(o)n();else{var p,m,g,v;Nt(br,this,Dr).call(this,{type:"pending",variables:e,isPaused:a}),await(null===(p=(m=Dt(vr,this).config).onMutate)||void 0===p?void 0:p.call(m,e,this,r));const t=await(null===(g=(v=this.options).onMutate)||void 0===g?void 0:g.call(v,e,r));t!==this.state.context&&Nt(br,this,Dr).call(this,{type:"pending",context:t,variables:e,isPaused:a})}const t=await Dt(yr,this).start();return await(null===(i=(s=Dt(vr,this).config).onSuccess)||void 0===i?void 0:i.call(s,t,e,this.state.context,this,r)),await(null===(l=(c=this.options).onSuccess)||void 0===l?void 0:l.call(c,t,e,this.state.context,r)),await(null===(u=(d=Dt(vr,this).config).onSettled)||void 0===u?void 0:u.call(d,t,null,this.state.variables,this.state.context,this,r)),await(null===(h=(f=this.options).onSettled)||void 0===h?void 0:h.call(f,t,null,e,this.state.context,r)),Nt(br,this,Dr).call(this,{type:"success",data:t}),t}catch(C){try{var y,b,w,x,S,k,_,E;throw await(null===(y=(b=Dt(vr,this).config).onError)||void 0===y?void 0:y.call(b,C,e,this.state.context,this,r)),await(null===(w=(x=this.options).onError)||void 0===w?void 0:w.call(x,C,e,this.state.context,r)),await(null===(S=(k=Dt(vr,this).config).onSettled)||void 0===S?void 0:S.call(k,void 0,C,this.state.variables,this.state.context,this,r)),await(null===(_=(E=this.options).onSettled)||void 0===_?void 0:_.call(E,void 0,C,e,this.state.context,r)),C}finally{Nt(br,this,Dr).call(this,{type:"error",error:C})}}finally{Dt(vr,this).runNext(this)}}});function Dr(e){this.state=(t=>{switch(e.type){case"failed":return(0,s.A)((0,s.A)({},t),{},{failureCount:e.failureCount,failureReason:e.error});case"pause":return(0,s.A)((0,s.A)({},t),{},{isPaused:!0});case"continue":return(0,s.A)((0,s.A)({},t),{},{isPaused:!1});case"pending":return(0,s.A)((0,s.A)({},t),{},{context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()});case"success":return(0,s.A)((0,s.A)({},t),{},{data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1});case"error":return(0,s.A)((0,s.A)({},t),{},{data:void 0,error:e.error,failureCount:t.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"})}})(this.state),vn.batch(()=>{Dt(gr,this).forEach(t=>{t.onMutationUpdate(e)}),Dt(vr,this).notify({mutation:this,type:"updated",action:e})})}var Pr=(Er=new WeakMap,Cr=new WeakMap,Ar=new WeakMap,jr=new WeakMap,Tr=new WeakSet,class extends It{constructor(e,t){super(),jt(this,Tr),Tt(this,Er,void 0),Tt(this,Cr,void 0),Tt(this,Ar,void 0),Tt(this,jr,void 0),Pt(Er,this,e),this.setOptions(t),this.bindMethods(),Nt(Tr,this,Or).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(e){var t;const n=this.options;this.options=Dt(Er,this).defaultMutationOptions(e),Jt(this.options,n)||Dt(Er,this).getMutationCache().notify({type:"observerOptionsUpdated",mutation:Dt(Ar,this),observer:this}),null!==n&&void 0!==n&&n.mutationKey&&this.options.mutationKey&&Qt(n.mutationKey)!==Qt(this.options.mutationKey)?this.reset():"pending"===(null===(t=Dt(Ar,this))||void 0===t?void 0:t.state.status)&&Dt(Ar,this).setOptions(this.options)}onUnsubscribe(){var e;this.hasListeners()||(null===(e=Dt(Ar,this))||void 0===e||e.removeObserver(this))}onMutationUpdate(e){Nt(Tr,this,Or).call(this),Nt(Tr,this,Rr).call(this,e)}getCurrentResult(){return Dt(Cr,this)}reset(){var e;null===(e=Dt(Ar,this))||void 0===e||e.removeObserver(this),Pt(Ar,this,void 0),Nt(Tr,this,Or).call(this),Nt(Tr,this,Rr).call(this)}mutate(e,t){var n;return Pt(jr,this,t),null===(n=Dt(Ar,this))||void 0===n||n.removeObserver(this),Pt(Ar,this,Dt(Er,this).getMutationCache().build(Dt(Er,this),this.options)),Dt(Ar,this).addObserver(this),Dt(Ar,this).execute(e)}});function Or(){var e,t;const n=null!==(e=null===(t=Dt(Ar,this))||void 0===t?void 0:t.state)&&void 0!==e?e:{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0};Pt(Cr,this,(0,s.A)((0,s.A)({},n),{},{isPending:"pending"===n.status,isSuccess:"success"===n.status,isError:"error"===n.status,isIdle:"idle"===n.status,mutate:this.mutate,reset:this.reset}))}function Rr(e){vn.batch(()=>{if(Dt(jr,this)&&this.hasListeners()){const c=Dt(Cr,this).variables,u=Dt(Cr,this).context,d={client:Dt(Er,this),meta:this.options.meta,mutationKey:this.options.mutationKey};var t,n,r,o;if("success"===(null===e||void 0===e?void 0:e.type))null===(t=(n=Dt(jr,this)).onSuccess)||void 0===t||t.call(n,e.data,c,u,d),null===(r=(o=Dt(jr,this)).onSettled)||void 0===r||r.call(o,e.data,null,c,u,d);else if("error"===(null===e||void 0===e?void 0:e.type)){var a,i,s,l;null===(a=(i=Dt(jr,this)).onError)||void 0===a||a.call(i,e.error,c,u,d),null===(s=(l=Dt(jr,this)).onSettled)||void 0===s||s.call(l,void 0,e.error,c,u,d)}}this.listeners.forEach(e=>{e(Dt(Cr,this))})})}function Ir(e,t){const n=Et(t),[o]=r.useState(()=>new Pr(n,e));r.useEffect(()=>{o.setOptions(e)},[o,e]);const a=r.useSyncExternalStore(r.useCallback(e=>o.subscribe(vn.batchCalls(e)),[o]),()=>o.getCurrentResult(),()=>o.getCurrentResult()),i=r.useCallback((e,t)=>{o.mutate(e,t).catch(zt)},[o]);if(a.error&&dn(o.options.throwOnError,[a.error]))throw a.error;return(0,s.A)((0,s.A)({},a),{},{mutate:i,mutateAsync:a.mutate})}const Mr=new class{constructor(){this.isOnline=navigator.onLine,this.isSupabaseConnected=!1,this.listeners=new Set,this.lastConnectivityCheck=0,this.connectivityCheckInterval=3e4,this.initConnectivityMonitoring(),this.checkSupabaseConnection()}initConnectivityMonitoring(){window.addEventListener("online",()=>{console.log("\ud83d\udfe2 Rede online detectada"),this.isOnline=!0,this.checkSupabaseConnection(),this.notifyListeners()}),window.addEventListener("offline",()=>{console.log("\ud83d\udd34 Rede offline detectada"),this.isOnline=!1,this.isSupabaseConnected=!1,this.notifyListeners()}),setInterval(()=>{this.isOnline&&this.checkSupabaseConnection()},this.connectivityCheckInterval)}async checkSupabaseConnection(){if(!this.isOnline)return this.isSupabaseConnected=!1,!1;try{const e=Date.now();if(e-this.lastConnectivityCheck<5e3)return this.isSupabaseConnected;this.lastConnectivityCheck=e;const{error:t}=await xt.ND.from("users").select("id").limit(1),n=this.isSupabaseConnected;return this.isSupabaseConnected=!t,n!==this.isSupabaseConnected&&(console.log("\ud83d\udd04 Conex\xe3o Supabase: ".concat(this.isSupabaseConnected?"CONECTADO":"DESCONECTADO")),this.notifyListeners()),this.isSupabaseConnected}catch(e){return console.warn("\u26a0\ufe0f Erro ao verificar conex\xe3o Supabase:",e),this.isSupabaseConnected=!1,this.notifyListeners(),!1}}async isFullyOnline(){return!!this.isOnline&&await this.checkSupabaseConnection()}canSearchScryfall(){return this.isOnline}canSaveData(){return this.isOnline&&this.isSupabaseConnected}isOfflineMode(){return!this.isOnline||!this.isSupabaseConnected}addConnectivityListener(e){return this.listeners.add(e),()=>{this.listeners.delete(e)}}notifyListeners(){const e={isOnline:this.isOnline,isSupabaseConnected:this.isSupabaseConnected,canSearchScryfall:this.canSearchScryfall(),canSaveData:this.canSaveData(),isOfflineMode:this.isOfflineMode()};this.listeners.forEach(t=>{try{t(e)}catch(n){console.error("Erro em listener de conectividade:",n)}})}getConnectivityStatus(){return{isOnline:this.isOnline,isSupabaseConnected:this.isSupabaseConnected,canSearchScryfall:this.canSearchScryfall(),canSaveData:this.canSaveData(),isOfflineMode:this.isOfflineMode(),lastCheck:this.lastConnectivityCheck}}};function Fr(){const[e,t]=r.useState(Mr.getConnectivityStatus());return r.useEffect(()=>{const e=Mr.addConnectivityListener(t);return Mr.checkSupabaseConnection().then(()=>{t(Mr.getConnectivityStatus())}),e},[]),e}var Lr=n(922);const Ur=new class{constructor(){this.CACHE_KEYS={DECKS:"offline_decks_cache",DECK_CARDS:"offline_deck_cards_cache",USER_PROFILE:"offline_user_profile_cache",IMAGES:"offline_images_cache",LAST_SYNC:"offline_last_sync"}}async cacheDecks(e,t){try{const n={userId:e,decks:t,timestamp:Date.now()};await Lr.indexedDBStorage.setItem(this.CACHE_KEYS.DECKS,n),console.log("\ud83d\udcbe ".concat(t.length," decks salvos no cache offline"))}catch(n){console.error("\u274c Erro ao cachear decks:",n)}}async getCachedDecks(e){try{const t=await Lr.indexedDBStorage.getItem(this.CACHE_KEYS.DECKS);return t&&t.userId===e?(console.log("\ud83d\udcc2 ".concat(t.decks.length," decks carregados do cache offline")),t.decks||[]):[]}catch(t){return console.error("\u274c Erro ao buscar decks do cache:",t),[]}}async cacheDeckCards(e,t){try{const n=await Lr.indexedDBStorage.getItem(this.CACHE_KEYS.DECK_CARDS)||{};n[e]={cards:t,timestamp:Date.now()},await Lr.indexedDBStorage.setItem(this.CACHE_KEYS.DECK_CARDS,n),console.log("\ud83d\udcbe ".concat(t.length," cartas do deck ").concat(e," salvas no cache"))}catch(n){console.error("\u274c Erro ao cachear cartas:",n)}}async getCachedDeckCards(e){try{const t=(await Lr.indexedDBStorage.getItem(this.CACHE_KEYS.DECK_CARDS)||{})[e];if(!t)return[];const n=(t.cards||[]).map(e=>(0,s.A)((0,s.A)({},e),{},{is_transparent:!0===e.is_transparent||"true"===e.is_transparent}));return console.log("\ud83d\udcc2 ".concat(n.length," cartas do deck ").concat(e," carregadas do cache")),n}catch(t){return console.error("\u274c Erro ao buscar cartas do cache:",t),[]}}async cacheUserProfile(e){try{const t={profile:e,timestamp:Date.now()};await Lr.indexedDBStorage.setItem(this.CACHE_KEYS.USER_PROFILE,t),console.log("\ud83d\udcbe Perfil do usu\xe1rio salvo no cache offline")}catch(t){console.error("\u274c Erro ao cachear perfil:",t)}}async getCachedUserProfile(){try{const e=await Lr.indexedDBStorage.getItem(this.CACHE_KEYS.USER_PROFILE);return e?(console.log("\ud83d\udcc2 Perfil carregado do cache offline"),e.profile):null}catch(e){return console.error("\u274c Erro ao buscar perfil do cache:",e),null}}async cacheImage(e,t){try{const n=await Lr.indexedDBStorage.getItem(this.CACHE_KEYS.IMAGES)||{};n[e]={blob:t,timestamp:Date.now()},await Lr.indexedDBStorage.setItem(this.CACHE_KEYS.IMAGES,n)}catch(n){console.error("\u274c Erro ao cachear imagem:",n)}}async getCachedImage(e){try{const t=await Lr.indexedDBStorage.getItem(this.CACHE_KEYS.IMAGES)||{},n=t[e];if(!n)return null;const r=Date.now()-2592e6;return n.timestamp<r?(delete t[e],await Lr.indexedDBStorage.setItem(this.CACHE_KEYS.IMAGES,t),null):n.blob}catch(t){return console.error("\u274c Erro ao buscar imagem do cache:",t),null}}async setLastSyncTime(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Date.now();try{await Lr.indexedDBStorage.setItem(this.CACHE_KEYS.LAST_SYNC,e)}catch(t){console.error("\u274c Erro ao salvar timestamp de sync:",t)}}async getLastSyncTime(){try{return await Lr.indexedDBStorage.getItem(this.CACHE_KEYS.LAST_SYNC)||0}catch(e){return console.error("\u274c Erro ao buscar timestamp de sync:",e),0}}async cleanOldCache(){try{const e=Date.now()-6048e5,t=await Lr.indexedDBStorage.getItem(this.CACHE_KEYS.IMAGES)||{};let n=0;for(const[r,o]of Object.entries(t))o.timestamp<e&&(delete t[r],n++);n>0&&(await Lr.indexedDBStorage.setItem(this.CACHE_KEYS.IMAGES,t),console.log("\ud83e\uddf9 ".concat(n," imagens antigas removidas do cache")))}catch(e){console.error("\u274c Erro ao limpar cache:",e)}}async clearAllCache(){try{for(const e of Object.values(this.CACHE_KEYS))await Lr.indexedDBStorage.removeItem(e);console.log("\ud83e\uddf9 Todo o cache offline foi limpo")}catch(e){console.error("\u274c Erro ao limpar cache:",e)}}async getCacheStats(){try{const e={decks:0,deckCards:0,images:0,lastSync:await this.getLastSyncTime(),hasProfile:!1},t=await Lr.indexedDBStorage.getItem(this.CACHE_KEYS.DECKS);null!==t&&void 0!==t&&t.decks&&(e.decks=t.decks.length);const n=await Lr.indexedDBStorage.getItem(this.CACHE_KEYS.DECK_CARDS)||{};e.deckCards=Object.keys(n).length;const r=await Lr.indexedDBStorage.getItem(this.CACHE_KEYS.IMAGES)||{};e.images=Object.keys(r).length;const o=await Lr.indexedDBStorage.getItem(this.CACHE_KEYS.USER_PROFILE);return e.hasProfile=!!o,e}catch(e){return console.error("\u274c Erro ao obter estat\xedsticas do cache:",e),null}}};var zr=n(54);function Br(){const[e,t]=St(),n=Fr(),r=Et(),{data:o=[],isLoading:a,error:i,refetch:l}=_r({queryKey:["decks"],queryFn:async()=>{const{data:{user:e},error:t}=await xt.ND.auth.getUser();if(t||!e)return console.log("\ud83d\udc64 Usu\xe1rio n\xe3o autenticado, retornando array vazio"),[];if(console.log("\ud83d\udc64 Usu\xe1rio autenticado para buscar decks:",e.email,"ID:",e.id),n.canSaveData)try{const t=await zr.deckOperations.getUserDecks(e.id);return await Ur.cacheDecks(e.id,t),await Ur.setLastSyncTime(),console.log("\u2705 Decks encontrados online:",t.length),console.log("\ud83d\udccb Lista de decks:",t.map(e=>({id:e.id,name:e.name,owner_id:e.owner_id}))),t}catch(r){console.error("\u26a0\ufe0f Erro detalhado ao buscar decks online:",{message:r.message,code:r.code,details:r.details,hint:r.hint,fullError:r});const t=await Ur.getCachedDecks(e.id);return console.log("\ud83d\udce6 Usando cache offline:",t.length,"decks"),t}return console.log("\ud83d\udcf1 Modo offline - buscando decks do cache"),await Ur.getCachedDecks(e.id)},enabled:!0,staleTime:3e5,cacheTime:6e5}),c=Ir({mutationFn:async e=>{if(!n.canSaveData)throw new Error("N\xe3o \xe9 poss\xedvel criar decks offline. Conecte-se \xe0 internet.");const{data:{user:t},error:r}=await xt.ND.auth.getUser();if(r||!t)throw new Error("Usu\xe1rio n\xe3o autenticado. Fa\xe7a login novamente.");console.log("\ud83c\udd95 Criando deck online para usu\xe1rio:",t.email);const{data:o,error:a}=await xt.ND.from("decks").insert((0,s.A)((0,s.A)({},e),{},{owner_id:t.id,created_at:(new Date).toISOString(),updated_at:(new Date).toISOString()})).select().single();if(a)throw a;return o},onSuccess:t=>{console.log("\u2705 Deck criado com sucesso:",t.id),r.setQueryData(["decks"],function(){return[t,...arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]]}),r.invalidateQueries({queryKey:["decks"]}),null!==e&&void 0!==e&&e.id&&Ur.cacheDecks(e.id,[t,...o])}}),u=Ir({mutationFn:async e=>{let{deckId:t,updates:r}=e;if(!n.canSaveData)throw new Error("N\xe3o \xe9 poss\xedvel editar decks offline. Conecte-se \xe0 internet.");return console.log("\u270f\ufe0f Atualizando deck online"),await zr.deckOperations.updateDeck(t,r)},onSuccess:(t,n)=>{let{deckId:a}=n;if(r.setQueryData(["decks"],function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).map(e=>e.id===a?(0,s.A)((0,s.A)({},e),t):e)}),r.invalidateQueries({queryKey:["decks"]}),null!==e&&void 0!==e&&e.id){const n=o.map(e=>e.id===a?(0,s.A)((0,s.A)({},e),t):e);Ur.cacheDecks(e.id,n)}}}),d=Ir({mutationFn:async e=>{if(!n.canSaveData)throw new Error("N\xe3o \xe9 poss\xedvel deletar decks offline. Conecte-se \xe0 internet.");return console.log("\ud83d\uddd1\ufe0f Deletando deck online"),await zr.deckOperations.deleteDeck(e)},onSuccess:(t,n)=>{if(r.setQueryData(["decks"],function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).filter(e=>e.id!==n)}),r.invalidateQueries({queryKey:["decks"]}),null!==e&&void 0!==e&&e.id){const t=o.filter(e=>e.id!==n);Ur.cacheDecks(e.id,t)}}});return{decks:o,isLoading:a,error:i,isOnline:n.canSaveData,isOfflineMode:n.isOfflineMode,canEdit:n.canSaveData,createDeck:c.mutateAsync,updateDeck:u.mutateAsync,deleteDeck:d.mutateAsync,isCreating:c.isPending,isUpdating:u.isPending,isDeleting:d.isPending,createError:c.error,updateError:u.error,deleteError:d.error,refetch:l,syncDecks:async()=>{n.canSaveData&&null!==e&&void 0!==e&&e.id&&(console.log("\ud83d\udd04 Sincronizando decks..."),await l())}}}function qr(e){const t=Fr(),n=Et(),{data:r=[],isLoading:o,error:a,refetch:i}=_r({queryKey:["cards",e],queryFn:async()=>{if(!e)return[];console.log("\ud83c\udf10 Buscando cartas do deck ".concat(e," diretamente do Supabase (sem cache offline)"));return await zr.CI.getDeckCards(e)},enabled:!!e,staleTime:12e4,cacheTime:3e5}),l=Ir({mutationFn:async n=>{if(!t.canSaveData)throw new Error("N\xe3o \xe9 poss\xedvel adicionar cartas offline. Conecte-se \xe0 internet.");return console.log("\u2795 Adicionando carta online"),await zr.CI.addCardToDeck(e,n)},onSuccess:t=>{n.setQueryData(["cards",e],function(){return[t,...arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]]}),Ur.cacheDeckCards(e,[t,...r])}}),c=Ir({mutationFn:async e=>{let{cardId:n,updates:r}=e;if(!t.canSaveData)throw new Error("N\xe3o \xe9 poss\xedvel editar cartas offline. Conecte-se \xe0 internet.");return console.log("\u270f\ufe0f Atualizando carta online:",{cardId:n,updates:r}),await zr.CI.updateDeckCard(n,r)},onMutate:async t=>{let{cardId:r,updates:o}=t;await n.cancelQueries({queryKey:["cards",e]});return{previousCards:n.getQueryData(["cards",e]),cardId:r,updates:o}},onSuccess:(t,r)=>{let{cardId:o,updates:a}=r;if(n.invalidateQueries({queryKey:["cards",e]}),t){const r=(n.getQueryData(["cards",e])||[]).map(e=>e.id===o?(0,s.A)((0,s.A)({},e),t):e);Ur.cacheDeckCards(e,r),console.log("[DEBUG] Cache offline atualizado ap\xf3s sucesso:",t)}},onError:(t,r,o)=>{let{cardId:a}=r;null!==o&&void 0!==o&&o.previousCards&&n.setQueryData(["cards",e],o.previousCards),console.error("\u274c Erro ao atualizar carta:",t)}}),u=Ir({mutationFn:async e=>{if(!t.canSaveData)throw new Error("N\xe3o \xe9 poss\xedvel remover cartas offline. Conecte-se \xe0 internet.");return console.log("\ud83d\uddd1\ufe0f Removendo carta online"),await zr.CI.deleteDeckCard(e)},onSuccess:(t,o)=>{n.setQueryData(["cards",e],function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).filter(e=>e.id!==o)});const a=r.filter(e=>e.id!==o);Ur.cacheDeckCards(e,a)}});return{cards:r,isLoading:o,error:a,isOnline:t.canSaveData,isOfflineMode:t.isOfflineMode,canEdit:t.canSaveData,addCard:l.mutate,updateCard:c.mutate,deleteCard:u.mutate,isAdding:l.isPending,isUpdating:c.isPending,isDeleting:u.isPending,addError:l.error,updateError:c.error,deleteError:u.error,refetch:i}}function Vr(e){const[t,n]=(0,r.useState)(null),[o,a]=(0,r.useState)(!0),[i,s]=(0,r.useState)(null);return(0,r.useEffect)(()=>{!async function(){if(null===e||void 0===e||!e.id)return n(null),void a(!1);try{console.log("\ud83d\udd04 Buscando perfil do usu\xe1rio:",e.email),a(!0);const{data:t,error:r}=await xt.ND.from("users").select("*").eq("id",e.id).single();r?(console.error("\u274c Erro ao buscar perfil:",r),s(r)):(console.log("\u2705 Perfil encontrado:",t),n(t))}catch(t){console.error("\u274c Erro ao buscar perfil:",t),s(t)}finally{a(!1)}}()},[null===e||void 0===e?void 0:e.id]),{profile:t,loading:o,error:i}}const Wr=e=>{const t=(e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,n)=>n?n.toUpperCase():t.toLowerCase()))(e);return t.charAt(0).toUpperCase()+t.slice(1)},Hr=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.filter((e,t,n)=>Boolean(e)&&""!==e.trim()&&n.indexOf(e)===t).join(" ").trim()};var Kr={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const Gr=["color","size","strokeWidth","absoluteStrokeWidth","className","children","iconNode"],Qr=(0,r.forwardRef)((e,t)=>{let{color:n="currentColor",size:o=24,strokeWidth:a=2,absoluteStrokeWidth:l,className:c="",children:u,iconNode:d}=e,h=i(e,Gr);return(0,r.createElement)("svg",(0,s.A)((0,s.A)((0,s.A)({ref:t},Kr),{},{width:o,height:o,stroke:n,strokeWidth:l?24*Number(a)/Number(o):a,className:Hr("lucide",c)},!u&&!(e=>{for(const t in e)if(t.startsWith("aria-")||"role"===t||"title"===t)return!0})(h)&&{"aria-hidden":"true"}),h),[...d.map(e=>{let[t,n]=e;return(0,r.createElement)(t,n)}),...Array.isArray(u)?u:[u]])}),Yr=["className"],$r=(e,t)=>{const n=(0,r.forwardRef)((n,o)=>{let{className:a}=n,l=i(n,Yr);return(0,r.createElement)(Qr,(0,s.A)({ref:o,iconNode:t,className:Hr("lucide-".concat((c=Wr(e),c.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase())),"lucide-".concat(e),a)},l));var c});return n.displayName=Wr(e),n},Xr=$r("wifi-off",[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}],["path",{d:"M5 12.859a10 10 0 0 1 5.17-2.69",key:"1dl1wf"}],["path",{d:"M19 12.859a10 10 0 0 0-2.007-1.523",key:"4k23kn"}],["path",{d:"M2 8.82a15 15 0 0 1 4.177-2.643",key:"1grhjp"}],["path",{d:"M22 8.82a15 15 0 0 0-11.288-3.764",key:"z3jwby"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]),Jr=$r("circle-alert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]),Zr=$r("search",[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]]);function eo(e){var t,n,r="";if("string"==typeof e||"number"==typeof e)r+=e;else if("object"==typeof e)if(Array.isArray(e)){var o=e.length;for(t=0;t<o;t++)e[t]&&(n=eo(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}const to=function(){for(var e,t,n=0,r="",o=arguments.length;n<o;n++)(e=arguments[n])&&(t=eo(e))&&(r&&(r+=" "),r+=t);return r},no=["children","className"],ro=["children","className"],oo=e=>{let{children:t,className:n}=e,r=i(e,no);return(0,kt.jsx)("div",(0,s.A)((0,s.A)({className:to("flex items-center gap-2 p-3 border rounded-md",n)},r),{},{children:t}))},ao=e=>{let{children:t,className:n}=e,r=i(e,ro);return(0,kt.jsx)("p",(0,s.A)((0,s.A)({className:to("text-sm",n)},r),{},{children:t}))};"undefined"===typeof window||!window.document||window.document.createElement;function io(e,t){let{checkForDefaultPrevented:n=!0}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return function(r){if(null===e||void 0===e||e(r),!1===n||!r.defaultPrevented)return null===t||void 0===t?void 0:t(r)}}function so(e,t){if("function"===typeof e)return e(t);null!==e&&void 0!==e&&(e.current=t)}function lo(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return e=>{let n=!1;const r=t.map(t=>{const r=so(t,e);return n||"function"!=typeof r||(n=!0),r});if(n)return()=>{for(let e=0;e<r.length;e++){const n=r[e];"function"==typeof n?n():so(t[e],null)}}}}function co(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return r.useCallback(lo(...t),t)}const uo=["children"],ho=["scope","children"];function fo(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=[];const o=()=>{const t=n.map(e=>r.createContext(e));return function(n){const o=(null===n||void 0===n?void 0:n[e])||t;return r.useMemo(()=>({["__scope".concat(e)]:(0,s.A)((0,s.A)({},n),{},{[e]:o})}),[n,o])}};return o.scopeName=e,[function(t,o){const a=r.createContext(o),s=n.length;n=[...n,o];const l=t=>{var n;const{scope:o,children:l}=t,c=i(t,ho),u=(null===o||void 0===o||null===(n=o[e])||void 0===n?void 0:n[s])||a,d=r.useMemo(()=>c,Object.values(c));return(0,kt.jsx)(u.Provider,{value:d,children:l})};return l.displayName=t+"Provider",[l,function(n,i){var l;const c=(null===i||void 0===i||null===(l=i[e])||void 0===l?void 0:l[s])||a,u=r.useContext(c);if(u)return u;if(void 0!==o)return o;throw new Error("`".concat(n,"` must be used within `").concat(t,"`"))}]},po(o,...t)]}function po(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];const o=t[0];if(1===t.length)return o;const a=()=>{const e=t.map(e=>({useScope:e(),scopeName:e.scopeName}));return function(t){const n=e.reduce((e,n)=>{let{useScope:r,scopeName:o}=n;const a=r(t)["__scope".concat(o)];return(0,s.A)((0,s.A)({},e),a)},{});return r.useMemo(()=>({["__scope".concat(o.scopeName)]:n}),[n])}};return a.scopeName=o.scopeName,a}var mo=null!==globalThis&&void 0!==globalThis&&globalThis.document?r.useLayoutEffect:()=>{},go=o[" useInsertionEffect ".trim().toString()]||mo;function vo(e){let{prop:t,defaultProp:n,onChange:o=()=>{},caller:a}=e;const[i,s,l]=function(e){let{defaultProp:t,onChange:n}=e;const[o,a]=r.useState(t),i=r.useRef(o),s=r.useRef(n);return go(()=>{s.current=n},[n]),r.useEffect(()=>{var e;i.current!==o&&(null===(e=s.current)||void 0===e||e.call(s,o),i.current=o)},[o,i]),[o,a,s]}({defaultProp:n,onChange:o}),c=void 0!==t,u=c?t:i;{const e=r.useRef(void 0!==t);r.useEffect(()=>{const t=e.current;if(t!==c){const e=t?"controlled":"uncontrolled",n=c?"controlled":"uncontrolled";console.warn("".concat(a," is changing from ").concat(e," to ").concat(n,". Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component."))}e.current=c},[c,a])}const d=r.useCallback(e=>{if(c){const r=function(e){return"function"===typeof e}(e)?e(t):e;var n;if(r!==t)null===(n=l.current)||void 0===n||n.call(l,r)}else s(e)},[c,t,s,l]);return[u,d]}Symbol("RADIX:SYNC_STATE");var yo=n(950);const bo=["children"],wo=["children"];function xo(e){const t=So(e),n=r.forwardRef((e,n)=>{const{children:o}=e,a=i(e,bo),l=r.Children.toArray(o),c=l.find(_o);if(c){const e=c.props.children,o=l.map(t=>t===c?r.Children.count(e)>1?r.Children.only(null):r.isValidElement(e)?e.props.children:null:t);return(0,kt.jsx)(t,(0,s.A)((0,s.A)({},a),{},{ref:n,children:r.isValidElement(e)?r.cloneElement(e,void 0,o):null}))}return(0,kt.jsx)(t,(0,s.A)((0,s.A)({},a),{},{ref:n,children:o}))});return n.displayName="".concat(e,".Slot"),n}function So(e){const t=r.forwardRef((e,t)=>{const{children:n}=e,o=i(e,wo);if(r.isValidElement(n)){const e=function(e){var t,n;let r=null===(t=Object.getOwnPropertyDescriptor(e.props,"ref"))||void 0===t?void 0:t.get,o=r&&"isReactWarning"in r&&r.isReactWarning;if(o)return e.ref;if(r=null===(n=Object.getOwnPropertyDescriptor(e,"ref"))||void 0===n?void 0:n.get,o=r&&"isReactWarning"in r&&r.isReactWarning,o)return e.props.ref;return e.props.ref||e.ref}(n),a=function(e,t){const n=(0,s.A)({},t);for(const r in t){const o=e[r],a=t[r];/^on[A-Z]/.test(r)?o&&a?n[r]=function(){const e=a(...arguments);return o(...arguments),e}:o&&(n[r]=o):"style"===r?n[r]=(0,s.A)((0,s.A)({},o),a):"className"===r&&(n[r]=[o,a].filter(Boolean).join(" "))}return(0,s.A)((0,s.A)({},e),n)}(o,n.props);return n.type!==r.Fragment&&(a.ref=t?lo(t,e):e),r.cloneElement(n,a)}return r.Children.count(n)>1?r.Children.only(null):null});return t.displayName="".concat(e,".SlotClone"),t}var ko=Symbol("radix.slottable");function _o(e){return r.isValidElement(e)&&"function"===typeof e.type&&"__radixId"in e.type&&e.type.__radixId===ko}const Eo=["asChild"];var Co=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"].reduce((e,t)=>{const n=xo("Primitive.".concat(t)),o=r.forwardRef((e,r)=>{const{asChild:o}=e,a=i(e,Eo),l=o?n:t;return"undefined"!==typeof window&&(window[Symbol.for("radix-ui")]=!0),(0,kt.jsx)(l,(0,s.A)((0,s.A)({},a),{},{ref:r}))});return o.displayName="Primitive.".concat(t),(0,s.A)((0,s.A)({},e),{},{[t]:o})},{});function Ao(e,t){e&&yo.flushSync(()=>e.dispatchEvent(t))}var jo;const To=["scope","children"];function No(e){const t=e+"CollectionProvider",[n,o]=fo(t),[a,l]=n(t,{collectionRef:{current:null},itemMap:new Map}),c=e=>{const{scope:t,children:n}=e,o=r.useRef(null),i=r.useRef(new Map).current;return(0,kt.jsx)(a,{scope:t,itemMap:i,collectionRef:o,children:n})};c.displayName=t;const u=e+"CollectionSlot",d=xo(u),h=r.forwardRef((e,t)=>{const{scope:n,children:r}=e,o=co(t,l(u,n).collectionRef);return(0,kt.jsx)(d,{ref:o,children:r})});h.displayName=u;const f=e+"CollectionItemSlot",p="data-radix-collection-item",m=xo(f),g=r.forwardRef((e,t)=>{const{scope:n,children:o}=e,a=i(e,To),c=r.useRef(null),u=co(t,c),d=l(f,n);return r.useEffect(()=>(d.itemMap.set(c,(0,s.A)({ref:c},a)),()=>{d.itemMap.delete(c)})),(0,kt.jsx)(m,(0,s.A)((0,s.A)({},{[p]:""}),{},{ref:u,children:o}))});return g.displayName=f,[{Provider:c,Slot:h,ItemSlot:g},function(t){const n=l(e+"CollectionConsumer",t);return r.useCallback(()=>{const e=n.collectionRef.current;if(!e)return[];const t=Array.from(e.querySelectorAll("[".concat(p,"]")));return Array.from(n.itemMap.values()).sort((e,n)=>t.indexOf(e.ref.current)-t.indexOf(n.ref.current))},[n.collectionRef,n.itemMap])},o]}var Do=new WeakMap;jo=new WeakMap,Map;function Po(e,t){if("at"in Array.prototype)return Array.prototype.at.call(e,t);const n=function(e,t){const n=e.length,r=Oo(t),o=r>=0?r:n+r;return o<0||o>=n?-1:o}(e,t);return-1===n?void 0:e[n]}function Oo(e){return e!==e||0===e?0:Math.trunc(e)}var Ro=r.createContext(void 0);function Io(e){const t=r.useContext(Ro);return e||t||"ltr"}function Mo(e){const t=r.useRef(e);return r.useEffect(()=>{t.current=e}),r.useMemo(()=>function(){for(var e,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return null===(e=t.current)||void 0===e?void 0:e.call(t,...r)},[])}const Fo=["disableOutsidePointerEvents","onEscapeKeyDown","onPointerDownOutside","onFocusOutside","onInteractOutside","onDismiss"];var Lo,Uo="dismissableLayer.update",zo="dismissableLayer.pointerDownOutside",Bo="dismissableLayer.focusOutside",qo=r.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Vo=r.forwardRef((e,t)=>{var n;const{disableOutsidePointerEvents:o=!1,onEscapeKeyDown:a,onPointerDownOutside:l,onFocusOutside:c,onInteractOutside:u,onDismiss:d}=e,h=i(e,Fo),f=r.useContext(qo),[p,m]=r.useState(null),g=null!==(n=null===p||void 0===p?void 0:p.ownerDocument)&&void 0!==n?n:null===globalThis||void 0===globalThis?void 0:globalThis.document,[,v]=r.useState({}),y=co(t,e=>m(e)),b=Array.from(f.layers),[w]=[...f.layersWithOutsidePointerEventsDisabled].slice(-1),x=b.indexOf(w),S=p?b.indexOf(p):-1,k=f.layersWithOutsidePointerEventsDisabled.size>0,_=S>=x,E=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null===globalThis||void 0===globalThis?void 0:globalThis.document;const n=Mo(e),o=r.useRef(!1),a=r.useRef(()=>{});return r.useEffect(()=>{const e=e=>{if(e.target&&!o.current){let r=function(){Ko(zo,n,o,{discrete:!0})};const o={originalEvent:e};"touch"===e.pointerType?(t.removeEventListener("click",a.current),a.current=r,t.addEventListener("click",a.current,{once:!0})):r()}else t.removeEventListener("click",a.current);o.current=!1},r=window.setTimeout(()=>{t.addEventListener("pointerdown",e)},0);return()=>{window.clearTimeout(r),t.removeEventListener("pointerdown",e),t.removeEventListener("click",a.current)}},[t,n]),{onPointerDownCapture:()=>o.current=!0}}(e=>{const t=e.target,n=[...f.branches].some(e=>e.contains(t));_&&!n&&(null===l||void 0===l||l(e),null===u||void 0===u||u(e),e.defaultPrevented||null===d||void 0===d||d())},g),C=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null===globalThis||void 0===globalThis?void 0:globalThis.document;const n=Mo(e),o=r.useRef(!1);return r.useEffect(()=>{const e=e=>{if(e.target&&!o.current){Ko(Bo,n,{originalEvent:e},{discrete:!1})}};return t.addEventListener("focusin",e),()=>t.removeEventListener("focusin",e)},[t,n]),{onFocusCapture:()=>o.current=!0,onBlurCapture:()=>o.current=!1}}(e=>{const t=e.target;[...f.branches].some(e=>e.contains(t))||(null===c||void 0===c||c(e),null===u||void 0===u||u(e),e.defaultPrevented||null===d||void 0===d||d())},g);return function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null===globalThis||void 0===globalThis?void 0:globalThis.document;const n=Mo(e);r.useEffect(()=>{const e=e=>{"Escape"===e.key&&n(e)};return t.addEventListener("keydown",e,{capture:!0}),()=>t.removeEventListener("keydown",e,{capture:!0})},[n,t])}(e=>{S===f.layers.size-1&&(null===a||void 0===a||a(e),!e.defaultPrevented&&d&&(e.preventDefault(),d()))},g),r.useEffect(()=>{if(p)return o&&(0===f.layersWithOutsidePointerEventsDisabled.size&&(Lo=g.body.style.pointerEvents,g.body.style.pointerEvents="none"),f.layersWithOutsidePointerEventsDisabled.add(p)),f.layers.add(p),Ho(),()=>{o&&1===f.layersWithOutsidePointerEventsDisabled.size&&(g.body.style.pointerEvents=Lo)}},[p,g,o,f]),r.useEffect(()=>()=>{p&&(f.layers.delete(p),f.layersWithOutsidePointerEventsDisabled.delete(p),Ho())},[p,f]),r.useEffect(()=>{const e=()=>v({});return document.addEventListener(Uo,e),()=>document.removeEventListener(Uo,e)},[]),(0,kt.jsx)(Co.div,(0,s.A)((0,s.A)({},h),{},{ref:y,style:(0,s.A)({pointerEvents:k?_?"auto":"none":void 0},e.style),onFocusCapture:io(e.onFocusCapture,C.onFocusCapture),onBlurCapture:io(e.onBlurCapture,C.onBlurCapture),onPointerDownCapture:io(e.onPointerDownCapture,E.onPointerDownCapture)}))});Vo.displayName="DismissableLayer";var Wo=r.forwardRef((e,t)=>{const n=r.useContext(qo),o=r.useRef(null),a=co(t,o);return r.useEffect(()=>{const e=o.current;if(e)return n.branches.add(e),()=>{n.branches.delete(e)}},[n.branches]),(0,kt.jsx)(Co.div,(0,s.A)((0,s.A)({},e),{},{ref:a}))});function Ho(){const e=new CustomEvent(Uo);document.dispatchEvent(e)}function Ko(e,t,n,r){let{discrete:o}=r;const a=n.originalEvent.target,i=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:n});t&&a.addEventListener(e,t,{once:!0}),o?Ao(a,i):a.dispatchEvent(i)}Wo.displayName="DismissableLayerBranch";var Go=0;function Qo(){r.useEffect(()=>{var e,t;const n=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",null!==(e=n[0])&&void 0!==e?e:Yo()),document.body.insertAdjacentElement("beforeend",null!==(t=n[1])&&void 0!==t?t:Yo()),Go++,()=>{1===Go&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),Go--}},[])}function Yo(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}const $o=["loop","trapped","onMountAutoFocus","onUnmountAutoFocus"];var Xo="focusScope.autoFocusOnMount",Jo="focusScope.autoFocusOnUnmount",Zo={bubbles:!1,cancelable:!0},ea=r.forwardRef((e,t)=>{const{loop:n=!1,trapped:o=!1,onMountAutoFocus:a,onUnmountAutoFocus:l}=e,c=i(e,$o),[u,d]=r.useState(null),h=Mo(a),f=Mo(l),p=r.useRef(null),m=co(t,e=>d(e)),g=r.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;r.useEffect(()=>{if(o){let e=function(e){if(g.paused||!u)return;const t=e.target;u.contains(t)?p.current=t:oa(p.current,{select:!0})},t=function(e){if(g.paused||!u)return;const t=e.relatedTarget;null!==t&&(u.contains(t)||oa(p.current,{select:!0}))},n=function(e){if(document.activeElement===document.body)for(const t of e)t.removedNodes.length>0&&oa(u)};document.addEventListener("focusin",e),document.addEventListener("focusout",t);const r=new MutationObserver(n);return u&&r.observe(u,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",e),document.removeEventListener("focusout",t),r.disconnect()}}},[o,u,g.paused]),r.useEffect(()=>{if(u){aa.add(g);const t=document.activeElement;if(!u.contains(t)){const n=new CustomEvent(Xo,Zo);u.addEventListener(Xo,h),u.dispatchEvent(n),n.defaultPrevented||(!function(e){let{select:t=!1}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=document.activeElement;for(const r of e)if(oa(r,{select:t}),document.activeElement!==n)return}((e=ta(u),e.filter(e=>"A"!==e.tagName)),{select:!0}),document.activeElement===t&&oa(u))}return()=>{u.removeEventListener(Xo,h),setTimeout(()=>{const e=new CustomEvent(Jo,Zo);u.addEventListener(Jo,f),u.dispatchEvent(e),e.defaultPrevented||oa(null!==t&&void 0!==t?t:document.body,{select:!0}),u.removeEventListener(Jo,f),aa.remove(g)},0)}}var e},[u,h,f,g]);const v=r.useCallback(e=>{if(!n&&!o)return;if(g.paused)return;const t="Tab"===e.key&&!e.altKey&&!e.ctrlKey&&!e.metaKey,r=document.activeElement;if(t&&r){const t=e.currentTarget,[o,a]=function(e){const t=ta(e),n=na(t,e),r=na(t.reverse(),e);return[n,r]}(t);o&&a?e.shiftKey||r!==a?e.shiftKey&&r===o&&(e.preventDefault(),n&&oa(a,{select:!0})):(e.preventDefault(),n&&oa(o,{select:!0})):r===t&&e.preventDefault()}},[n,o,g.paused]);return(0,kt.jsx)(Co.div,(0,s.A)((0,s.A)({tabIndex:-1},c),{},{ref:m,onKeyDown:v}))});function ta(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:e=>{const t="INPUT"===e.tagName&&"hidden"===e.type;return e.disabled||e.hidden||t?NodeFilter.FILTER_SKIP:e.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function na(e,t){for(const n of e)if(!ra(n,{upTo:t}))return n}function ra(e,t){let{upTo:n}=t;if("hidden"===getComputedStyle(e).visibility)return!0;for(;e;){if(void 0!==n&&e===n)return!1;if("none"===getComputedStyle(e).display)return!0;e=e.parentElement}return!1}function oa(e){let{select:t=!1}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(e&&e.focus){const n=document.activeElement;e.focus({preventScroll:!0}),e!==n&&function(e){return e instanceof HTMLInputElement&&"select"in e}(e)&&t&&e.select()}}ea.displayName="FocusScope";var aa=function(){let e=[];return{add(t){const n=e[0];t!==n&&(null===n||void 0===n||n.pause()),e=ia(e,t),e.unshift(t)},remove(t){var n;e=ia(e,t),null===(n=e[0])||void 0===n||n.resume()}}}();function ia(e,t){const n=[...e],r=n.indexOf(t);return-1!==r&&n.splice(r,1),n}var sa=o[" useId ".trim().toString()]||(()=>{}),la=0;function ca(e){const[t,n]=r.useState(sa());return mo(()=>{e||n(e=>null!==e&&void 0!==e?e:String(la++))},[e]),e||(t?"radix-".concat(t):"")}const ua=["top","right","bottom","left"],da=Math.min,ha=Math.max,fa=Math.round,pa=Math.floor,ma=e=>({x:e,y:e}),ga={left:"right",right:"left",bottom:"top",top:"bottom"},va={start:"end",end:"start"};function ya(e,t,n){return ha(e,da(t,n))}function ba(e,t){return"function"===typeof e?e(t):e}function wa(e){return e.split("-")[0]}function xa(e){return e.split("-")[1]}function Sa(e){return"x"===e?"y":"x"}function ka(e){return"y"===e?"height":"width"}const _a=new Set(["top","bottom"]);function Ea(e){return _a.has(wa(e))?"y":"x"}function Ca(e){return Sa(Ea(e))}function Aa(e){return e.replace(/start|end/g,e=>va[e])}const ja=["left","right"],Ta=["right","left"],Na=["top","bottom"],Da=["bottom","top"];function Pa(e,t,n,r){const o=xa(e);let a=function(e,t,n){switch(e){case"top":case"bottom":return n?t?Ta:ja:t?ja:Ta;case"left":case"right":return t?Na:Da;default:return[]}}(wa(e),"start"===n,r);return o&&(a=a.map(e=>e+"-"+o),t&&(a=a.concat(a.map(Aa)))),a}function Oa(e){return e.replace(/left|right|bottom|top/g,e=>ga[e])}function Ra(e){return"number"!==typeof e?function(e){return(0,s.A)({top:0,right:0,bottom:0,left:0},e)}(e):{top:e,right:e,bottom:e,left:e}}function Ia(e){const{x:t,y:n,width:r,height:o}=e;return{width:r,height:o,top:n,left:t,right:t+r,bottom:n+o,x:t,y:n}}const Ma=["mainAxis","crossAxis","fallbackPlacements","fallbackStrategy","fallbackAxisSideDirection","flipAlignment"],Fa=["strategy"],La=["mainAxis","crossAxis","limiter"],Ua=["apply"];function za(e,t,n){let{reference:r,floating:o}=e;const a=Ea(t),i=Ca(t),s=ka(i),l=wa(t),c="y"===a,u=r.x+r.width/2-o.width/2,d=r.y+r.height/2-o.height/2,h=r[s]/2-o[s]/2;let f;switch(l){case"top":f={x:u,y:r.y-o.height};break;case"bottom":f={x:u,y:r.y+r.height};break;case"right":f={x:r.x+r.width,y:d};break;case"left":f={x:r.x-o.width,y:d};break;default:f={x:r.x,y:r.y}}switch(xa(t)){case"start":f[i]-=h*(n&&c?-1:1);break;case"end":f[i]+=h*(n&&c?-1:1)}return f}async function Ba(e,t){var n;void 0===t&&(t={});const{x:r,y:o,platform:a,rects:i,elements:s,strategy:l}=e,{boundary:c="clippingAncestors",rootBoundary:u="viewport",elementContext:d="floating",altBoundary:h=!1,padding:f=0}=ba(t,e),p=Ra(f),m=s[h?"floating"===d?"reference":"floating":d],g=Ia(await a.getClippingRect({element:null==(n=await(null==a.isElement?void 0:a.isElement(m)))||n?m:m.contextElement||await(null==a.getDocumentElement?void 0:a.getDocumentElement(s.floating)),boundary:c,rootBoundary:u,strategy:l})),v="floating"===d?{x:r,y:o,width:i.floating.width,height:i.floating.height}:i.reference,y=await(null==a.getOffsetParent?void 0:a.getOffsetParent(s.floating)),b=await(null==a.isElement?void 0:a.isElement(y))&&await(null==a.getScale?void 0:a.getScale(y))||{x:1,y:1},w=Ia(a.convertOffsetParentRelativeRectToViewportRelativeRect?await a.convertOffsetParentRelativeRectToViewportRelativeRect({elements:s,rect:v,offsetParent:y,strategy:l}):v);return{top:(g.top-w.top+p.top)/b.y,bottom:(w.bottom-g.bottom+p.bottom)/b.y,left:(g.left-w.left+p.left)/b.x,right:(w.right-g.right+p.right)/b.x}}function qa(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function Va(e){return ua.some(t=>e[t]>=0)}const Wa=new Set(["left","top"]);function Ha(){return"undefined"!==typeof window}function Ka(e){return Ya(e)?(e.nodeName||"").toLowerCase():"#document"}function Ga(e){var t;return(null==e||null==(t=e.ownerDocument)?void 0:t.defaultView)||window}function Qa(e){var t;return null==(t=(Ya(e)?e.ownerDocument:e.document)||window.document)?void 0:t.documentElement}function Ya(e){return!!Ha()&&(e instanceof Node||e instanceof Ga(e).Node)}function $a(e){return!!Ha()&&(e instanceof Element||e instanceof Ga(e).Element)}function Xa(e){return!!Ha()&&(e instanceof HTMLElement||e instanceof Ga(e).HTMLElement)}function Ja(e){return!(!Ha()||"undefined"===typeof ShadowRoot)&&(e instanceof ShadowRoot||e instanceof Ga(e).ShadowRoot)}const Za=new Set(["inline","contents"]);function ei(e){const{overflow:t,overflowX:n,overflowY:r,display:o}=hi(e);return/auto|scroll|overlay|hidden|clip/.test(t+r+n)&&!Za.has(o)}const ti=new Set(["table","td","th"]);function ni(e){return ti.has(Ka(e))}const ri=[":popover-open",":modal"];function oi(e){return ri.some(t=>{try{return e.matches(t)}catch(n){return!1}})}const ai=["transform","translate","scale","rotate","perspective"],ii=["transform","translate","scale","rotate","perspective","filter"],si=["paint","layout","strict","content"];function li(e){const t=ci(),n=$a(e)?hi(e):e;return ai.some(e=>!!n[e]&&"none"!==n[e])||!!n.containerType&&"normal"!==n.containerType||!t&&!!n.backdropFilter&&"none"!==n.backdropFilter||!t&&!!n.filter&&"none"!==n.filter||ii.some(e=>(n.willChange||"").includes(e))||si.some(e=>(n.contain||"").includes(e))}function ci(){return!("undefined"===typeof CSS||!CSS.supports)&&CSS.supports("-webkit-backdrop-filter","none")}const ui=new Set(["html","body","#document"]);function di(e){return ui.has(Ka(e))}function hi(e){return Ga(e).getComputedStyle(e)}function fi(e){return $a(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function pi(e){if("html"===Ka(e))return e;const t=e.assignedSlot||e.parentNode||Ja(e)&&e.host||Qa(e);return Ja(t)?t.host:t}function mi(e){const t=pi(e);return di(t)?e.ownerDocument?e.ownerDocument.body:e.body:Xa(t)&&ei(t)?t:mi(t)}function gi(e,t,n){var r;void 0===t&&(t=[]),void 0===n&&(n=!0);const o=mi(e),a=o===(null==(r=e.ownerDocument)?void 0:r.body),i=Ga(o);if(a){const e=vi(i);return t.concat(i,i.visualViewport||[],ei(o)?o:[],e&&n?gi(e):[])}return t.concat(o,gi(o,[],n))}function vi(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function yi(e){const t=hi(e);let n=parseFloat(t.width)||0,r=parseFloat(t.height)||0;const o=Xa(e),a=o?e.offsetWidth:n,i=o?e.offsetHeight:r,s=fa(n)!==a||fa(r)!==i;return s&&(n=a,r=i),{width:n,height:r,$:s}}function bi(e){return $a(e)?e:e.contextElement}function wi(e){const t=bi(e);if(!Xa(t))return ma(1);const n=t.getBoundingClientRect(),{width:r,height:o,$:a}=yi(t);let i=(a?fa(n.width):n.width)/r,s=(a?fa(n.height):n.height)/o;return i&&Number.isFinite(i)||(i=1),s&&Number.isFinite(s)||(s=1),{x:i,y:s}}const xi=ma(0);function Si(e){const t=Ga(e);return ci()&&t.visualViewport?{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}:xi}function ki(e,t,n,r){void 0===t&&(t=!1),void 0===n&&(n=!1);const o=e.getBoundingClientRect(),a=bi(e);let i=ma(1);t&&(r?$a(r)&&(i=wi(r)):i=wi(e));const s=function(e,t,n){return void 0===t&&(t=!1),!(!n||t&&n!==Ga(e))&&t}(a,n,r)?Si(a):ma(0);let l=(o.left+s.x)/i.x,c=(o.top+s.y)/i.y,u=o.width/i.x,d=o.height/i.y;if(a){const e=Ga(a),t=r&&$a(r)?Ga(r):r;let n=e,o=vi(n);for(;o&&r&&t!==n;){const e=wi(o),t=o.getBoundingClientRect(),r=hi(o),a=t.left+(o.clientLeft+parseFloat(r.paddingLeft))*e.x,i=t.top+(o.clientTop+parseFloat(r.paddingTop))*e.y;l*=e.x,c*=e.y,u*=e.x,d*=e.y,l+=a,c+=i,n=Ga(o),o=vi(n)}}return Ia({width:u,height:d,x:l,y:c})}function _i(e,t){const n=fi(e).scrollLeft;return t?t.left+n:ki(Qa(e)).left+n}function Ei(e,t){const n=e.getBoundingClientRect();return{x:n.left+t.scrollLeft-_i(e,n),y:n.top+t.scrollTop}}const Ci=new Set(["absolute","fixed"]);function Ai(e,t,n){let r;if("viewport"===t)r=function(e,t){const n=Ga(e),r=Qa(e),o=n.visualViewport;let a=r.clientWidth,i=r.clientHeight,s=0,l=0;if(o){a=o.width,i=o.height;const e=ci();(!e||e&&"fixed"===t)&&(s=o.offsetLeft,l=o.offsetTop)}const c=_i(r);if(c<=0){const e=r.ownerDocument,t=e.body,n=getComputedStyle(t),o="CSS1Compat"===e.compatMode&&parseFloat(n.marginLeft)+parseFloat(n.marginRight)||0,i=Math.abs(r.clientWidth-t.clientWidth-o);i<=25&&(a-=i)}else c<=25&&(a+=c);return{width:a,height:i,x:s,y:l}}(e,n);else if("document"===t)r=function(e){const t=Qa(e),n=fi(e),r=e.ownerDocument.body,o=ha(t.scrollWidth,t.clientWidth,r.scrollWidth,r.clientWidth),a=ha(t.scrollHeight,t.clientHeight,r.scrollHeight,r.clientHeight);let i=-n.scrollLeft+_i(e);const s=-n.scrollTop;return"rtl"===hi(r).direction&&(i+=ha(t.clientWidth,r.clientWidth)-o),{width:o,height:a,x:i,y:s}}(Qa(e));else if($a(t))r=function(e,t){const n=ki(e,!0,"fixed"===t),r=n.top+e.clientTop,o=n.left+e.clientLeft,a=Xa(e)?wi(e):ma(1);return{width:e.clientWidth*a.x,height:e.clientHeight*a.y,x:o*a.x,y:r*a.y}}(t,n);else{const n=Si(e);r={x:t.x-n.x,y:t.y-n.y,width:t.width,height:t.height}}return Ia(r)}function ji(e,t){const n=pi(e);return!(n===t||!$a(n)||di(n))&&("fixed"===hi(n).position||ji(n,t))}function Ti(e,t,n){const r=Xa(t),o=Qa(t),a="fixed"===n,i=ki(e,!0,a,t);let s={scrollLeft:0,scrollTop:0};const l=ma(0);function c(){l.x=_i(o)}if(r||!r&&!a)if(("body"!==Ka(t)||ei(o))&&(s=fi(t)),r){const e=ki(t,!0,a,t);l.x=e.x+t.clientLeft,l.y=e.y+t.clientTop}else o&&c();a&&!r&&o&&c();const u=!o||r||a?ma(0):Ei(o,s);return{x:i.left+s.scrollLeft-l.x-u.x,y:i.top+s.scrollTop-l.y-u.y,width:i.width,height:i.height}}function Ni(e){return"static"===hi(e).position}function Di(e,t){if(!Xa(e)||"fixed"===hi(e).position)return null;if(t)return t(e);let n=e.offsetParent;return Qa(e)===n&&(n=n.ownerDocument.body),n}function Pi(e,t){const n=Ga(e);if(oi(e))return n;if(!Xa(e)){let t=pi(e);for(;t&&!di(t);){if($a(t)&&!Ni(t))return t;t=pi(t)}return n}let r=Di(e,t);for(;r&&ni(r)&&Ni(r);)r=Di(r,t);return r&&di(r)&&Ni(r)&&!li(r)?n:r||function(e){let t=pi(e);for(;Xa(t)&&!di(t);){if(li(t))return t;if(oi(t))return null;t=pi(t)}return null}(e)||n}const Oi={convertOffsetParentRelativeRectToViewportRelativeRect:function(e){let{elements:t,rect:n,offsetParent:r,strategy:o}=e;const a="fixed"===o,i=Qa(r),s=!!t&&oi(t.floating);if(r===i||s&&a)return n;let l={scrollLeft:0,scrollTop:0},c=ma(1);const u=ma(0),d=Xa(r);if((d||!d&&!a)&&(("body"!==Ka(r)||ei(i))&&(l=fi(r)),Xa(r))){const e=ki(r);c=wi(r),u.x=e.x+r.clientLeft,u.y=e.y+r.clientTop}const h=!i||d||a?ma(0):Ei(i,l);return{width:n.width*c.x,height:n.height*c.y,x:n.x*c.x-l.scrollLeft*c.x+u.x+h.x,y:n.y*c.y-l.scrollTop*c.y+u.y+h.y}},getDocumentElement:Qa,getClippingRect:function(e){let{element:t,boundary:n,rootBoundary:r,strategy:o}=e;const a=[..."clippingAncestors"===n?oi(t)?[]:function(e,t){const n=t.get(e);if(n)return n;let r=gi(e,[],!1).filter(e=>$a(e)&&"body"!==Ka(e)),o=null;const a="fixed"===hi(e).position;let i=a?pi(e):e;for(;$a(i)&&!di(i);){const t=hi(i),n=li(i);n||"fixed"!==t.position||(o=null),(a?!n&&!o:!n&&"static"===t.position&&o&&Ci.has(o.position)||ei(i)&&!n&&ji(e,i))?r=r.filter(e=>e!==i):o=t,i=pi(i)}return t.set(e,r),r}(t,this._c):[].concat(n),r],i=a[0],s=a.reduce((e,n)=>{const r=Ai(t,n,o);return e.top=ha(r.top,e.top),e.right=da(r.right,e.right),e.bottom=da(r.bottom,e.bottom),e.left=ha(r.left,e.left),e},Ai(t,i,o));return{width:s.right-s.left,height:s.bottom-s.top,x:s.left,y:s.top}},getOffsetParent:Pi,getElementRects:async function(e){const t=this.getOffsetParent||Pi,n=this.getDimensions,r=await n(e.floating);return{reference:Ti(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}},getClientRects:function(e){return Array.from(e.getClientRects())},getDimensions:function(e){const{width:t,height:n}=yi(e);return{width:t,height:n}},getScale:wi,isElement:$a,isRTL:function(e){return"rtl"===hi(e).direction}};function Ri(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function Ii(e,t,n,r){void 0===r&&(r={});const{ancestorScroll:o=!0,ancestorResize:a=!0,elementResize:i="function"===typeof ResizeObserver,layoutShift:l="function"===typeof IntersectionObserver,animationFrame:c=!1}=r,u=bi(e),d=o||a?[...u?gi(u):[],...gi(t)]:[];d.forEach(e=>{o&&e.addEventListener("scroll",n,{passive:!0}),a&&e.addEventListener("resize",n)});const h=u&&l?function(e,t){let n,r=null;const o=Qa(e);function a(){var e;clearTimeout(n),null==(e=r)||e.disconnect(),r=null}return function i(l,c){void 0===l&&(l=!1),void 0===c&&(c=1),a();const u=e.getBoundingClientRect(),{left:d,top:h,width:f,height:p}=u;if(l||t(),!f||!p)return;const m={rootMargin:-pa(h)+"px "+-pa(o.clientWidth-(d+f))+"px "+-pa(o.clientHeight-(h+p))+"px "+-pa(d)+"px",threshold:ha(0,da(1,c))||1};let g=!0;function v(t){const r=t[0].intersectionRatio;if(r!==c){if(!g)return i();r?i(!1,r):n=setTimeout(()=>{i(!1,1e-7)},1e3)}1!==r||Ri(u,e.getBoundingClientRect())||i(),g=!1}try{r=new IntersectionObserver(v,(0,s.A)((0,s.A)({},m),{},{root:o.ownerDocument}))}catch(y){r=new IntersectionObserver(v,m)}r.observe(e)}(!0),a}(u,n):null;let f,p=-1,m=null;i&&(m=new ResizeObserver(e=>{let[r]=e;r&&r.target===u&&m&&(m.unobserve(t),cancelAnimationFrame(p),p=requestAnimationFrame(()=>{var e;null==(e=m)||e.observe(t)})),n()}),u&&!c&&m.observe(u),m.observe(t));let g=c?ki(e):null;return c&&function t(){const r=ki(e);g&&!Ri(g,r)&&n();g=r,f=requestAnimationFrame(t)}(),n(),()=>{var e;d.forEach(e=>{o&&e.removeEventListener("scroll",n),a&&e.removeEventListener("resize",n)}),null==h||h(),null==(e=m)||e.disconnect(),m=null,c&&cancelAnimationFrame(f)}}const Mi=function(e){return void 0===e&&(e=0),{name:"offset",options:e,async fn(t){var n,r;const{x:o,y:a,placement:i,middlewareData:l}=t,c=await async function(e,t){const{placement:n,platform:r,elements:o}=e,a=await(null==r.isRTL?void 0:r.isRTL(o.floating)),i=wa(n),s=xa(n),l="y"===Ea(n),c=Wa.has(i)?-1:1,u=a&&l?-1:1,d=ba(t,e);let{mainAxis:h,crossAxis:f,alignmentAxis:p}="number"===typeof d?{mainAxis:d,crossAxis:0,alignmentAxis:null}:{mainAxis:d.mainAxis||0,crossAxis:d.crossAxis||0,alignmentAxis:d.alignmentAxis};return s&&"number"===typeof p&&(f="end"===s?-1*p:p),l?{x:f*u,y:h*c}:{x:h*c,y:f*u}}(t,e);return i===(null==(n=l.offset)?void 0:n.placement)&&null!=(r=l.arrow)&&r.alignmentOffset?{}:{x:o+c.x,y:a+c.y,data:(0,s.A)((0,s.A)({},c),{},{placement:i})}}}},Fi=function(e){return void 0===e&&(e={}),{name:"shift",options:e,async fn(t){const{x:n,y:r,placement:o}=t,a=ba(e,t),{mainAxis:l=!0,crossAxis:c=!1,limiter:u={fn:e=>{let{x:t,y:n}=e;return{x:t,y:n}}}}=a,d=i(a,La),h={x:n,y:r},f=await Ba(t,d),p=Ea(wa(o)),m=Sa(p);let g=h[m],v=h[p];if(l){const e="y"===m?"bottom":"right";g=ya(g+f["y"===m?"top":"left"],g,g-f[e])}if(c){const e="y"===p?"bottom":"right";v=ya(v+f["y"===p?"top":"left"],v,v-f[e])}const y=u.fn((0,s.A)((0,s.A)({},t),{},{[m]:g,[p]:v}));return(0,s.A)((0,s.A)({},y),{},{data:{x:y.x-n,y:y.y-r,enabled:{[m]:l,[p]:c}}})}}},Li=function(e){return void 0===e&&(e={}),{name:"flip",options:e,async fn(t){var n,r;const{placement:o,middlewareData:a,rects:s,initialPlacement:l,platform:c,elements:u}=t,d=ba(e,t),{mainAxis:h=!0,crossAxis:f=!0,fallbackPlacements:p,fallbackStrategy:m="bestFit",fallbackAxisSideDirection:g="none",flipAlignment:v=!0}=d,y=i(d,Ma);if(null!=(n=a.arrow)&&n.alignmentOffset)return{};const b=wa(o),w=Ea(l),x=wa(l)===l,S=await(null==c.isRTL?void 0:c.isRTL(u.floating)),k=p||(x||!v?[Oa(l)]:function(e){const t=Oa(e);return[Aa(e),t,Aa(t)]}(l)),_="none"!==g;!p&&_&&k.push(...Pa(l,v,g,S));const E=[l,...k],C=await Ba(t,y),A=[];let j=(null==(r=a.flip)?void 0:r.overflows)||[];if(h&&A.push(C[b]),f){const e=function(e,t,n){void 0===n&&(n=!1);const r=xa(e),o=Ca(e),a=ka(o);let i="x"===o?r===(n?"end":"start")?"right":"left":"start"===r?"bottom":"top";return t.reference[a]>t.floating[a]&&(i=Oa(i)),[i,Oa(i)]}(o,s,S);A.push(C[e[0]],C[e[1]])}if(j=[...j,{placement:o,overflows:A}],!A.every(e=>e<=0)){var T,N;const e=((null==(T=a.flip)?void 0:T.index)||0)+1,t=E[e];if(t){if(!("alignment"===f&&w!==Ea(t))||j.every(e=>Ea(e.placement)!==w||e.overflows[0]>0))return{data:{index:e,overflows:j},reset:{placement:t}}}let n=null==(N=j.filter(e=>e.overflows[0]<=0).sort((e,t)=>e.overflows[1]-t.overflows[1])[0])?void 0:N.placement;if(!n)switch(m){case"bestFit":{var D;const e=null==(D=j.filter(e=>{if(_){const t=Ea(e.placement);return t===w||"y"===t}return!0}).map(e=>[e.placement,e.overflows.filter(e=>e>0).reduce((e,t)=>e+t,0)]).sort((e,t)=>e[1]-t[1])[0])?void 0:D[0];e&&(n=e);break}case"initialPlacement":n=l}if(o!==n)return{reset:{placement:n}}}return{}}}},Ui=function(e){return void 0===e&&(e={}),{name:"size",options:e,async fn(t){var n,r;const{placement:o,rects:a,platform:l,elements:c}=t,u=ba(e,t),{apply:d=()=>{}}=u,h=i(u,Ua),f=await Ba(t,h),p=wa(o),m=xa(o),g="y"===Ea(o),{width:v,height:y}=a.floating;let b,w;"top"===p||"bottom"===p?(b=p,w=m===(await(null==l.isRTL?void 0:l.isRTL(c.floating))?"start":"end")?"left":"right"):(w=p,b="end"===m?"top":"bottom");const x=y-f.top-f.bottom,S=v-f.left-f.right,k=da(y-f[b],x),_=da(v-f[w],S),E=!t.middlewareData.shift;let C=k,A=_;if(null!=(n=t.middlewareData.shift)&&n.enabled.x&&(A=S),null!=(r=t.middlewareData.shift)&&r.enabled.y&&(C=x),E&&!m){const e=ha(f.left,0),t=ha(f.right,0),n=ha(f.top,0),r=ha(f.bottom,0);g?A=v-2*(0!==e||0!==t?e+t:ha(f.left,f.right)):C=y-2*(0!==n||0!==r?n+r:ha(f.top,f.bottom))}await d((0,s.A)((0,s.A)({},t),{},{availableWidth:A,availableHeight:C}));const j=await l.getDimensions(c.floating);return v!==j.width||y!==j.height?{reset:{rects:!0}}:{}}}},zi=function(e){return void 0===e&&(e={}),{name:"hide",options:e,async fn(t){const{rects:n}=t,r=ba(e,t),{strategy:o="referenceHidden"}=r,a=i(r,Fa);switch(o){case"referenceHidden":{const e=qa(await Ba(t,(0,s.A)((0,s.A)({},a),{},{elementContext:"reference"})),n.reference);return{data:{referenceHiddenOffsets:e,referenceHidden:Va(e)}}}case"escaped":{const e=qa(await Ba(t,(0,s.A)((0,s.A)({},a),{},{altBoundary:!0})),n.floating);return{data:{escapedOffsets:e,escaped:Va(e)}}}default:return{}}}}},Bi=e=>({name:"arrow",options:e,async fn(t){const{x:n,y:r,placement:o,rects:a,platform:i,elements:l,middlewareData:c}=t,{element:u,padding:d=0}=ba(e,t)||{};if(null==u)return{};const h=Ra(d),f={x:n,y:r},p=Ca(o),m=ka(p),g=await i.getDimensions(u),v="y"===p,y=v?"top":"left",b=v?"bottom":"right",w=v?"clientHeight":"clientWidth",x=a.reference[m]+a.reference[p]-f[p]-a.floating[m],S=f[p]-a.reference[p],k=await(null==i.getOffsetParent?void 0:i.getOffsetParent(u));let _=k?k[w]:0;_&&await(null==i.isElement?void 0:i.isElement(k))||(_=l.floating[w]||a.floating[m]);const E=x/2-S/2,C=_/2-g[m]/2-1,A=da(h[y],C),j=da(h[b],C),T=A,N=_-g[m]-j,D=_/2-g[m]/2+E,P=ya(T,D,N),O=!c.arrow&&null!=xa(o)&&D!==P&&a.reference[m]/2-(D<T?A:j)-g[m]/2<0,R=O?D<T?D-T:D-N:0;return{[p]:f[p]+R,data:(0,s.A)({[p]:P,centerOffset:D-P-R},O&&{alignmentOffset:R}),reset:O}}}),qi=function(e){return void 0===e&&(e={}),{options:e,fn(t){const{x:n,y:r,placement:o,rects:a,middlewareData:i}=t,{offset:l=0,mainAxis:c=!0,crossAxis:u=!0}=ba(e,t),d={x:n,y:r},h=Ea(o),f=Sa(h);let p=d[f],m=d[h];const g=ba(l,t),v="number"===typeof g?{mainAxis:g,crossAxis:0}:(0,s.A)({mainAxis:0,crossAxis:0},g);if(c){const e="y"===f?"height":"width",t=a.reference[f]-a.floating[e]+v.mainAxis,n=a.reference[f]+a.reference[e]-v.mainAxis;p<t?p=t:p>n&&(p=n)}if(u){var y,b;const e="y"===f?"width":"height",t=Wa.has(wa(o)),n=a.reference[h]-a.floating[e]+(t&&(null==(y=i.offset)?void 0:y[h])||0)+(t?0:v.crossAxis),r=a.reference[h]+a.reference[e]+(t?0:(null==(b=i.offset)?void 0:b[h])||0)-(t?v.crossAxis:0);m<n?m=n:m>r&&(m=r)}return{[f]:p,[h]:m}}}},Vi=(e,t,n)=>{const r=new Map,o=(0,s.A)({platform:Oi},n),a=(0,s.A)((0,s.A)({},o.platform),{},{_c:r});return(async(e,t,n)=>{const{placement:r="bottom",strategy:o="absolute",middleware:a=[],platform:i}=n,l=a.filter(Boolean),c=await(null==i.isRTL?void 0:i.isRTL(t));let u=await i.getElementRects({reference:e,floating:t,strategy:o}),{x:d,y:h}=za(u,r,c),f=r,p={},m=0;for(let g=0;g<l.length;g++){const{name:n,fn:a}=l[g],{x:v,y:y,data:b,reset:w}=await a({x:d,y:h,initialPlacement:r,placement:f,strategy:o,middlewareData:p,rects:u,platform:i,elements:{reference:e,floating:t}});d=null!=v?v:d,h=null!=y?y:h,p=(0,s.A)((0,s.A)({},p),{},{[n]:(0,s.A)((0,s.A)({},p[n]),b)}),w&&m<=50&&(m++,"object"===typeof w&&(w.placement&&(f=w.placement),w.rects&&(u=!0===w.rects?await i.getElementRects({reference:e,floating:t,strategy:o}):w.rects),({x:d,y:h}=za(u,f,c))),g=-1)}return{x:d,y:h,placement:f,strategy:o,middlewareData:p}})(e,t,(0,s.A)((0,s.A)({},o),{},{platform:a}))};var Wi="undefined"!==typeof document?r.useLayoutEffect:function(){};function Hi(e,t){if(e===t)return!0;if(typeof e!==typeof t)return!1;if("function"===typeof e&&e.toString()===t.toString())return!0;let n,r,o;if(e&&t&&"object"===typeof e){if(Array.isArray(e)){if(n=e.length,n!==t.length)return!1;for(r=n;0!==r--;)if(!Hi(e[r],t[r]))return!1;return!0}if(o=Object.keys(e),n=o.length,n!==Object.keys(t).length)return!1;for(r=n;0!==r--;)if(!{}.hasOwnProperty.call(t,o[r]))return!1;for(r=n;0!==r--;){const n=o[r];if(("_owner"!==n||!e.$$typeof)&&!Hi(e[n],t[n]))return!1}return!0}return e!==e&&t!==t}function Ki(e){if("undefined"===typeof window)return 1;return(e.ownerDocument.defaultView||window).devicePixelRatio||1}function Gi(e,t){const n=Ki(e);return Math.round(t*n)/n}function Qi(e){const t=r.useRef(e);return Wi(()=>{t.current=e}),t}const Yi=(e,t)=>(0,s.A)((0,s.A)({},Mi(e)),{},{options:[e,t]}),$i=(e,t)=>(0,s.A)((0,s.A)({},Fi(e)),{},{options:[e,t]}),Xi=(e,t)=>(0,s.A)((0,s.A)({},qi(e)),{},{options:[e,t]}),Ji=(e,t)=>(0,s.A)((0,s.A)({},Li(e)),{},{options:[e,t]}),Zi=(e,t)=>(0,s.A)((0,s.A)({},Ui(e)),{},{options:[e,t]}),es=(e,t)=>(0,s.A)((0,s.A)({},zi(e)),{},{options:[e,t]}),ts=(e,t)=>(0,s.A)((0,s.A)({},(e=>({name:"arrow",options:e,fn(t){const{element:n,padding:r}="function"===typeof e?e(t):e;return n&&(o=n,{}.hasOwnProperty.call(o,"current"))?null!=n.current?Bi({element:n.current,padding:r}).fn(t):{}:n?Bi({element:n,padding:r}).fn(t):{};var o}}))(e)),{},{options:[e,t]}),ns=["children","width","height"];var rs=r.forwardRef((e,t)=>{const{children:n,width:r=10,height:o=5}=e,a=i(e,ns);return(0,kt.jsx)(Co.svg,(0,s.A)((0,s.A)({},a),{},{ref:t,width:r,height:o,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?n:(0,kt.jsx)("polygon",{points:"0,0 30,0 15,10"})}))});rs.displayName="Arrow";var os=rs;const as=["__scopePopper","virtualRef"],is=["__scopePopper","side","sideOffset","align","alignOffset","arrowPadding","avoidCollisions","collisionBoundary","collisionPadding","sticky","hideWhenDetached","updatePositionStrategy","onPlaced"],ss=["__scopePopper"];var ls="Popper",[cs,us]=fo(ls),[ds,hs]=cs(ls),fs=e=>{const{__scopePopper:t,children:n}=e,[o,a]=r.useState(null);return(0,kt.jsx)(ds,{scope:t,anchor:o,onAnchorChange:a,children:n})};fs.displayName=ls;var ps="PopperAnchor",ms=r.forwardRef((e,t)=>{const{__scopePopper:n,virtualRef:o}=e,a=i(e,as),l=hs(ps,n),c=r.useRef(null),u=co(t,c),d=r.useRef(null);return r.useEffect(()=>{const e=d.current;d.current=(null===o||void 0===o?void 0:o.current)||c.current,e!==d.current&&l.onAnchorChange(d.current)}),o?null:(0,kt.jsx)(Co.div,(0,s.A)((0,s.A)({},a),{},{ref:u}))});ms.displayName=ps;var gs="PopperContent",[vs,ys]=cs(gs),bs=r.forwardRef((e,t)=>{var n,o,a,l,c,u,d,h;const{__scopePopper:f,side:p="bottom",sideOffset:m=0,align:g="center",alignOffset:v=0,arrowPadding:y=0,avoidCollisions:b=!0,collisionBoundary:w=[],collisionPadding:x=0,sticky:S="partial",hideWhenDetached:k=!1,updatePositionStrategy:_="optimized",onPlaced:E}=e,C=i(e,is),A=hs(gs,f),[j,T]=r.useState(null),N=co(t,e=>T(e)),[D,P]=r.useState(null),O=function(e){const[t,n]=r.useState(void 0);return mo(()=>{if(e){n({width:e.offsetWidth,height:e.offsetHeight});const t=new ResizeObserver(t=>{if(!Array.isArray(t))return;if(!t.length)return;const r=t[0];let o,a;if("borderBoxSize"in r){const e=r.borderBoxSize,t=Array.isArray(e)?e[0]:e;o=t.inlineSize,a=t.blockSize}else o=e.offsetWidth,a=e.offsetHeight;n({width:o,height:a})});return t.observe(e,{box:"border-box"}),()=>t.unobserve(e)}n(void 0)},[e]),t}(D),R=null!==(n=null===O||void 0===O?void 0:O.width)&&void 0!==n?n:0,I=null!==(o=null===O||void 0===O?void 0:O.height)&&void 0!==o?o:0,M=p+("center"!==g?"-"+g:""),F="number"===typeof x?x:(0,s.A)({top:0,right:0,bottom:0,left:0},x),L=Array.isArray(w)?w:[w],U=L.length>0,z={padding:F,boundary:L.filter(ks),altBoundary:U},{refs:B,floatingStyles:q,placement:V,isPositioned:W,middlewareData:H}=function(e){void 0===e&&(e={});const{placement:t="bottom",strategy:n="absolute",middleware:o=[],platform:a,elements:{reference:i,floating:l}={},transform:c=!0,whileElementsMounted:u,open:d}=e,[h,f]=r.useState({x:0,y:0,strategy:n,placement:t,middlewareData:{},isPositioned:!1}),[p,m]=r.useState(o);Hi(p,o)||m(o);const[g,v]=r.useState(null),[y,b]=r.useState(null),w=r.useCallback(e=>{e!==_.current&&(_.current=e,v(e))},[]),x=r.useCallback(e=>{e!==E.current&&(E.current=e,b(e))},[]),S=i||g,k=l||y,_=r.useRef(null),E=r.useRef(null),C=r.useRef(h),A=null!=u,j=Qi(u),T=Qi(a),N=Qi(d),D=r.useCallback(()=>{if(!_.current||!E.current)return;const e={placement:t,strategy:n,middleware:p};T.current&&(e.platform=T.current),Vi(_.current,E.current,e).then(e=>{const t=(0,s.A)((0,s.A)({},e),{},{isPositioned:!1!==N.current});P.current&&!Hi(C.current,t)&&(C.current=t,yo.flushSync(()=>{f(t)}))})},[p,t,n,T,N]);Wi(()=>{!1===d&&C.current.isPositioned&&(C.current.isPositioned=!1,f(e=>(0,s.A)((0,s.A)({},e),{},{isPositioned:!1})))},[d]);const P=r.useRef(!1);Wi(()=>(P.current=!0,()=>{P.current=!1}),[]),Wi(()=>{if(S&&(_.current=S),k&&(E.current=k),S&&k){if(j.current)return j.current(S,k,D);D()}},[S,k,D,j,A]);const O=r.useMemo(()=>({reference:_,floating:E,setReference:w,setFloating:x}),[w,x]),R=r.useMemo(()=>({reference:S,floating:k}),[S,k]),I=r.useMemo(()=>{const e={position:n,left:0,top:0};if(!R.floating)return e;const t=Gi(R.floating,h.x),r=Gi(R.floating,h.y);return c?(0,s.A)((0,s.A)({},e),{},{transform:"translate("+t+"px, "+r+"px)"},Ki(R.floating)>=1.5&&{willChange:"transform"}):{position:n,left:t,top:r}},[n,c,R.floating,h.x,h.y]);return r.useMemo(()=>(0,s.A)((0,s.A)({},h),{},{update:D,refs:O,elements:R,floatingStyles:I}),[h,D,O,R,I])}({strategy:"fixed",placement:M,whileElementsMounted:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return Ii(...t,{animationFrame:"always"===_})},elements:{reference:A.anchor},middleware:[Yi({mainAxis:m+I,alignmentAxis:v}),b&&$i((0,s.A)({mainAxis:!0,crossAxis:!1,limiter:"partial"===S?Xi():void 0},z)),b&&Ji((0,s.A)({},z)),Zi((0,s.A)((0,s.A)({},z),{},{apply:e=>{let{elements:t,rects:n,availableWidth:r,availableHeight:o}=e;const{width:a,height:i}=n.reference,s=t.floating.style;s.setProperty("--radix-popper-available-width","".concat(r,"px")),s.setProperty("--radix-popper-available-height","".concat(o,"px")),s.setProperty("--radix-popper-anchor-width","".concat(a,"px")),s.setProperty("--radix-popper-anchor-height","".concat(i,"px"))}})),D&&ts({element:D,padding:y}),_s({arrowWidth:R,arrowHeight:I}),k&&es((0,s.A)({strategy:"referenceHidden"},z))]}),[K,G]=Es(V),Q=Mo(E);mo(()=>{W&&(null===Q||void 0===Q||Q())},[W,Q]);const Y=null===(a=H.arrow)||void 0===a?void 0:a.x,$=null===(l=H.arrow)||void 0===l?void 0:l.y,X=0!==(null===(c=H.arrow)||void 0===c?void 0:c.centerOffset),[J,Z]=r.useState();return mo(()=>{j&&Z(window.getComputedStyle(j).zIndex)},[j]),(0,kt.jsx)("div",{ref:B.setFloating,"data-radix-popper-content-wrapper":"",style:(0,s.A)((0,s.A)({},q),{},{transform:W?q.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:J,"--radix-popper-transform-origin":[null===(u=H.transformOrigin)||void 0===u?void 0:u.x,null===(d=H.transformOrigin)||void 0===d?void 0:d.y].join(" ")},(null===(h=H.hide)||void 0===h?void 0:h.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}),dir:e.dir,children:(0,kt.jsx)(vs,{scope:f,placedSide:K,onArrowChange:P,arrowX:Y,arrowY:$,shouldHideArrow:X,children:(0,kt.jsx)(Co.div,(0,s.A)((0,s.A)({"data-side":K,"data-align":G},C),{},{ref:N,style:(0,s.A)((0,s.A)({},C.style),{},{animation:W?void 0:"none"})}))})})});bs.displayName=gs;var ws="PopperArrow",xs={top:"bottom",right:"left",bottom:"top",left:"right"},Ss=r.forwardRef(function(e,t){const{__scopePopper:n}=e,r=i(e,ss),o=ys(ws,n),a=xs[o.placedSide];return(0,kt.jsx)("span",{ref:o.onArrowChange,style:{position:"absolute",left:o.arrowX,top:o.arrowY,[a]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[o.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[o.placedSide],visibility:o.shouldHideArrow?"hidden":void 0},children:(0,kt.jsx)(os,(0,s.A)((0,s.A)({},r),{},{ref:t,style:(0,s.A)((0,s.A)({},r.style),{},{display:"block"})}))})});function ks(e){return null!==e}Ss.displayName=ws;var _s=e=>({name:"transformOrigin",options:e,fn(t){var n,r,o,a,i;const{placement:s,rects:l,middlewareData:c}=t,u=0!==(null===(n=c.arrow)||void 0===n?void 0:n.centerOffset),d=u?0:e.arrowWidth,h=u?0:e.arrowHeight,[f,p]=Es(s),m={start:"0%",center:"50%",end:"100%"}[p],g=(null!==(r=null===(o=c.arrow)||void 0===o?void 0:o.x)&&void 0!==r?r:0)+d/2,v=(null!==(a=null===(i=c.arrow)||void 0===i?void 0:i.y)&&void 0!==a?a:0)+h/2;let y="",b="";return"bottom"===f?(y=u?m:"".concat(g,"px"),b="".concat(-h,"px")):"top"===f?(y=u?m:"".concat(g,"px"),b="".concat(l.floating.height+h,"px")):"right"===f?(y="".concat(-h,"px"),b=u?m:"".concat(v,"px")):"left"===f&&(y="".concat(l.floating.width+h,"px"),b=u?m:"".concat(v,"px")),{data:{x:y,y:b}}}});function Es(e){const[t,n="center"]=e.split("-");return[t,n]}var Cs=fs,As=ms,js=bs,Ts=Ss;const Ns=["container"];var Ds=r.forwardRef((e,t)=>{var n;const{container:o}=e,a=i(e,Ns),[l,c]=r.useState(!1);mo(()=>c(!0),[]);const u=o||l&&(null===globalThis||void 0===globalThis||null===(n=globalThis.document)||void 0===n?void 0:n.body);return u?yo.createPortal((0,kt.jsx)(Co.div,(0,s.A)((0,s.A)({},a),{},{ref:t})),u):null});Ds.displayName="Portal";var Ps=e=>{const{present:t,children:n}=e,o=function(e){const[t,n]=r.useState(),o=r.useRef(null),a=r.useRef(e),i=r.useRef("none"),s=e?"mounted":"unmounted",[l,c]=function(e,t){return r.useReducer((e,n)=>{const r=t[e][n];return null!==r&&void 0!==r?r:e},e)}(s,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return r.useEffect(()=>{const e=Os(o.current);i.current="mounted"===l?e:"none"},[l]),mo(()=>{const t=o.current,n=a.current;if(n!==e){const r=i.current,o=Os(t);if(e)c("MOUNT");else if("none"===o||"none"===(null===t||void 0===t?void 0:t.display))c("UNMOUNT");else{c(n&&r!==o?"ANIMATION_OUT":"UNMOUNT")}a.current=e}},[e,c]),mo(()=>{if(t){var e;let n;const r=null!==(e=t.ownerDocument.defaultView)&&void 0!==e?e:window,s=e=>{const i=Os(o.current).includes(CSS.escape(e.animationName));if(e.target===t&&i&&(c("ANIMATION_END"),!a.current)){const e=t.style.animationFillMode;t.style.animationFillMode="forwards",n=r.setTimeout(()=>{"forwards"===t.style.animationFillMode&&(t.style.animationFillMode=e)})}},l=e=>{e.target===t&&(i.current=Os(o.current))};return t.addEventListener("animationstart",l),t.addEventListener("animationcancel",s),t.addEventListener("animationend",s),()=>{r.clearTimeout(n),t.removeEventListener("animationstart",l),t.removeEventListener("animationcancel",s),t.removeEventListener("animationend",s)}}c("ANIMATION_END")},[t,c]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:r.useCallback(e=>{o.current=e?getComputedStyle(e):null,n(e)},[])}}(t),a="function"===typeof n?n({present:o.isPresent}):r.Children.only(n),i=co(o.ref,function(e){var t,n;let r=null===(t=Object.getOwnPropertyDescriptor(e.props,"ref"))||void 0===t?void 0:t.get,o=r&&"isReactWarning"in r&&r.isReactWarning;if(o)return e.ref;if(r=null===(n=Object.getOwnPropertyDescriptor(e,"ref"))||void 0===n?void 0:n.get,o=r&&"isReactWarning"in r&&r.isReactWarning,o)return e.props.ref;return e.props.ref||e.ref}(a));return"function"===typeof n||o.isPresent?r.cloneElement(a,{ref:i}):null};function Os(e){return(null===e||void 0===e?void 0:e.animationName)||"none"}Ps.displayName="Presence";const Rs=["__scopeRovingFocusGroup","orientation","loop","dir","currentTabStopId","defaultCurrentTabStopId","onCurrentTabStopIdChange","onEntryFocus","preventScrollOnEntryFocus"],Is=["__scopeRovingFocusGroup","focusable","active","tabStopId","children"];var Ms="rovingFocusGroup.onEntryFocus",Fs={bubbles:!1,cancelable:!0},Ls="RovingFocusGroup",[Us,zs,Bs]=No(Ls),[qs,Vs]=fo(Ls,[Bs]),[Ws,Hs]=qs(Ls),Ks=r.forwardRef((e,t)=>(0,kt.jsx)(Us.Provider,{scope:e.__scopeRovingFocusGroup,children:(0,kt.jsx)(Us.Slot,{scope:e.__scopeRovingFocusGroup,children:(0,kt.jsx)(Gs,(0,s.A)((0,s.A)({},e),{},{ref:t}))})}));Ks.displayName=Ls;var Gs=r.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,orientation:o,loop:a=!1,dir:l,currentTabStopId:c,defaultCurrentTabStopId:u,onCurrentTabStopIdChange:d,onEntryFocus:h,preventScrollOnEntryFocus:f=!1}=e,p=i(e,Rs),m=r.useRef(null),g=co(t,m),v=Io(l),[y,b]=vo({prop:c,defaultProp:null!==u&&void 0!==u?u:null,onChange:d,caller:Ls}),[w,x]=r.useState(!1),S=Mo(h),k=zs(n),_=r.useRef(!1),[E,C]=r.useState(0);return r.useEffect(()=>{const e=m.current;if(e)return e.addEventListener(Ms,S),()=>e.removeEventListener(Ms,S)},[S]),(0,kt.jsx)(Ws,{scope:n,orientation:o,dir:v,loop:a,currentTabStopId:y,onItemFocus:r.useCallback(e=>b(e),[b]),onItemShiftTab:r.useCallback(()=>x(!0),[]),onFocusableItemAdd:r.useCallback(()=>C(e=>e+1),[]),onFocusableItemRemove:r.useCallback(()=>C(e=>e-1),[]),children:(0,kt.jsx)(Co.div,(0,s.A)((0,s.A)({tabIndex:w||0===E?-1:0,"data-orientation":o},p),{},{ref:g,style:(0,s.A)({outline:"none"},e.style),onMouseDown:io(e.onMouseDown,()=>{_.current=!0}),onFocus:io(e.onFocus,e=>{const t=!_.current;if(e.target===e.currentTarget&&t&&!w){const t=new CustomEvent(Ms,Fs);if(e.currentTarget.dispatchEvent(t),!t.defaultPrevented){const e=k().filter(e=>e.focusable);Xs([e.find(e=>e.active),e.find(e=>e.id===y),...e].filter(Boolean).map(e=>e.ref.current),f)}}_.current=!1}),onBlur:io(e.onBlur,()=>x(!1))}))})}),Qs="RovingFocusGroupItem",Ys=r.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,focusable:o=!0,active:a=!1,tabStopId:l,children:c}=e,u=i(e,Is),d=ca(),h=l||d,f=Hs(Qs,n),p=f.currentTabStopId===h,m=zs(n),{onFocusableItemAdd:g,onFocusableItemRemove:v,currentTabStopId:y}=f;return r.useEffect(()=>{if(o)return g(),()=>v()},[o,g,v]),(0,kt.jsx)(Us.ItemSlot,{scope:n,id:h,focusable:o,active:a,children:(0,kt.jsx)(Co.span,(0,s.A)((0,s.A)({tabIndex:p?0:-1,"data-orientation":f.orientation},u),{},{ref:t,onMouseDown:io(e.onMouseDown,e=>{o?f.onItemFocus(h):e.preventDefault()}),onFocus:io(e.onFocus,()=>f.onItemFocus(h)),onKeyDown:io(e.onKeyDown,e=>{if("Tab"===e.key&&e.shiftKey)return void f.onItemShiftTab();if(e.target!==e.currentTarget)return;const t=function(e,t,n){const r=function(e,t){return"rtl"!==t?e:"ArrowLeft"===e?"ArrowRight":"ArrowRight"===e?"ArrowLeft":e}(e.key,n);return"vertical"===t&&["ArrowLeft","ArrowRight"].includes(r)||"horizontal"===t&&["ArrowUp","ArrowDown"].includes(r)?void 0:$s[r]}(e,f.orientation,f.dir);if(void 0!==t){if(e.metaKey||e.ctrlKey||e.altKey||e.shiftKey)return;e.preventDefault();let o=m().filter(e=>e.focusable).map(e=>e.ref.current);if("last"===t)o.reverse();else if("prev"===t||"next"===t){"prev"===t&&o.reverse();const a=o.indexOf(e.currentTarget);o=f.loop?(r=a+1,(n=o).map((e,t)=>n[(r+t)%n.length])):o.slice(a+1)}setTimeout(()=>Xs(o))}var n,r}),children:"function"===typeof c?c({isCurrentTabStop:p,hasTabStop:null!=y}):c}))})});Ys.displayName=Qs;var $s={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function Xs(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=document.activeElement;for(const r of e){if(r===n)return;if(r.focus({preventScroll:t}),document.activeElement!==n)return}}var Js=Ks,Zs=Ys,el=function(e){return"undefined"===typeof document?null:(Array.isArray(e)?e[0]:e).ownerDocument.body},tl=new WeakMap,nl=new WeakMap,rl={},ol=0,al=function(e){return e&&(e.host||al(e.parentNode))},il=function(e,t,n,r){var o=function(e,t){return t.map(function(t){if(e.contains(t))return t;var n=al(t);return n&&e.contains(n)?n:(console.error("aria-hidden",t,"in not contained inside",e,". Doing nothing"),null)}).filter(function(e){return Boolean(e)})}(t,Array.isArray(e)?e:[e]);rl[n]||(rl[n]=new WeakMap);var a=rl[n],i=[],s=new Set,l=new Set(o),c=function(e){e&&!s.has(e)&&(s.add(e),c(e.parentNode))};o.forEach(c);var u=function(e){e&&!l.has(e)&&Array.prototype.forEach.call(e.children,function(e){if(s.has(e))u(e);else try{var t=e.getAttribute(r),o=null!==t&&"false"!==t,l=(tl.get(e)||0)+1,c=(a.get(e)||0)+1;tl.set(e,l),a.set(e,c),i.push(e),1===l&&o&&nl.set(e,!0),1===c&&e.setAttribute(n,"true"),o||e.setAttribute(r,"true")}catch(IA){console.error("aria-hidden: cannot operate on ",e,IA)}})};return u(t),s.clear(),ol++,function(){i.forEach(function(e){var t=tl.get(e)-1,o=a.get(e)-1;tl.set(e,t),a.set(e,o),t||(nl.has(e)||e.removeAttribute(r),nl.delete(e)),o||e.removeAttribute(n)}),--ol||(tl=new WeakMap,tl=new WeakMap,nl=new WeakMap,rl={})}},sl=function(e,t,n){void 0===n&&(n="data-aria-hidden");var r=Array.from(Array.isArray(e)?e:[e]),o=t||el(e);return o?(r.push.apply(r,Array.from(o.querySelectorAll("[aria-live], script"))),il(r,o,n,"aria-hidden")):function(){return null}},ll=n(326),cl="right-scroll-bar-position",ul="width-before-scroll-bar";function dl(e,t){return"function"===typeof e?e(t):e&&(e.current=t),e}var hl="undefined"!==typeof window?r.useLayoutEffect:r.useEffect,fl=new WeakMap;function pl(e,t){var n=function(e,t){var n=(0,r.useState)(function(){return{value:e,callback:t,facade:{get current(){return n.value},set current(e){var t=n.value;t!==e&&(n.value=e,n.callback(e,t))}}}})[0];return n.callback=t,n.facade}(t||null,function(t){return e.forEach(function(e){return dl(e,t)})});return hl(function(){var t=fl.get(n);if(t){var r=new Set(t),o=new Set(e),a=n.current;r.forEach(function(e){o.has(e)||dl(e,null)}),o.forEach(function(e){r.has(e)||dl(e,a)})}fl.set(n,e)},[e]),n}function ml(e){return e}function gl(e,t){void 0===t&&(t=ml);var n=[],r=!1,o={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:e},useMedium:function(e){var o=t(e,r);return n.push(o),function(){n=n.filter(function(e){return e!==o})}},assignSyncMedium:function(e){for(r=!0;n.length;){var t=n;n=[],t.forEach(e)}n={push:function(t){return e(t)},filter:function(){return n}}},assignMedium:function(e){r=!0;var t=[];if(n.length){var o=n;n=[],o.forEach(e),t=n}var a=function(){var n=t;t=[],n.forEach(e)},i=function(){return Promise.resolve().then(a)};i(),n={push:function(e){t.push(e),i()},filter:function(e){return t=t.filter(e),n}}}};return o}var vl=function(e){void 0===e&&(e={});var t=gl(null);return t.options=(0,ll.__assign)({async:!0,ssr:!1},e),t}(),yl=function(){},bl=r.forwardRef(function(e,t){var n=r.useRef(null),o=r.useState({onScrollCapture:yl,onWheelCapture:yl,onTouchMoveCapture:yl}),a=o[0],i=o[1],s=e.forwardProps,l=e.children,c=e.className,u=e.removeScrollBar,d=e.enabled,h=e.shards,f=e.sideCar,p=e.noRelative,m=e.noIsolation,g=e.inert,v=e.allowPinchZoom,y=e.as,b=void 0===y?"div":y,w=e.gapMode,x=(0,ll.__rest)(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),S=f,k=pl([n,t]),_=(0,ll.__assign)((0,ll.__assign)({},x),a);return r.createElement(r.Fragment,null,d&&r.createElement(S,{sideCar:vl,removeScrollBar:u,shards:h,noRelative:p,noIsolation:m,inert:g,setCallbacks:i,allowPinchZoom:!!v,lockRef:n,gapMode:w}),s?r.cloneElement(r.Children.only(l),(0,ll.__assign)((0,ll.__assign)({},_),{ref:k})):r.createElement(b,(0,ll.__assign)({},_,{className:c,ref:k}),l))});bl.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1},bl.classNames={fullWidth:ul,zeroRight:cl};var wl,xl=function(e){var t=e.sideCar,n=(0,ll.__rest)(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var o=t.read();if(!o)throw new Error("Sidecar medium not found");return r.createElement(o,(0,ll.__assign)({},n))};xl.isSideCarExport=!0;function Sl(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=wl||n.nc;return t&&e.setAttribute("nonce",t),e}var kl=function(){var e=0,t=null;return{add:function(n){var r,o;0==e&&(t=Sl())&&(o=n,(r=t).styleSheet?r.styleSheet.cssText=o:r.appendChild(document.createTextNode(o)),function(e){(document.head||document.getElementsByTagName("head")[0]).appendChild(e)}(t)),e++},remove:function(){! --e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},_l=function(){var e=function(){var e=kl();return function(t,n){r.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&n])}}();return function(t){var n=t.styles,r=t.dynamic;return e(n,r),null}},El={left:0,top:0,right:0,gap:0},Cl=function(e){return parseInt(e||"",10)||0},Al=function(e){if(void 0===e&&(e="margin"),"undefined"===typeof window)return El;var t=function(e){var t=window.getComputedStyle(document.body),n=t["padding"===e?"paddingLeft":"marginLeft"],r=t["padding"===e?"paddingTop":"marginTop"],o=t["padding"===e?"paddingRight":"marginRight"];return[Cl(n),Cl(r),Cl(o)]}(e),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,r-n+t[2]-t[0])}},jl=_l(),Tl="data-scroll-locked",Nl=function(e,t,n,r){var o=e.left,a=e.top,i=e.right,s=e.gap;return void 0===n&&(n="margin"),"\n  .".concat("with-scroll-bars-hidden"," {\n   overflow: hidden ").concat(r,";\n   padding-right: ").concat(s,"px ").concat(r,";\n  }\n  body[").concat(Tl,"] {\n    overflow: hidden ").concat(r,";\n    overscroll-behavior: contain;\n    ").concat([t&&"position: relative ".concat(r,";"),"margin"===n&&"\n    padding-left: ".concat(o,"px;\n    padding-top: ").concat(a,"px;\n    padding-right: ").concat(i,"px;\n    margin-left:0;\n    margin-top:0;\n    margin-right: ").concat(s,"px ").concat(r,";\n    "),"padding"===n&&"padding-right: ".concat(s,"px ").concat(r,";")].filter(Boolean).join(""),"\n  }\n  \n  .").concat(cl," {\n    right: ").concat(s,"px ").concat(r,";\n  }\n  \n  .").concat(ul," {\n    margin-right: ").concat(s,"px ").concat(r,";\n  }\n  \n  .").concat(cl," .").concat(cl," {\n    right: 0 ").concat(r,";\n  }\n  \n  .").concat(ul," .").concat(ul," {\n    margin-right: 0 ").concat(r,";\n  }\n  \n  body[").concat(Tl,"] {\n    ").concat("--removed-body-scroll-bar-size",": ").concat(s,"px;\n  }\n")},Dl=function(){var e=parseInt(document.body.getAttribute(Tl)||"0",10);return isFinite(e)?e:0},Pl=function(e){var t=e.noRelative,n=e.noImportant,o=e.gapMode,a=void 0===o?"margin":o;r.useEffect(function(){return document.body.setAttribute(Tl,(Dl()+1).toString()),function(){var e=Dl()-1;e<=0?document.body.removeAttribute(Tl):document.body.setAttribute(Tl,e.toString())}},[]);var i=r.useMemo(function(){return Al(a)},[a]);return r.createElement(jl,{styles:Nl(i,!t,a,n?"":"!important")})},Ol=!1;if("undefined"!==typeof window)try{var Rl=Object.defineProperty({},"passive",{get:function(){return Ol=!0,!0}});window.addEventListener("test",Rl,Rl),window.removeEventListener("test",Rl,Rl)}catch(MA){Ol=!1}var Il=!!Ol&&{passive:!1},Ml=function(e,t){if(!(e instanceof Element))return!1;var n=window.getComputedStyle(e);return"hidden"!==n[t]&&!(n.overflowY===n.overflowX&&!function(e){return"TEXTAREA"===e.tagName}(e)&&"visible"===n[t])},Fl=function(e,t){var n=t.ownerDocument,r=t;do{if("undefined"!==typeof ShadowRoot&&r instanceof ShadowRoot&&(r=r.host),Ll(e,r)){var o=Ul(e,r);if(o[1]>o[2])return!0}r=r.parentNode}while(r&&r!==n.body);return!1},Ll=function(e,t){return"v"===e?function(e){return Ml(e,"overflowY")}(t):function(e){return Ml(e,"overflowX")}(t)},Ul=function(e,t){return"v"===e?[(n=t).scrollTop,n.scrollHeight,n.clientHeight]:function(e){return[e.scrollLeft,e.scrollWidth,e.clientWidth]}(t);var n},zl=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},Bl=function(e){return[e.deltaX,e.deltaY]},ql=function(e){return e&&"current"in e?e.current:e},Vl=function(e){return"\n  .block-interactivity-".concat(e," {pointer-events: none;}\n  .allow-interactivity-").concat(e," {pointer-events: all;}\n")},Wl=0,Hl=[];function Kl(e){for(var t=null;null!==e;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const Gl=(Ql=function(e){var t=r.useRef([]),n=r.useRef([0,0]),o=r.useRef(),a=r.useState(Wl++)[0],i=r.useState(_l)[0],s=r.useRef(e);r.useEffect(function(){s.current=e},[e]),r.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(a));var t=(0,ll.__spreadArray)([e.lockRef.current],(e.shards||[]).map(ql),!0).filter(Boolean);return t.forEach(function(e){return e.classList.add("allow-interactivity-".concat(a))}),function(){document.body.classList.remove("block-interactivity-".concat(a)),t.forEach(function(e){return e.classList.remove("allow-interactivity-".concat(a))})}}},[e.inert,e.lockRef.current,e.shards]);var l=r.useCallback(function(e,t){if("touches"in e&&2===e.touches.length||"wheel"===e.type&&e.ctrlKey)return!s.current.allowPinchZoom;var r,a=zl(e),i=n.current,l="deltaX"in e?e.deltaX:i[0]-a[0],c="deltaY"in e?e.deltaY:i[1]-a[1],u=e.target,d=Math.abs(l)>Math.abs(c)?"h":"v";if("touches"in e&&"h"===d&&"range"===u.type)return!1;var h=Fl(d,u);if(!h)return!0;if(h?r=d:(r="v"===d?"h":"v",h=Fl(d,u)),!h)return!1;if(!o.current&&"changedTouches"in e&&(l||c)&&(o.current=r),!r)return!0;var f=o.current||r;return function(e,t,n,r,o){var a=function(e,t){return"h"===e&&"rtl"===t?-1:1}(e,window.getComputedStyle(t).direction),i=a*r,s=n.target,l=t.contains(s),c=!1,u=i>0,d=0,h=0;do{if(!s)break;var f=Ul(e,s),p=f[0],m=f[1]-f[2]-a*p;(p||m)&&Ll(e,s)&&(d+=m,h+=p);var g=s.parentNode;s=g&&g.nodeType===Node.DOCUMENT_FRAGMENT_NODE?g.host:g}while(!l&&s!==document.body||l&&(t.contains(s)||t===s));return(u&&(o&&Math.abs(d)<1||!o&&i>d)||!u&&(o&&Math.abs(h)<1||!o&&-i>h))&&(c=!0),c}(f,t,e,"h"===f?l:c,!0)},[]),c=r.useCallback(function(e){var n=e;if(Hl.length&&Hl[Hl.length-1]===i){var r="deltaY"in n?Bl(n):zl(n),o=t.current.filter(function(e){return e.name===n.type&&(e.target===n.target||n.target===e.shadowParent)&&(t=e.delta,o=r,t[0]===o[0]&&t[1]===o[1]);var t,o})[0];if(o&&o.should)n.cancelable&&n.preventDefault();else if(!o){var a=(s.current.shards||[]).map(ql).filter(Boolean).filter(function(e){return e.contains(n.target)});(a.length>0?l(n,a[0]):!s.current.noIsolation)&&n.cancelable&&n.preventDefault()}}},[]),u=r.useCallback(function(e,n,r,o){var a={name:e,delta:n,target:r,should:o,shadowParent:Kl(r)};t.current.push(a),setTimeout(function(){t.current=t.current.filter(function(e){return e!==a})},1)},[]),d=r.useCallback(function(e){n.current=zl(e),o.current=void 0},[]),h=r.useCallback(function(t){u(t.type,Bl(t),t.target,l(t,e.lockRef.current))},[]),f=r.useCallback(function(t){u(t.type,zl(t),t.target,l(t,e.lockRef.current))},[]);r.useEffect(function(){return Hl.push(i),e.setCallbacks({onScrollCapture:h,onWheelCapture:h,onTouchMoveCapture:f}),document.addEventListener("wheel",c,Il),document.addEventListener("touchmove",c,Il),document.addEventListener("touchstart",d,Il),function(){Hl=Hl.filter(function(e){return e!==i}),document.removeEventListener("wheel",c,Il),document.removeEventListener("touchmove",c,Il),document.removeEventListener("touchstart",d,Il)}},[]);var p=e.removeScrollBar,m=e.inert;return r.createElement(r.Fragment,null,m?r.createElement(i,{styles:Vl(a)}):null,p?r.createElement(Pl,{noRelative:e.noRelative,gapMode:e.gapMode}):null)},vl.useMedium(Ql),xl);var Ql,Yl=r.forwardRef(function(e,t){return r.createElement(bl,(0,ll.__assign)({},e,{ref:t,sideCar:Gl}))});Yl.classNames=bl.classNames;const $l=Yl,Xl=["__scopeMenu"],Jl=["forceMount"],Zl=["__scopeMenu","loop","trapFocus","onOpenAutoFocus","onCloseAutoFocus","disableOutsidePointerEvents","onEntryFocus","onEscapeKeyDown","onPointerDownOutside","onFocusOutside","onInteractOutside","onDismiss","disableOutsideScroll"],ec=["__scopeMenu"],tc=["__scopeMenu"],nc=["disabled","onSelect"],rc=["__scopeMenu","disabled","textValue"],oc=["checked","onCheckedChange"],ac=["value","onValueChange"],ic=["value"],sc=["__scopeMenu","forceMount"],lc=["__scopeMenu"],cc=["__scopeMenu"],uc=["forceMount"];var dc=["Enter"," "],hc=["ArrowUp","PageDown","End"],fc=["ArrowDown","PageUp","Home",...hc],pc={ltr:[...dc,"ArrowRight"],rtl:[...dc,"ArrowLeft"]},mc={ltr:["ArrowLeft"],rtl:["ArrowRight"]},gc="Menu",[vc,yc,bc]=No(gc),[wc,xc]=fo(gc,[bc,us,Vs]),Sc=us(),kc=Vs(),[_c,Ec]=wc(gc),[Cc,Ac]=wc(gc),jc=e=>{const{__scopeMenu:t,open:n=!1,children:o,dir:a,onOpenChange:i,modal:l=!0}=e,c=Sc(t),[u,d]=r.useState(null),h=r.useRef(!1),f=Mo(i),p=Io(a);return r.useEffect(()=>{const e=()=>{h.current=!0,document.addEventListener("pointerdown",t,{capture:!0,once:!0}),document.addEventListener("pointermove",t,{capture:!0,once:!0})},t=()=>h.current=!1;return document.addEventListener("keydown",e,{capture:!0}),()=>{document.removeEventListener("keydown",e,{capture:!0}),document.removeEventListener("pointerdown",t,{capture:!0}),document.removeEventListener("pointermove",t,{capture:!0})}},[]),(0,kt.jsx)(Cs,(0,s.A)((0,s.A)({},c),{},{children:(0,kt.jsx)(_c,{scope:t,open:n,onOpenChange:f,content:u,onContentChange:d,children:(0,kt.jsx)(Cc,{scope:t,onClose:r.useCallback(()=>f(!1),[f]),isUsingKeyboardRef:h,dir:p,modal:l,children:o})})}))};jc.displayName=gc;var Tc=r.forwardRef((e,t)=>{const{__scopeMenu:n}=e,r=i(e,Xl),o=Sc(n);return(0,kt.jsx)(As,(0,s.A)((0,s.A)((0,s.A)({},o),r),{},{ref:t}))});Tc.displayName="MenuAnchor";var Nc="MenuPortal",[Dc,Pc]=wc(Nc,{forceMount:void 0}),Oc=e=>{const{__scopeMenu:t,forceMount:n,children:r,container:o}=e,a=Ec(Nc,t);return(0,kt.jsx)(Dc,{scope:t,forceMount:n,children:(0,kt.jsx)(Ps,{present:n||a.open,children:(0,kt.jsx)(Ds,{asChild:!0,container:o,children:r})})})};Oc.displayName=Nc;var Rc="MenuContent",[Ic,Mc]=wc(Rc),Fc=r.forwardRef((e,t)=>{const n=Pc(Rc,e.__scopeMenu),{forceMount:r=n.forceMount}=e,o=i(e,Jl),a=Ec(Rc,e.__scopeMenu),l=Ac(Rc,e.__scopeMenu);return(0,kt.jsx)(vc.Provider,{scope:e.__scopeMenu,children:(0,kt.jsx)(Ps,{present:r||a.open,children:(0,kt.jsx)(vc.Slot,{scope:e.__scopeMenu,children:l.modal?(0,kt.jsx)(Lc,(0,s.A)((0,s.A)({},o),{},{ref:t})):(0,kt.jsx)(Uc,(0,s.A)((0,s.A)({},o),{},{ref:t}))})})})}),Lc=r.forwardRef((e,t)=>{const n=Ec(Rc,e.__scopeMenu),o=r.useRef(null),a=co(t,o);return r.useEffect(()=>{const e=o.current;if(e)return sl(e)},[]),(0,kt.jsx)(Bc,(0,s.A)((0,s.A)({},e),{},{ref:a,trapFocus:n.open,disableOutsidePointerEvents:n.open,disableOutsideScroll:!0,onFocusOutside:io(e.onFocusOutside,e=>e.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>n.onOpenChange(!1)}))}),Uc=r.forwardRef((e,t)=>{const n=Ec(Rc,e.__scopeMenu);return(0,kt.jsx)(Bc,(0,s.A)((0,s.A)({},e),{},{ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>n.onOpenChange(!1)}))}),zc=xo("MenuContent.ScrollLock"),Bc=r.forwardRef((e,t)=>{const{__scopeMenu:n,loop:o=!1,trapFocus:a,onOpenAutoFocus:l,onCloseAutoFocus:c,disableOutsidePointerEvents:u,onEntryFocus:d,onEscapeKeyDown:h,onPointerDownOutside:f,onFocusOutside:p,onInteractOutside:m,onDismiss:g,disableOutsideScroll:v}=e,y=i(e,Zl),b=Ec(Rc,n),w=Ac(Rc,n),x=Sc(n),S=kc(n),k=yc(n),[_,E]=r.useState(null),C=r.useRef(null),A=co(t,C,b.onContentChange),j=r.useRef(0),T=r.useRef(""),N=r.useRef(0),D=r.useRef(null),P=r.useRef("right"),O=r.useRef(0),R=v?$l:r.Fragment,I=v?{as:zc,allowPinchZoom:!0}:void 0,M=e=>{var t,n;const r=T.current+e,o=k().filter(e=>!e.disabled),a=document.activeElement,i=null===(t=o.find(e=>e.ref.current===a))||void 0===t?void 0:t.textValue,s=function(e,t,n){const r=t.length>1&&Array.from(t).every(e=>e===t[0]),o=r?t[0]:t,a=n?e.indexOf(n):-1;let i=(s=e,l=Math.max(a,0),s.map((e,t)=>s[(l+t)%s.length]));var s,l;1===o.length&&(i=i.filter(e=>e!==n));const c=i.find(e=>e.toLowerCase().startsWith(o.toLowerCase()));return c!==n?c:void 0}(o.map(e=>e.textValue),r,i),l=null===(n=o.find(e=>e.textValue===s))||void 0===n?void 0:n.ref.current;!function e(t){T.current=t,window.clearTimeout(j.current),""!==t&&(j.current=window.setTimeout(()=>e(""),1e3))}(r),l&&setTimeout(()=>l.focus())};r.useEffect(()=>()=>window.clearTimeout(j.current),[]),Qo();const F=r.useCallback(e=>{var t,n;return P.current===(null===(t=D.current)||void 0===t?void 0:t.side)&&function(e,t){if(!t)return!1;const n={x:e.clientX,y:e.clientY};return function(e,t){const{x:n,y:r}=e;let o=!1;for(let a=0,i=t.length-1;a<t.length;i=a++){const e=t[a],s=t[i],l=e.x,c=e.y,u=s.x,d=s.y;c>r!==d>r&&n<(u-l)*(r-c)/(d-c)+l&&(o=!o)}return o}(n,t)}(e,null===(n=D.current)||void 0===n?void 0:n.area)},[]);return(0,kt.jsx)(Ic,{scope:n,searchRef:T,onItemEnter:r.useCallback(e=>{F(e)&&e.preventDefault()},[F]),onItemLeave:r.useCallback(e=>{var t;F(e)||(null===(t=C.current)||void 0===t||t.focus(),E(null))},[F]),onTriggerLeave:r.useCallback(e=>{F(e)&&e.preventDefault()},[F]),pointerGraceTimerRef:N,onPointerGraceIntentChange:r.useCallback(e=>{D.current=e},[]),children:(0,kt.jsx)(R,(0,s.A)((0,s.A)({},I),{},{children:(0,kt.jsx)(ea,{asChild:!0,trapped:a,onMountAutoFocus:io(l,e=>{var t;e.preventDefault(),null===(t=C.current)||void 0===t||t.focus({preventScroll:!0})}),onUnmountAutoFocus:c,children:(0,kt.jsx)(Vo,{asChild:!0,disableOutsidePointerEvents:u,onEscapeKeyDown:h,onPointerDownOutside:f,onFocusOutside:p,onInteractOutside:m,onDismiss:g,children:(0,kt.jsx)(Js,(0,s.A)((0,s.A)({asChild:!0},S),{},{dir:w.dir,orientation:"vertical",loop:o,currentTabStopId:_,onCurrentTabStopIdChange:E,onEntryFocus:io(d,e=>{w.isUsingKeyboardRef.current||e.preventDefault()}),preventScrollOnEntryFocus:!0,children:(0,kt.jsx)(js,(0,s.A)((0,s.A)((0,s.A)({role:"menu","aria-orientation":"vertical","data-state":mu(b.open),"data-radix-menu-content":"",dir:w.dir},x),y),{},{ref:A,style:(0,s.A)({outline:"none"},y.style),onKeyDown:io(y.onKeyDown,e=>{const t=e.target.closest("[data-radix-menu-content]")===e.currentTarget,n=e.ctrlKey||e.altKey||e.metaKey,r=1===e.key.length;t&&("Tab"===e.key&&e.preventDefault(),!n&&r&&M(e.key));const o=C.current;if(e.target!==o)return;if(!fc.includes(e.key))return;e.preventDefault();const a=k().filter(e=>!e.disabled).map(e=>e.ref.current);hc.includes(e.key)&&a.reverse(),function(e){const t=document.activeElement;for(const n of e){if(n===t)return;if(n.focus(),document.activeElement!==t)return}}(a)}),onBlur:io(e.onBlur,e=>{e.currentTarget.contains(e.target)||(window.clearTimeout(j.current),T.current="")}),onPointerMove:io(e.onPointerMove,yu(e=>{const t=e.target,n=O.current!==e.clientX;if(e.currentTarget.contains(t)&&n){const t=e.clientX>O.current?"right":"left";P.current=t,O.current=e.clientX}}))}))}))})})}))})});Fc.displayName=Rc;var qc=r.forwardRef((e,t)=>{const{__scopeMenu:n}=e,r=i(e,ec);return(0,kt.jsx)(Co.div,(0,s.A)((0,s.A)({role:"group"},r),{},{ref:t}))});qc.displayName="MenuGroup";var Vc=r.forwardRef((e,t)=>{const{__scopeMenu:n}=e,r=i(e,tc);return(0,kt.jsx)(Co.div,(0,s.A)((0,s.A)({},r),{},{ref:t}))});Vc.displayName="MenuLabel";var Wc="MenuItem",Hc="menu.itemSelect",Kc=r.forwardRef((e,t)=>{const{disabled:n=!1,onSelect:o}=e,a=i(e,nc),l=r.useRef(null),c=Ac(Wc,e.__scopeMenu),u=Mc(Wc,e.__scopeMenu),d=co(t,l),h=r.useRef(!1);return(0,kt.jsx)(Gc,(0,s.A)((0,s.A)({},a),{},{ref:d,disabled:n,onClick:io(e.onClick,()=>{const e=l.current;if(!n&&e){const t=new CustomEvent(Hc,{bubbles:!0,cancelable:!0});e.addEventListener(Hc,e=>null===o||void 0===o?void 0:o(e),{once:!0}),Ao(e,t),t.defaultPrevented?h.current=!1:c.onClose()}}),onPointerDown:t=>{var n;null===(n=e.onPointerDown)||void 0===n||n.call(e,t),h.current=!0},onPointerUp:io(e.onPointerUp,e=>{var t;h.current||null===(t=e.currentTarget)||void 0===t||t.click()}),onKeyDown:io(e.onKeyDown,e=>{const t=""!==u.searchRef.current;n||t&&" "===e.key||dc.includes(e.key)&&(e.currentTarget.click(),e.preventDefault())})}))});Kc.displayName=Wc;var Gc=r.forwardRef((e,t)=>{const{__scopeMenu:n,disabled:o=!1,textValue:a}=e,l=i(e,rc),c=Mc(Wc,n),u=kc(n),d=r.useRef(null),h=co(t,d),[f,p]=r.useState(!1),[m,g]=r.useState("");return r.useEffect(()=>{const e=d.current;var t;e&&g((null!==(t=e.textContent)&&void 0!==t?t:"").trim())},[l.children]),(0,kt.jsx)(vc.ItemSlot,{scope:n,disabled:o,textValue:null!==a&&void 0!==a?a:m,children:(0,kt.jsx)(Zs,(0,s.A)((0,s.A)({asChild:!0},u),{},{focusable:!o,children:(0,kt.jsx)(Co.div,(0,s.A)((0,s.A)({role:"menuitem","data-highlighted":f?"":void 0,"aria-disabled":o||void 0,"data-disabled":o?"":void 0},l),{},{ref:h,onPointerMove:io(e.onPointerMove,yu(e=>{if(o)c.onItemLeave(e);else if(c.onItemEnter(e),!e.defaultPrevented){e.currentTarget.focus({preventScroll:!0})}})),onPointerLeave:io(e.onPointerLeave,yu(e=>c.onItemLeave(e))),onFocus:io(e.onFocus,()=>p(!0)),onBlur:io(e.onBlur,()=>p(!1))}))}))})}),Qc=r.forwardRef((e,t)=>{const{checked:n=!1,onCheckedChange:r}=e,o=i(e,oc);return(0,kt.jsx)(nu,{scope:e.__scopeMenu,checked:n,children:(0,kt.jsx)(Kc,(0,s.A)((0,s.A)({role:"menuitemcheckbox","aria-checked":gu(n)?"mixed":n},o),{},{ref:t,"data-state":vu(n),onSelect:io(o.onSelect,()=>null===r||void 0===r?void 0:r(!!gu(n)||!n),{checkForDefaultPrevented:!1})}))})});Qc.displayName="MenuCheckboxItem";var Yc="MenuRadioGroup",[$c,Xc]=wc(Yc,{value:void 0,onValueChange:()=>{}}),Jc=r.forwardRef((e,t)=>{const{value:n,onValueChange:r}=e,o=i(e,ac),a=Mo(r);return(0,kt.jsx)($c,{scope:e.__scopeMenu,value:n,onValueChange:a,children:(0,kt.jsx)(qc,(0,s.A)((0,s.A)({},o),{},{ref:t}))})});Jc.displayName=Yc;var Zc="MenuRadioItem",eu=r.forwardRef((e,t)=>{const{value:n}=e,r=i(e,ic),o=Xc(Zc,e.__scopeMenu),a=n===o.value;return(0,kt.jsx)(nu,{scope:e.__scopeMenu,checked:a,children:(0,kt.jsx)(Kc,(0,s.A)((0,s.A)({role:"menuitemradio","aria-checked":a},r),{},{ref:t,"data-state":vu(a),onSelect:io(r.onSelect,()=>{var e;return null===(e=o.onValueChange)||void 0===e?void 0:e.call(o,n)},{checkForDefaultPrevented:!1})}))})});eu.displayName=Zc;var tu="MenuItemIndicator",[nu,ru]=wc(tu,{checked:!1}),ou=r.forwardRef((e,t)=>{const{__scopeMenu:n,forceMount:r}=e,o=i(e,sc),a=ru(tu,n);return(0,kt.jsx)(Ps,{present:r||gu(a.checked)||!0===a.checked,children:(0,kt.jsx)(Co.span,(0,s.A)((0,s.A)({},o),{},{ref:t,"data-state":vu(a.checked)}))})});ou.displayName=tu;var au=r.forwardRef((e,t)=>{const{__scopeMenu:n}=e,r=i(e,lc);return(0,kt.jsx)(Co.div,(0,s.A)((0,s.A)({role:"separator","aria-orientation":"horizontal"},r),{},{ref:t}))});au.displayName="MenuSeparator";var iu=r.forwardRef((e,t)=>{const{__scopeMenu:n}=e,r=i(e,cc),o=Sc(n);return(0,kt.jsx)(Ts,(0,s.A)((0,s.A)((0,s.A)({},o),r),{},{ref:t}))});iu.displayName="MenuArrow";var su="MenuSub",[lu,cu]=wc(su),uu=e=>{const{__scopeMenu:t,children:n,open:o=!1,onOpenChange:a}=e,i=Ec(su,t),l=Sc(t),[c,u]=r.useState(null),[d,h]=r.useState(null),f=Mo(a);return r.useEffect(()=>(!1===i.open&&f(!1),()=>f(!1)),[i.open,f]),(0,kt.jsx)(Cs,(0,s.A)((0,s.A)({},l),{},{children:(0,kt.jsx)(_c,{scope:t,open:o,onOpenChange:f,content:d,onContentChange:h,children:(0,kt.jsx)(lu,{scope:t,contentId:ca(),triggerId:ca(),trigger:c,onTriggerChange:u,children:n})})}))};uu.displayName=su;var du="MenuSubTrigger",hu=r.forwardRef((e,t)=>{const n=Ec(du,e.__scopeMenu),o=Ac(du,e.__scopeMenu),a=cu(du,e.__scopeMenu),i=Mc(du,e.__scopeMenu),l=r.useRef(null),{pointerGraceTimerRef:c,onPointerGraceIntentChange:u}=i,d={__scopeMenu:e.__scopeMenu},h=r.useCallback(()=>{l.current&&window.clearTimeout(l.current),l.current=null},[]);return r.useEffect(()=>h,[h]),r.useEffect(()=>{const e=c.current;return()=>{window.clearTimeout(e),u(null)}},[c,u]),(0,kt.jsx)(Tc,(0,s.A)((0,s.A)({asChild:!0},d),{},{children:(0,kt.jsx)(Gc,(0,s.A)((0,s.A)({id:a.triggerId,"aria-haspopup":"menu","aria-expanded":n.open,"aria-controls":a.contentId,"data-state":mu(n.open)},e),{},{ref:lo(t,a.onTriggerChange),onClick:t=>{var r;null===(r=e.onClick)||void 0===r||r.call(e,t),e.disabled||t.defaultPrevented||(t.currentTarget.focus(),n.open||n.onOpenChange(!0))},onPointerMove:io(e.onPointerMove,yu(t=>{i.onItemEnter(t),t.defaultPrevented||e.disabled||n.open||l.current||(i.onPointerGraceIntentChange(null),l.current=window.setTimeout(()=>{n.onOpenChange(!0),h()},100))})),onPointerLeave:io(e.onPointerLeave,yu(e=>{var t;h();const r=null===(t=n.content)||void 0===t?void 0:t.getBoundingClientRect();if(r){var o;const t=null===(o=n.content)||void 0===o?void 0:o.dataset.side,a="right"===t,s=a?-5:5,l=r[a?"left":"right"],u=r[a?"right":"left"];i.onPointerGraceIntentChange({area:[{x:e.clientX+s,y:e.clientY},{x:l,y:r.top},{x:u,y:r.top},{x:u,y:r.bottom},{x:l,y:r.bottom}],side:t}),window.clearTimeout(c.current),c.current=window.setTimeout(()=>i.onPointerGraceIntentChange(null),300)}else{if(i.onTriggerLeave(e),e.defaultPrevented)return;i.onPointerGraceIntentChange(null)}})),onKeyDown:io(e.onKeyDown,t=>{const r=""!==i.searchRef.current;var a;e.disabled||r&&" "===t.key||pc[o.dir].includes(t.key)&&(n.onOpenChange(!0),null===(a=n.content)||void 0===a||a.focus(),t.preventDefault())})}))}))});hu.displayName=du;var fu="MenuSubContent",pu=r.forwardRef((e,t)=>{const n=Pc(Rc,e.__scopeMenu),{forceMount:o=n.forceMount}=e,a=i(e,uc),l=Ec(Rc,e.__scopeMenu),c=Ac(Rc,e.__scopeMenu),u=cu(fu,e.__scopeMenu),d=r.useRef(null),h=co(t,d);return(0,kt.jsx)(vc.Provider,{scope:e.__scopeMenu,children:(0,kt.jsx)(Ps,{present:o||l.open,children:(0,kt.jsx)(vc.Slot,{scope:e.__scopeMenu,children:(0,kt.jsx)(Bc,(0,s.A)((0,s.A)({id:u.contentId,"aria-labelledby":u.triggerId},a),{},{ref:h,align:"start",side:"rtl"===c.dir?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:e=>{var t;c.isUsingKeyboardRef.current&&(null===(t=d.current)||void 0===t||t.focus()),e.preventDefault()},onCloseAutoFocus:e=>e.preventDefault(),onFocusOutside:io(e.onFocusOutside,e=>{e.target!==u.trigger&&l.onOpenChange(!1)}),onEscapeKeyDown:io(e.onEscapeKeyDown,e=>{c.onClose(),e.preventDefault()}),onKeyDown:io(e.onKeyDown,e=>{const t=e.currentTarget.contains(e.target),n=mc[c.dir].includes(e.key);var r;t&&n&&(l.onOpenChange(!1),null===(r=u.trigger)||void 0===r||r.focus(),e.preventDefault())})}))})})})});function mu(e){return e?"open":"closed"}function gu(e){return"indeterminate"===e}function vu(e){return gu(e)?"indeterminate":e?"checked":"unchecked"}function yu(e){return t=>"mouse"===t.pointerType?e(t):void 0}pu.displayName=fu;var bu=jc,wu=Tc,xu=Oc,Su=Fc,ku=qc,_u=Vc,Eu=Kc,Cu=Qc,Au=Jc,ju=eu,Tu=ou,Nu=au,Du=iu,Pu=hu,Ou=pu;const Ru=["__scopeDropdownMenu","disabled"],Iu=["__scopeDropdownMenu"],Mu=["__scopeDropdownMenu"],Fu=["__scopeDropdownMenu"],Lu=["__scopeDropdownMenu"],Uu=["__scopeDropdownMenu"],zu=["__scopeDropdownMenu"],Bu=["__scopeDropdownMenu"],qu=["__scopeDropdownMenu"],Vu=["__scopeDropdownMenu"],Wu=["__scopeDropdownMenu"],Hu=["__scopeDropdownMenu"],Ku=["__scopeDropdownMenu"],Gu=["__scopeDropdownMenu"];var Qu="DropdownMenu",[Yu,$u]=fo(Qu,[xc]),Xu=xc(),[Ju,Zu]=Yu(Qu),ed=e=>{const{__scopeDropdownMenu:t,children:n,dir:o,open:a,defaultOpen:i,onOpenChange:l,modal:c=!0}=e,u=Xu(t),d=r.useRef(null),[h,f]=vo({prop:a,defaultProp:null!==i&&void 0!==i&&i,onChange:l,caller:Qu});return(0,kt.jsx)(Ju,{scope:t,triggerId:ca(),triggerRef:d,contentId:ca(),open:h,onOpenChange:f,onOpenToggle:r.useCallback(()=>f(e=>!e),[f]),modal:c,children:(0,kt.jsx)(bu,(0,s.A)((0,s.A)({},u),{},{open:h,onOpenChange:f,dir:o,modal:c,children:n}))})};ed.displayName=Qu;var td="DropdownMenuTrigger",nd=r.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,disabled:r=!1}=e,o=i(e,Ru),a=Zu(td,n),l=Xu(n);return(0,kt.jsx)(wu,(0,s.A)((0,s.A)({asChild:!0},l),{},{children:(0,kt.jsx)(Co.button,(0,s.A)((0,s.A)({type:"button",id:a.triggerId,"aria-haspopup":"menu","aria-expanded":a.open,"aria-controls":a.open?a.contentId:void 0,"data-state":a.open?"open":"closed","data-disabled":r?"":void 0,disabled:r},o),{},{ref:lo(t,a.triggerRef),onPointerDown:io(e.onPointerDown,e=>{r||0!==e.button||!1!==e.ctrlKey||(a.onOpenToggle(),a.open||e.preventDefault())}),onKeyDown:io(e.onKeyDown,e=>{r||(["Enter"," "].includes(e.key)&&a.onOpenToggle(),"ArrowDown"===e.key&&a.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(e.key)&&e.preventDefault())})}))}))});nd.displayName=td;var rd=e=>{const{__scopeDropdownMenu:t}=e,n=i(e,Iu),r=Xu(t);return(0,kt.jsx)(xu,(0,s.A)((0,s.A)({},r),n))};rd.displayName="DropdownMenuPortal";var od="DropdownMenuContent",ad=r.forwardRef((e,t)=>{const{__scopeDropdownMenu:n}=e,o=i(e,Mu),a=Zu(od,n),l=Xu(n),c=r.useRef(!1);return(0,kt.jsx)(Su,(0,s.A)((0,s.A)((0,s.A)({id:a.contentId,"aria-labelledby":a.triggerId},l),o),{},{ref:t,onCloseAutoFocus:io(e.onCloseAutoFocus,e=>{var t;c.current||null===(t=a.triggerRef.current)||void 0===t||t.focus(),c.current=!1,e.preventDefault()}),onInteractOutside:io(e.onInteractOutside,e=>{const t=e.detail.originalEvent,n=0===t.button&&!0===t.ctrlKey,r=2===t.button||n;a.modal&&!r||(c.current=!0)}),style:(0,s.A)((0,s.A)({},e.style),{"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"})}))});ad.displayName=od;var id=r.forwardRef((e,t)=>{const{__scopeDropdownMenu:n}=e,r=i(e,Fu),o=Xu(n);return(0,kt.jsx)(ku,(0,s.A)((0,s.A)((0,s.A)({},o),r),{},{ref:t}))});id.displayName="DropdownMenuGroup";var sd=r.forwardRef((e,t)=>{const{__scopeDropdownMenu:n}=e,r=i(e,Lu),o=Xu(n);return(0,kt.jsx)(_u,(0,s.A)((0,s.A)((0,s.A)({},o),r),{},{ref:t}))});sd.displayName="DropdownMenuLabel";var ld=r.forwardRef((e,t)=>{const{__scopeDropdownMenu:n}=e,r=i(e,Uu),o=Xu(n);return(0,kt.jsx)(Eu,(0,s.A)((0,s.A)((0,s.A)({},o),r),{},{ref:t}))});ld.displayName="DropdownMenuItem";var cd=r.forwardRef((e,t)=>{const{__scopeDropdownMenu:n}=e,r=i(e,zu),o=Xu(n);return(0,kt.jsx)(Cu,(0,s.A)((0,s.A)((0,s.A)({},o),r),{},{ref:t}))});cd.displayName="DropdownMenuCheckboxItem";var ud=r.forwardRef((e,t)=>{const{__scopeDropdownMenu:n}=e,r=i(e,Bu),o=Xu(n);return(0,kt.jsx)(Au,(0,s.A)((0,s.A)((0,s.A)({},o),r),{},{ref:t}))});ud.displayName="DropdownMenuRadioGroup";var dd=r.forwardRef((e,t)=>{const{__scopeDropdownMenu:n}=e,r=i(e,qu),o=Xu(n);return(0,kt.jsx)(ju,(0,s.A)((0,s.A)((0,s.A)({},o),r),{},{ref:t}))});dd.displayName="DropdownMenuRadioItem";var hd=r.forwardRef((e,t)=>{const{__scopeDropdownMenu:n}=e,r=i(e,Vu),o=Xu(n);return(0,kt.jsx)(Tu,(0,s.A)((0,s.A)((0,s.A)({},o),r),{},{ref:t}))});hd.displayName="DropdownMenuItemIndicator";var fd=r.forwardRef((e,t)=>{const{__scopeDropdownMenu:n}=e,r=i(e,Wu),o=Xu(n);return(0,kt.jsx)(Nu,(0,s.A)((0,s.A)((0,s.A)({},o),r),{},{ref:t}))});fd.displayName="DropdownMenuSeparator";var pd=r.forwardRef((e,t)=>{const{__scopeDropdownMenu:n}=e,r=i(e,Hu),o=Xu(n);return(0,kt.jsx)(Du,(0,s.A)((0,s.A)((0,s.A)({},o),r),{},{ref:t}))});pd.displayName="DropdownMenuArrow";var md=r.forwardRef((e,t)=>{const{__scopeDropdownMenu:n}=e,r=i(e,Ku),o=Xu(n);return(0,kt.jsx)(Pu,(0,s.A)((0,s.A)((0,s.A)({},o),r),{},{ref:t}))});md.displayName="DropdownMenuSubTrigger";var gd=r.forwardRef((e,t)=>{const{__scopeDropdownMenu:n}=e,r=i(e,Gu),o=Xu(n);return(0,kt.jsx)(Ou,(0,s.A)((0,s.A)((0,s.A)({},o),r),{},{ref:t,style:(0,s.A)((0,s.A)({},e.style),{"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"})}))});gd.displayName="DropdownMenuSubContent";var vd=rd,yd=ad,bd=fd;const wd=["className"],xd=ed,Sd=nd,kd=r.forwardRef((e,t)=>{let{className:n}=e,r=i(e,wd);return(0,kt.jsx)(vd,{children:(0,kt.jsx)(yd,(0,s.A)({ref:t,className:"z-50 min-w-[8rem] rounded-md border border-gray-700 bg-gray-900 p-2 shadow-md ".concat(n)},r))})});kd.displayName="DropdownMenuContent";const _d=bd,Ed=["__scopeTabs","value","onValueChange","defaultValue","orientation","dir","activationMode"],Cd=["__scopeTabs","loop"],Ad=["__scopeTabs","value","disabled"],jd=["__scopeTabs","value","forceMount","children"];var Td="Tabs",[Nd,Dd]=fo(Td,[Vs]),Pd=Vs(),[Od,Rd]=Nd(Td),Id=r.forwardRef((e,t)=>{const{__scopeTabs:n,value:r,onValueChange:o,defaultValue:a,orientation:l="horizontal",dir:c,activationMode:u="automatic"}=e,d=i(e,Ed),h=Io(c),[f,p]=vo({prop:r,onChange:o,defaultProp:null!==a&&void 0!==a?a:"",caller:Td});return(0,kt.jsx)(Od,{scope:n,baseId:ca(),value:f,onValueChange:p,orientation:l,dir:h,activationMode:u,children:(0,kt.jsx)(Co.div,(0,s.A)((0,s.A)({dir:h,"data-orientation":l},d),{},{ref:t}))})});Id.displayName=Td;var Md="TabsList",Fd=r.forwardRef((e,t)=>{const{__scopeTabs:n,loop:r=!0}=e,o=i(e,Cd),a=Rd(Md,n),l=Pd(n);return(0,kt.jsx)(Js,(0,s.A)((0,s.A)({asChild:!0},l),{},{orientation:a.orientation,dir:a.dir,loop:r,children:(0,kt.jsx)(Co.div,(0,s.A)((0,s.A)({role:"tablist","aria-orientation":a.orientation},o),{},{ref:t}))}))});Fd.displayName=Md;var Ld="TabsTrigger",Ud=r.forwardRef((e,t)=>{const{__scopeTabs:n,value:r,disabled:o=!1}=e,a=i(e,Ad),l=Rd(Ld,n),c=Pd(n),u=qd(l.baseId,r),d=Vd(l.baseId,r),h=r===l.value;return(0,kt.jsx)(Zs,(0,s.A)((0,s.A)({asChild:!0},c),{},{focusable:!o,active:h,children:(0,kt.jsx)(Co.button,(0,s.A)((0,s.A)({type:"button",role:"tab","aria-selected":h,"aria-controls":d,"data-state":h?"active":"inactive","data-disabled":o?"":void 0,disabled:o,id:u},a),{},{ref:t,onMouseDown:io(e.onMouseDown,e=>{o||0!==e.button||!1!==e.ctrlKey?e.preventDefault():l.onValueChange(r)}),onKeyDown:io(e.onKeyDown,e=>{[" ","Enter"].includes(e.key)&&l.onValueChange(r)}),onFocus:io(e.onFocus,()=>{const e="manual"!==l.activationMode;h||o||!e||l.onValueChange(r)})}))}))});Ud.displayName=Ld;var zd="TabsContent",Bd=r.forwardRef((e,t)=>{const{__scopeTabs:n,value:o,forceMount:a,children:l}=e,c=i(e,jd),u=Rd(zd,n),d=qd(u.baseId,o),h=Vd(u.baseId,o),f=o===u.value,p=r.useRef(f);return r.useEffect(()=>{const e=requestAnimationFrame(()=>p.current=!1);return()=>cancelAnimationFrame(e)},[]),(0,kt.jsx)(Ps,{present:a||f,children:n=>{let{present:r}=n;return(0,kt.jsx)(Co.div,(0,s.A)((0,s.A)({"data-state":f?"active":"inactive","data-orientation":u.orientation,role:"tabpanel","aria-labelledby":d,hidden:!r,id:h,tabIndex:0},c),{},{ref:t,style:(0,s.A)((0,s.A)({},e.style),{},{animationDuration:p.current?"0s":void 0}),children:r&&l}))}})});function qd(e,t){return"".concat(e,"-trigger-").concat(t)}function Vd(e,t){return"".concat(e,"-content-").concat(t)}Bd.displayName=zd;var Wd=Fd,Hd=Ud,Kd=Bd;const Gd=["className"],Qd=["className"],Yd=["className"],$d=Id,Xd=r.forwardRef((e,t)=>{let{className:n}=e,r=i(e,Gd);return(0,kt.jsx)(Wd,(0,s.A)({ref:t,className:to("inline-flex items-center justify-center rounded-md bg-gray-800 p-1 text-gray-400",n)},r))});Xd.displayName="TabsList";const Jd=r.forwardRef((e,t)=>{let{className:n}=e,r=i(e,Qd);return(0,kt.jsx)(Hd,(0,s.A)({ref:t,className:to("px-3 py-1.5 text-sm font-medium rounded-md transition-all","data-[state=active]:bg-gray-900 data-[state=active]:text-white",n)},r))});Jd.displayName="TabsTrigger";const Zd=r.forwardRef((e,t)=>{let{className:n}=e,r=i(e,Yd);return(0,kt.jsx)(Kd,(0,s.A)({ref:t,className:to("mt-2 focus:outline-none",n)},r))});Zd.displayName="TabsContent";const eh=["children","variant","size","className"],th=e=>{let{children:t,variant:n="default",size:r="default",className:o}=e,a=i(e,eh);return(0,kt.jsx)("button",(0,s.A)((0,s.A)({className:to("inline-flex items-center justify-center rounded-lg font-medium transition-colors focus:outline-none focus:ring-2 focus:ring-offset-2",{default:"bg-blue-600 text-white hover:bg-blue-700",ghost:"bg-transparent hover:bg-gray-800 text-white",outline:"border border-gray-700 text-white hover:bg-gray-800"}[n],{default:"px-4 py-2 text-sm",icon:"p-2"}[r],o)},a),{},{children:t}))},nh=["className"],rh=r.forwardRef((e,t)=>{let{className:n}=e,r=i(e,nh);return(0,kt.jsx)("input",(0,s.A)({ref:t,className:to("border rounded-md px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-orange-400 focus:border-orange-500 disabled:opacity-50 disabled:cursor-not-allowed",n)},r))});rh.displayName="Input";const oh=["className"],ah=r.forwardRef((e,t)=>{let{className:n}=e,r=i(e,oh);return(0,kt.jsx)("label",(0,s.A)({ref:t,className:to("text-sm font-medium text-gray-200 peer-disabled:cursor-not-allowed peer-disabled:opacity-70",n)},r))});ah.displayName="Label";const ih=["className"],sh=r.forwardRef((e,t)=>{let{className:n}=e,r=i(e,ih);return(0,kt.jsx)("div",(0,s.A)({ref:t,className:to("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",n)},r))});sh.displayName="Avatar";const lh=e=>{let{children:t}=e;return(0,kt.jsx)("span",{className:"flex h-full w-full items-center justify-center bg-gray-700 text-sm text-white",children:t})},ch=$r("user",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]),uh=$r("users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]]),dh=$r("message-square",[["path",{d:"M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z",key:"18887p"}]]),hh=$r("check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]),fh=$r("copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]),ph=$r("square-pen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]),mh=$r("user-plus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]),gh=$r("log-out",[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]]),vh=(0,r.createContext)({});function yh(e){const t=(0,r.useRef)(null);return null===t.current&&(t.current=e()),t.current}const bh="undefined"!==typeof window,wh=bh?r.useLayoutEffect:r.useEffect,xh=(0,r.createContext)(null);function Sh(e){return"object"===typeof e&&null!==e}function kh(e){return Sh(e)&&"offsetHeight"in e}const _h=(0,r.createContext)({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"});function Eh(e,t){if("function"===typeof e)return e(t);null!==e&&void 0!==e&&(e.current=t)}function Ch(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return r.useCallback(function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return e=>{let n=!1;const r=t.map(t=>{const r=Eh(t,e);return n||"function"!==typeof r||(n=!0),r});if(n)return()=>{for(let e=0;e<r.length;e++){const n=r[e];"function"===typeof n?n():Eh(t[e],null)}}}}(...t),t)}class Ah extends r.Component{getSnapshotBeforeUpdate(e){const t=this.props.childRef.current;if(t&&e.isPresent&&!this.props.isPresent){const e=t.offsetParent,n=kh(e)&&e.offsetWidth||0,r=this.props.sizeRef.current;r.height=t.offsetHeight||0,r.width=t.offsetWidth||0,r.top=t.offsetTop,r.left=t.offsetLeft,r.right=n-r.width-r.left}return null}componentDidUpdate(){}render(){return this.props.children}}function jh(e){let{children:t,isPresent:n,anchorX:o,root:a}=e;const i=(0,r.useId)(),s=(0,r.useRef)(null),l=(0,r.useRef)({width:0,height:0,top:0,left:0,right:0}),{nonce:c}=(0,r.useContext)(_h),u=Ch(s,null===t||void 0===t?void 0:t.ref);return(0,r.useInsertionEffect)(()=>{const{width:e,height:t,top:r,left:u,right:d}=l.current;if(n||!s.current||!e||!t)return;const h="left"===o?"left: ".concat(u):"right: ".concat(d);s.current.dataset.motionPopId=i;const f=document.createElement("style");c&&(f.nonce=c);const p=null!==a&&void 0!==a?a:document.head;return p.appendChild(f),f.sheet&&f.sheet.insertRule('\n          [data-motion-pop-id="'.concat(i,'"] {\n            position: absolute !important;\n            width: ').concat(e,"px !important;\n            height: ").concat(t,"px !important;\n            ").concat(h,"px !important;\n            top: ").concat(r,"px !important;\n          }\n        ")),()=>{p.contains(f)&&p.removeChild(f)}},[n]),(0,kt.jsx)(Ah,{isPresent:n,childRef:s,sizeRef:l,children:r.cloneElement(t,{ref:u})})}const Th=e=>{let{children:t,initial:n,isPresent:o,onExitComplete:a,custom:i,presenceAffectsLayout:l,mode:c,anchorX:u,root:d}=e;const h=yh(Nh),f=(0,r.useId)();let p=!0,m=(0,r.useMemo)(()=>(p=!1,{id:f,initial:n,isPresent:o,custom:i,onExitComplete:e=>{h.set(e,!0);for(const t of h.values())if(!t)return;a&&a()},register:e=>(h.set(e,!1),()=>h.delete(e))}),[o,h,a]);return l&&p&&(m=(0,s.A)({},m)),(0,r.useMemo)(()=>{h.forEach((e,t)=>h.set(t,!1))},[o]),r.useEffect(()=>{!o&&!h.size&&a&&a()},[o]),"popLayout"===c&&(t=(0,kt.jsx)(jh,{isPresent:o,anchorX:u,root:d,children:t})),(0,kt.jsx)(xh.Provider,{value:m,children:t})};function Nh(){return new Map}function Dh(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];const t=(0,r.useContext)(xh);if(null===t)return[!0,null];const{isPresent:n,onExitComplete:o,register:a}=t,i=(0,r.useId)();(0,r.useEffect)(()=>{if(e)return a(i)},[e]);const s=(0,r.useCallback)(()=>e&&o&&o(i),[i,o,e]);return!n&&o?[!1,s]:[!0]}const Ph=e=>e.key||"";function Oh(e){const t=[];return r.Children.forEach(e,e=>{(0,r.isValidElement)(e)&&t.push(e)}),t}const Rh=e=>{let{children:t,custom:n,initial:o=!0,onExitComplete:a,presenceAffectsLayout:i=!0,mode:s="sync",propagate:l=!1,anchorX:c="left",root:u}=e;const[d,h]=Dh(l),f=(0,r.useMemo)(()=>Oh(t),[t]),p=l&&!d?[]:f.map(Ph),m=(0,r.useRef)(!0),g=(0,r.useRef)(f),v=yh(()=>new Map),[y,b]=(0,r.useState)(f),[w,x]=(0,r.useState)(f);wh(()=>{m.current=!1,g.current=f;for(let e=0;e<w.length;e++){const t=Ph(w[e]);p.includes(t)?v.delete(t):!0!==v.get(t)&&v.set(t,!1)}},[w,p.length,p.join("-")]);const S=[];if(f!==y){let e=[...f];for(let t=0;t<w.length;t++){const n=w[t],r=Ph(n);p.includes(r)||(e.splice(t,0,n),S.push(n))}return"wait"===s&&S.length&&(e=S),x(Oh(e)),b(f),null}const{forceRender:k}=(0,r.useContext)(vh);return(0,kt.jsx)(kt.Fragment,{children:w.map(e=>{const t=Ph(e),r=!(l&&!d)&&(f===w||p.includes(t));return(0,kt.jsx)(Th,{isPresent:r,initial:!(m.current&&!o)&&void 0,custom:n,presenceAffectsLayout:i,mode:s,root:u,onExitComplete:r?void 0:()=>{if(!v.has(t))return;v.set(t,!0);let e=!0;v.forEach(t=>{t||(e=!1)}),e&&(null===k||void 0===k||k(),x(g.current),l&&(null===h||void 0===h||h()),a&&a())},anchorX:c,children:e},t)})})},Ih=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Mh=(()=>new Set(Ih))(),Fh=e=>180*e/Math.PI,Lh=e=>{const t=Fh(Math.atan2(e[1],e[0]));return zh(t)},Uh={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:e=>(Math.abs(e[0])+Math.abs(e[3]))/2,rotate:Lh,rotateZ:Lh,skewX:e=>Fh(Math.atan(e[1])),skewY:e=>Fh(Math.atan(e[2])),skew:e=>(Math.abs(e[1])+Math.abs(e[2]))/2},zh=e=>((e%=360)<0&&(e+=360),e),Bh=e=>Math.sqrt(e[0]*e[0]+e[1]*e[1]),qh=e=>Math.sqrt(e[4]*e[4]+e[5]*e[5]),Vh={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:Bh,scaleY:qh,scale:e=>(Bh(e)+qh(e))/2,rotateX:e=>zh(Fh(Math.atan2(e[6],e[5]))),rotateY:e=>zh(Fh(Math.atan2(-e[2],e[0]))),rotateZ:Lh,rotate:Lh,skewX:e=>Fh(Math.atan(e[4])),skewY:e=>Fh(Math.atan(e[1])),skew:e=>(Math.abs(e[1])+Math.abs(e[4]))/2};function Wh(e){return e.includes("scale")?1:0}function Hh(e,t){if(!e||"none"===e)return Wh(t);const n=e.match(/^matrix3d\(([\t-\r ,-\.0-9e\xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]+)\)$/);let r,o;if(n)r=Vh,o=n;else{const t=e.match(/^matrix\(([\t-\r ,-\.0-9e\xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]+)\)$/);r=Uh,o=t}if(!o)return Wh(t);const a=r[t],i=o[1].split(",").map(Kh);return"function"===typeof a?a(i):i[a]}function Kh(e){return parseFloat(e.trim())}const Gh=e=>t=>"string"===typeof t&&t.startsWith(e),Qh=Gh("--"),Yh=Gh("var(--"),$h=e=>!!Yh(e)&&Xh.test(e.split("/*")[0].trim()),Xh=/var\(--(?:[\x2D0-9A-Z_a-z\u017F\u212A]+[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*|[\x2D0-9A-Z_a-z\u017F\u212A]+[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*,(?:[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*(?:(?![\t-\r \(\)\xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uD800-\uDFFF\uFEFF])[^]|[\uD800-\uDBFF][\uDC00-\uDFFF])|[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*\((?:(?:(?![\(\)\uD800-\uDFFF])[^]|[\uD800-\uDBFF][\uDC00-\uDFFF])|\((?:(?![\(\)\uD800-\uDFFF])[^]|[\uD800-\uDBFF][\uDC00-\uDFFF])*\))*\))+[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*)\)$/i;function Jh(e){let{top:t,left:n,right:r,bottom:o}=e;return{x:{min:n,max:r},y:{min:t,max:o}}}const Zh=(e,t,n)=>e+(t-e)*n;function ef(e){return void 0===e||1===e}function tf(e){let{scale:t,scaleX:n,scaleY:r}=e;return!ef(t)||!ef(n)||!ef(r)}function nf(e){return tf(e)||rf(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function rf(e){return of(e.x)||of(e.y)}function of(e){return e&&"0%"!==e}function af(e,t,n){return n+t*(e-n)}function sf(e,t,n,r,o){return void 0!==o&&(e=af(e,o,r)),af(e,n,r)+t}function lf(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3?arguments[3]:void 0,o=arguments.length>4?arguments[4]:void 0;e.min=sf(e.min,t,n,r,o),e.max=sf(e.max,t,n,r,o)}function cf(e,t){let{x:n,y:r}=t;lf(e.x,n.translate,n.scale,n.originPoint),lf(e.y,r.translate,r.scale,r.originPoint)}const uf=.999999999999,df=1.0000000000001;function hf(e,t){e.min=e.min+t,e.max=e.max+t}function ff(e,t,n,r){let o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:.5;lf(e,t,n,Zh(e.min,e.max,o),r)}function pf(e,t){ff(e.x,t.x,t.scaleX,t.scale,t.originX),ff(e.y,t.y,t.scaleY,t.scale,t.originY)}function mf(e,t){return Jh(function(e,t){if(!t)return e;const n=t({x:e.left,y:e.top}),r=t({x:e.right,y:e.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}(e.getBoundingClientRect(),t))}const gf=new Set(["width","height","top","left","right","bottom",...Ih]),vf=(e,t,n)=>n>t?t:n<e?e:n,yf={test:e=>"number"===typeof e,parse:parseFloat,transform:e=>e},bf=(0,s.A)((0,s.A)({},yf),{},{transform:e=>vf(0,1,e)}),wf=(0,s.A)((0,s.A)({},yf),{},{default:1}),xf=e=>({test:t=>"string"===typeof t&&t.endsWith(e)&&1===t.split(" ").length,parse:parseFloat,transform:t=>"".concat(t).concat(e)}),Sf=xf("deg"),kf=xf("%"),_f=xf("px"),Ef=xf("vh"),Cf=xf("vw"),Af=(()=>(0,s.A)((0,s.A)({},kf),{},{parse:e=>kf.parse(e)/100,transform:e=>kf.transform(100*e)}))(),jf=e=>t=>t.test(e),Tf=[yf,_f,kf,Sf,Cf,Ef,{test:e=>"auto"===e,parse:e=>e}],Nf=e=>Tf.find(jf(e));const Df=e=>/^-?(?:[0-9]+(?:\.[0-9]+)?|\.[0-9]+)$/.test(e),Pf=/^var\(--(?:([\x2D0-9A-Z_a-z]+)|([\x2D0-9A-Z_a-z]+), ?([ #%\(\),-\.0-9A-Za-z]+))\)/;function Of(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;'Max CSS variable fallback depth detected in property "'.concat(e,'". This may indicate a circular fallback dependency.');const[r,o]=function(e){const t=Pf.exec(e);if(!t)return[,];const[,n,r,o]=t;return["--".concat(null!==n&&void 0!==n?n:r),o]}(e);if(!r)return;const a=window.getComputedStyle(t).getPropertyValue(r);if(a){const e=a.trim();return Df(e)?parseFloat(e):e}return $h(o)?Of(o,t,n+1):o}const Rf=e=>e===yf||e===_f,If=new Set(["x","y","z"]),Mf=Ih.filter(e=>!If.has(e));const Ff={width:(e,t)=>{let{x:n}=e,{paddingLeft:r="0",paddingRight:o="0"}=t;return n.max-n.min-parseFloat(r)-parseFloat(o)},height:(e,t)=>{let{y:n}=e,{paddingTop:r="0",paddingBottom:o="0"}=t;return n.max-n.min-parseFloat(r)-parseFloat(o)},top:(e,t)=>{let{top:n}=t;return parseFloat(n)},left:(e,t)=>{let{left:n}=t;return parseFloat(n)},bottom:(e,t)=>{let{y:n}=e,{top:r}=t;return parseFloat(r)+(n.max-n.min)},right:(e,t)=>{let{x:n}=e,{left:r}=t;return parseFloat(r)+(n.max-n.min)},x:(e,t)=>{let{transform:n}=t;return Hh(n,"x")},y:(e,t)=>{let{transform:n}=t;return Hh(n,"y")}};Ff.translateX=Ff.x,Ff.translateY=Ff.y;const Lf=e=>e,Uf={},zf=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"],Bf={value:null,addProjectionMetrics:null};function qf(e,t){let n=!1,r=!0;const o={delta:0,timestamp:0,isProcessing:!1},a=()=>n=!0,i=zf.reduce((e,n)=>(e[n]=function(e,t){let n=new Set,r=new Set,o=!1,a=!1;const i=new WeakSet;let s={delta:0,timestamp:0,isProcessing:!1},l=0;function c(t){i.has(t)&&(u.schedule(t),e()),l++,t(s)}const u={schedule:function(e){const t=arguments.length>2&&void 0!==arguments[2]&&arguments[2]&&o?n:r;return arguments.length>1&&void 0!==arguments[1]&&arguments[1]&&i.add(e),t.has(e)||t.add(e),e},cancel:e=>{r.delete(e),i.delete(e)},process:e=>{s=e,o?a=!0:(o=!0,[n,r]=[r,n],n.forEach(c),t&&Bf.value&&Bf.value.frameloop[t].push(l),l=0,n.clear(),o=!1,a&&(a=!1,u.process(e)))}};return u}(a,t?n:void 0),e),{}),{setup:s,read:l,resolveKeyframes:c,preUpdate:u,update:d,preRender:h,render:f,postRender:p}=i,m=()=>{const a=Uf.useManualTiming?o.timestamp:performance.now();n=!1,Uf.useManualTiming||(o.delta=r?1e3/60:Math.max(Math.min(a-o.timestamp,40),1)),o.timestamp=a,o.isProcessing=!0,s.process(o),l.process(o),c.process(o),u.process(o),d.process(o),h.process(o),f.process(o),p.process(o),o.isProcessing=!1,n&&t&&(r=!1,e(m))},g=zf.reduce((t,a)=>{const s=i[a];return t[a]=function(t){let a=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return n||(n=!0,r=!0,o.isProcessing||e(m)),s.schedule(t,a,i)},t},{});return{schedule:g,cancel:e=>{for(let t=0;t<zf.length;t++)i[zf[t]].cancel(e)},state:o,steps:i}}const{schedule:Vf,cancel:Wf,state:Hf,steps:Kf}=qf("undefined"!==typeof requestAnimationFrame?requestAnimationFrame:Lf,!0),Gf=new Set;let Qf=!1,Yf=!1,$f=!1;function Xf(){if(Yf){const e=Array.from(Gf).filter(e=>e.needsMeasurement),t=new Set(e.map(e=>e.element)),n=new Map;t.forEach(e=>{const t=function(e){const t=[];return Mf.forEach(n=>{const r=e.getValue(n);void 0!==r&&(t.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),t}(e);t.length&&(n.set(e,t),e.render())}),e.forEach(e=>e.measureInitialState()),t.forEach(e=>{e.render();const t=n.get(e);t&&t.forEach(t=>{var n;let[r,o]=t;null===(n=e.getValue(r))||void 0===n||n.set(o)})}),e.forEach(e=>e.measureEndState()),e.forEach(e=>{void 0!==e.suspendedScrollY&&window.scrollTo(0,e.suspendedScrollY)})}Yf=!1,Qf=!1,Gf.forEach(e=>e.complete($f)),Gf.clear()}function Jf(){Gf.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(Yf=!0)})}class Zf{constructor(e,t,n,r,o){let a=arguments.length>5&&void 0!==arguments[5]&&arguments[5];this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=t,this.name=n,this.motionValue=r,this.element=o,this.isAsync=a}scheduleResolve(){this.state="scheduled",this.isAsync?(Gf.add(this),Qf||(Qf=!0,Vf.read(Jf),Vf.resolveKeyframes(Xf))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:t,element:n,motionValue:r}=this;if(null===e[0]){const o=null===r||void 0===r?void 0:r.get(),a=e[e.length-1];if(void 0!==o)e[0]=o;else if(n&&t){const r=n.readValue(t,a);void 0!==r&&null!==r&&(e[0]=r)}void 0===e[0]&&(e[0]=a),r&&void 0===o&&r.set(e[0])}!function(e){for(let n=1;n<e.length;n++){var t;null!==(t=e[n])&&void 0!==t||(e[n]=e[n-1])}}(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),Gf.delete(this)}cancel(){"scheduled"===this.state&&(Gf.delete(this),this.state="pending")}resume(){"pending"===this.state&&this.scheduleResolve()}}const ep=e=>/^0(?:[\0-\x08\x0E-\x1F!-\x2D\/-\x9F\xA1-\u167F\u1681-\u1FFF\u200B-\u2027\u202A-\u202E\u2030-\u205E\u2060-\u2FFF\u3001-\uD7FF\uE000-\uFEFE\uFF00-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+$/.test(e);function tp(e){return"number"===typeof e?0===e:null===e||("none"===e||"0"===e||ep(e))}const np=e=>Math.round(1e5*e)/1e5,rp=/-?(?:[0-9]+(?:\.[0-9]+)?|\.[0-9]+)/g;const op=/^(?:#[0-9a-f]{3,8}|(?:rgb|h[s\u017F]l)a?\((?:-?[\.0-9]+%?[\t-\r ,\xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]+){2}-?[\.0-9]+%?[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*(?:[,\/][\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*)?(?:\b[0-9]+(?:\.[0-9]+)?|\.[0-9]+)?%?\))$/i,ap=(e,t)=>n=>Boolean("string"===typeof n&&op.test(n)&&n.startsWith(e)||t&&!function(e){return null==e}(n)&&Object.prototype.hasOwnProperty.call(n,t)),ip=(e,t,n)=>r=>{if("string"!==typeof r)return r;const[o,a,i,s]=r.match(rp);return{[e]:parseFloat(o),[t]:parseFloat(a),[n]:parseFloat(i),alpha:void 0!==s?parseFloat(s):1}},sp=(0,s.A)((0,s.A)({},yf),{},{transform:e=>Math.round((e=>vf(0,255,e))(e))}),lp={test:ap("rgb","red"),parse:ip("red","green","blue"),transform:e=>{let{red:t,green:n,blue:r,alpha:o=1}=e;return"rgba("+sp.transform(t)+", "+sp.transform(n)+", "+sp.transform(r)+", "+np(bf.transform(o))+")"}};const cp={test:ap("#"),parse:function(e){let t="",n="",r="",o="";return e.length>5?(t=e.substring(1,3),n=e.substring(3,5),r=e.substring(5,7),o=e.substring(7,9)):(t=e.substring(1,2),n=e.substring(2,3),r=e.substring(3,4),o=e.substring(4,5),t+=t,n+=n,r+=r,o+=o),{red:parseInt(t,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:o?parseInt(o,16)/255:1}},transform:lp.transform},up={test:ap("hsl","hue"),parse:ip("hue","saturation","lightness"),transform:e=>{let{hue:t,saturation:n,lightness:r,alpha:o=1}=e;return"hsla("+Math.round(t)+", "+kf.transform(np(n))+", "+kf.transform(np(r))+", "+np(bf.transform(o))+")"}},dp={test:e=>lp.test(e)||cp.test(e)||up.test(e),parse:e=>lp.test(e)?lp.parse(e):up.test(e)?up.parse(e):cp.parse(e),transform:e=>"string"===typeof e?e:e.hasOwnProperty("red")?lp.transform(e):up.transform(e),getAnimatableNone:e=>{const t=dp.parse(e);return t.alpha=0,dp.transform(t)}},hp=/(?:#[0-9a-f]{3,8}|(?:rgb|h[s\u017F]l)a?\((?:-?[\.0-9]+%?[\t-\r ,\xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]+){2}-?[\.0-9]+%?[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*(?:[,\/][\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*)?(?:\b[0-9]+(?:\.[0-9]+)?|\.[0-9]+)?%?\))/gi;const fp="number",pp="color",mp=/var[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*\([\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*--(?:[\x2D0-9A-Z_a-z\u017F\u212A]+[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*|[\x2D0-9A-Z_a-z\u017F\u212A]+[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*,(?:[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*(?:(?![\t-\r \(\)\xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uD800-\uDFFF\uFEFF])[^]|[\uD800-\uDBFF][\uDC00-\uDFFF])|[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*\((?:(?:(?![\(\)\uD800-\uDFFF])[^]|[\uD800-\uDBFF][\uDC00-\uDFFF])|\((?:(?![\(\)\uD800-\uDFFF])[^]|[\uD800-\uDBFF][\uDC00-\uDFFF])*\))*\))+[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*)\)|#[0-9a-f]{3,8}|(?:rgb|h[s\u017F]l)a?\((?:-?[\.0-9]+%?[\t-\r ,\xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]+){2}-?[\.0-9]+%?[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*(?:[,\/][\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*)?(?:\b[0-9]+(?:\.[0-9]+)?|\.[0-9]+)?%?\)|-?(?:[0-9]+(?:\.[0-9]+)?|\.[0-9]+)/gi;function gp(e){const t=e.toString(),n=[],r={color:[],number:[],var:[]},o=[];let a=0;const i=t.replace(mp,e=>(dp.test(e)?(r.color.push(a),o.push(pp),n.push(dp.parse(e))):e.startsWith("var(")?(r.var.push(a),o.push("var"),n.push(e)):(r.number.push(a),o.push(fp),n.push(parseFloat(e))),++a,"${}")).split("${}");return{values:n,split:i,indexes:r,types:o}}function vp(e){return gp(e).values}function yp(e){const{split:t,types:n}=gp(e),r=t.length;return e=>{let o="";for(let a=0;a<r;a++)if(o+=t[a],void 0!==e[a]){const t=n[a];o+=t===fp?np(e[a]):t===pp?dp.transform(e[a]):e[a]}return o}}const bp=e=>"number"===typeof e?0:dp.test(e)?dp.getAnimatableNone(e):e;const wp={test:function(e){var t,n;return isNaN(e)&&"string"===typeof e&&((null===(t=e.match(rp))||void 0===t?void 0:t.length)||0)+((null===(n=e.match(hp))||void 0===n?void 0:n.length)||0)>0},parse:vp,createTransformer:yp,getAnimatableNone:function(e){const t=vp(e);return yp(e)(t.map(bp))}},xp=new Set(["brightness","contrast","saturate","opacity"]);function Sp(e){const[t,n]=e.slice(0,-1).split("(");if("drop-shadow"===t)return e;const[r]=n.match(rp)||[];if(!r)return e;const o=n.replace(r,"");let a=xp.has(t)?1:0;return r!==n&&(a*=100),t+"("+a+o+")"}const kp=/\b([\x2Da-z]*)\((?:[\0-\t\x0B\f\x0E-\u2027\u202A-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])*?\)/g,_p=(0,s.A)((0,s.A)({},wp),{},{getAnimatableNone:e=>{const t=e.match(kp);return t?t.map(Sp).join(" "):e}}),Ep=(0,s.A)((0,s.A)({},yf),{},{transform:Math.round}),Cp={rotate:Sf,rotateX:Sf,rotateY:Sf,rotateZ:Sf,scale:wf,scaleX:wf,scaleY:wf,scaleZ:wf,skew:Sf,skewX:Sf,skewY:Sf,distance:_f,translateX:_f,translateY:_f,translateZ:_f,x:_f,y:_f,z:_f,perspective:_f,transformPerspective:_f,opacity:bf,originX:Af,originY:Af,originZ:_f},Ap=(0,s.A)((0,s.A)({borderWidth:_f,borderTopWidth:_f,borderRightWidth:_f,borderBottomWidth:_f,borderLeftWidth:_f,borderRadius:_f,radius:_f,borderTopLeftRadius:_f,borderTopRightRadius:_f,borderBottomRightRadius:_f,borderBottomLeftRadius:_f,width:_f,maxWidth:_f,height:_f,maxHeight:_f,top:_f,right:_f,bottom:_f,left:_f,padding:_f,paddingTop:_f,paddingRight:_f,paddingBottom:_f,paddingLeft:_f,margin:_f,marginTop:_f,marginRight:_f,marginBottom:_f,marginLeft:_f,backgroundPositionX:_f,backgroundPositionY:_f},Cp),{},{zIndex:Ep,fillOpacity:bf,strokeOpacity:bf,numOctaves:Ep}),jp=(0,s.A)((0,s.A)({},Ap),{},{color:dp,backgroundColor:dp,outlineColor:dp,fill:dp,stroke:dp,borderColor:dp,borderTopColor:dp,borderRightColor:dp,borderBottomColor:dp,borderLeftColor:dp,filter:_p,WebkitFilter:_p}),Tp=e=>jp[e];function Np(e,t){let n=Tp(e);return n!==_p&&(n=wp),n.getAnimatableNone?n.getAnimatableNone(t):void 0}const Dp=new Set(["auto","none","0"]);class Pp extends Zf{constructor(e,t,n,r,o){super(e,t,n,r,o,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:t,name:n}=this;if(!t||!t.current)return;super.readKeyframes();for(let s=0;s<e.length;s++){let n=e[s];if("string"===typeof n&&(n=n.trim(),$h(n))){const r=Of(n,t.current);void 0!==r&&(e[s]=r),s===e.length-1&&(this.finalKeyframe=n)}}if(this.resolveNoneKeyframes(),!gf.has(n)||2!==e.length)return;const[r,o]=e,a=Nf(r),i=Nf(o);if(a!==i)if(Rf(a)&&Rf(i))for(let s=0;s<e.length;s++){const t=e[s];"string"===typeof t&&(e[s]=parseFloat(t))}else Ff[n]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:t}=this,n=[];for(let r=0;r<e.length;r++)(null===e[r]||tp(e[r]))&&n.push(r);n.length&&function(e,t,n){let r,o=0;for(;o<e.length&&!r;){const t=e[o];"string"===typeof t&&!Dp.has(t)&&gp(t).values.length&&(r=e[o]),o++}if(r&&n)for(const a of t)e[a]=Np(n,r)}(e,n,t)}measureInitialState(){const{element:e,unresolvedKeyframes:t,name:n}=this;if(!e||!e.current)return;"height"===n&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Ff[n](e.measureViewportBox(),window.getComputedStyle(e.current)),t[0]=this.measuredOrigin;const r=t[t.length-1];void 0!==r&&e.getValue(n,r).jump(r,!1)}measureEndState(){var e;const{element:t,name:n,unresolvedKeyframes:r}=this;if(!t||!t.current)return;const o=t.getValue(n);o&&o.jump(this.measuredOrigin,!1);const a=r.length-1,i=r[a];r[a]=Ff[n](t.measureViewportBox(),window.getComputedStyle(t.current)),null!==i&&void 0===this.finalKeyframe&&(this.finalKeyframe=i),null!==(e=this.removedTransforms)&&void 0!==e&&e.length&&this.removedTransforms.forEach(e=>{let[n,r]=e;t.getValue(n).set(r)}),this.resolveNoneKeyframes()}}const Op=e=>Boolean(e&&e.getVelocity);let Rp;function Ip(){Rp=void 0}const Mp={now:()=>(void 0===Rp&&Mp.set(Hf.isProcessing||Uf.useManualTiming?Hf.timestamp:performance.now()),Rp),set:e=>{Rp=e,queueMicrotask(Ip)}};function Fp(e,t){-1===e.indexOf(t)&&e.push(t)}function Lp(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}class Up{constructor(){this.subscriptions=[]}add(e){return Fp(this.subscriptions,e),()=>Lp(this.subscriptions,e)}notify(e,t,n){const r=this.subscriptions.length;if(r)if(1===r)this.subscriptions[0](e,t,n);else for(let o=0;o<r;o++){const r=this.subscriptions[o];r&&r(e,t,n)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}function zp(e,t){return t?e*(1e3/t):0}const Bp={current:void 0};class qp{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.canTrackVelocity=null,this.events={},this.updateAndNotify=e=>{const t=Mp.now();var n;if((this.updatedAt!==t&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(e),this.current!==this.prev)&&(null===(n=this.events.change)||void 0===n||n.notify(this.current),this.dependents))for(const r of this.dependents)r.dirty()},this.hasAnimated=!1,this.setCurrent(e),this.owner=t.owner}setCurrent(e){var t;this.current=e,this.updatedAt=Mp.now(),null===this.canTrackVelocity&&void 0!==e&&(this.canTrackVelocity=(t=this.current,!isNaN(parseFloat(t))))}setPrevFrameValue(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.current;this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,t){this.events[e]||(this.events[e]=new Up);const n=this.events[e].add(t);return"change"===e?()=>{n(),Vf.read(()=>{this.events.change.getSize()||this.stop()})}:n}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,t){this.passiveEffect=e,this.stopPassiveEffect=t}set(e){this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e)}setWithVelocity(e,t,n){this.set(t),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-n}jump(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,t&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var e;null===(e=this.events.change)||void 0===e||e.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return Bp.current&&Bp.current.push(this),this.current}getPrevious(){return this.prev}getVelocity(){const e=Mp.now();if(!this.canTrackVelocity||void 0===this.prevFrameValue||e-this.updatedAt>30)return 0;const t=Math.min(this.updatedAt-this.prevUpdatedAt,30);return zp(parseFloat(this.current)-parseFloat(this.prevFrameValue),t)}start(e){return this.stop(),new Promise(t=>{this.hasAnimated=!0,this.animation=e(t),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var e,t;null===(e=this.dependents)||void 0===e||e.clear(),null===(t=this.events.destroy)||void 0===t||t.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Vp(e,t){return new qp(e,t)}const Wp=[...Tf,dp,wp],{schedule:Hp,cancel:Kp}=qf(queueMicrotask,!1),Gp={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Qp={};for(const LA in Gp)Qp[LA]={isEnabled:e=>Gp[LA].some(t=>!!e[t])};const Yp=()=>({x:{min:0,max:0},y:{min:0,max:0}}),$p={current:null},Xp={current:!1};const Jp=new WeakMap;function Zp(e){return null!==e&&"object"===typeof e&&"function"===typeof e.start}function em(e){return"string"===typeof e||Array.isArray(e)}const tm=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],nm=["initial",...tm];function rm(e){return Zp(e.animate)||nm.some(t=>em(e[t]))}function om(e){return Boolean(rm(e)||e.variants)}function am(e){const t=[{},{}];return null===e||void 0===e||e.values.forEach((e,n)=>{t[0][n]=e.get(),t[1][n]=e.getVelocity()}),t}function im(e,t,n,r){if("function"===typeof t){const[o,a]=am(r);t=t(void 0!==n?n:e.custom,o,a)}if("string"===typeof t&&(t=e.variants&&e.variants[t]),"function"===typeof t){const[o,a]=am(r);t=t(void 0!==n?n:e.custom,o,a)}return t}const sm=["willChange"],lm=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class cm{scrapeMotionValuesFromProps(e,t,n){return{}}constructor(e){let{parent:t,props:n,presenceContext:r,reducedMotionConfig:o,blockInitialAnimation:a,visualState:l}=e,c=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=Zf,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const e=Mp.now();this.renderScheduledAt<e&&(this.renderScheduledAt=e,Vf.render(this.render,!1,!0))};const{latestValues:u,renderState:d}=l;this.latestValues=u,this.baseTarget=(0,s.A)({},u),this.initialValues=n.initial?(0,s.A)({},u):{},this.renderState=d,this.parent=t,this.props=n,this.presenceContext=r,this.depth=t?t.depth+1:0,this.reducedMotionConfig=o,this.options=c,this.blockInitialAnimation=Boolean(a),this.isControllingVariants=rm(n),this.isVariantNode=om(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=Boolean(t&&t.current);const h=this.scrapeMotionValuesFromProps(n,{},this),{willChange:f}=h,p=i(h,sm);for(const i in p){const e=p[i];void 0!==u[i]&&Op(e)&&e.set(u[i])}}mount(e){var t;this.current=e,Jp.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((e,t)=>this.bindToMotionValue(t,e)),Xp.current||function(){if(Xp.current=!0,bh)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>$p.current=e.matches;e.addEventListener("change",t),t()}else $p.current=!1}(),this.shouldReduceMotion="never"!==this.reducedMotionConfig&&("always"===this.reducedMotionConfig||$p.current),null===(t=this.parent)||void 0===t||t.addChild(this),this.update(this.props,this.presenceContext)}unmount(){var e;this.projection&&this.projection.unmount(),Wf(this.notifyUpdate),Wf(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),null===(e=this.parent)||void 0===e||e.removeChild(this);for(const t in this.events)this.events[t].clear();for(const t in this.features){const e=this.features[t];e&&(e.unmount(),e.isMounted=!1)}this.current=null}addChild(e){var t;this.children.add(e),null!==(t=this.enteringChildren)&&void 0!==t||(this.enteringChildren=new Set),this.enteringChildren.add(e)}removeChild(e){this.children.delete(e),this.enteringChildren&&this.enteringChildren.delete(e)}bindToMotionValue(e,t){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const n=Mh.has(e);n&&this.onBindTransform&&this.onBindTransform();const r=t.on("change",t=>{this.latestValues[e]=t,this.props.onUpdate&&Vf.preRender(this.notifyUpdate),n&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let o;window.MotionCheckAppearSync&&(o=window.MotionCheckAppearSync(this,e,t)),this.valueSubscriptions.set(e,()=>{r(),o&&o(),t.owner&&t.stop()})}sortNodePosition(e){return this.current&&this.sortInstanceNodePosition&&this.type===e.type?this.sortInstanceNodePosition(this.current,e.current):0}updateFeatures(){let e="animation";for(e in Qp){const t=Qp[e];if(!t)continue;const{isEnabled:n,Feature:r}=t;if(!this.features[e]&&r&&n(this.props)&&(this.features[e]=new r(this)),this.features[e]){const t=this.features[e];t.isMounted?t.update():(t.mount(),t.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):{x:{min:0,max:0},y:{min:0,max:0}}}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,t){this.latestValues[e]=t}update(e,t){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=t;for(let n=0;n<lm.length;n++){const t=lm[n];this.propEventSubscriptions[t]&&(this.propEventSubscriptions[t](),delete this.propEventSubscriptions[t]);const r=e["on"+t];r&&(this.propEventSubscriptions[t]=this.on(t,r))}this.prevMotionValues=function(e,t,n){for(const r in t){const o=t[r],a=n[r];if(Op(o))e.addValue(r,o);else if(Op(a))e.addValue(r,Vp(o,{owner:e}));else if(a!==o)if(e.hasValue(r)){const t=e.getValue(r);!0===t.liveStyle?t.jump(o):t.hasAnimated||t.set(o)}else{const t=e.getStaticValue(r);e.addValue(r,Vp(void 0!==t?t:o,{owner:e}))}}for(const r in n)void 0===t[r]&&e.removeValue(r);return t}(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const t=this.getClosestVariantNode();if(t)return t.variantChildren&&t.variantChildren.add(e),()=>t.variantChildren.delete(e)}addValue(e,t){const n=this.values.get(e);t!==n&&(n&&this.removeValue(e),this.bindToMotionValue(e,t),this.values.set(e,t),this.latestValues[e]=t.get())}removeValue(e){this.values.delete(e);const t=this.valueSubscriptions.get(e);t&&(t(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,t){if(this.props.values&&this.props.values[e])return this.props.values[e];let n=this.values.get(e);return void 0===n&&void 0!==t&&(n=Vp(null===t?void 0:t,{owner:this}),this.addValue(e,n)),n}readValue(e,t){var n;let r=void 0===this.latestValues[e]&&this.current?null!==(n=this.getBaseTargetFromProps(this.props,e))&&void 0!==n?n:this.readValueFromInstance(this.current,e,this.options):this.latestValues[e];var o;return void 0!==r&&null!==r&&("string"===typeof r&&(Df(r)||ep(r))?r=parseFloat(r):(o=r,!Wp.find(jf(o))&&wp.test(t)&&(r=Np(e,t))),this.setBaseTarget(e,Op(r)?r.get():r)),Op(r)?r.get():r}setBaseTarget(e,t){this.baseTarget[e]=t}getBaseTarget(e){const{initial:t}=this.props;let n;if("string"===typeof t||"object"===typeof t){var r;const o=im(this.props,t,null===(r=this.presenceContext)||void 0===r?void 0:r.custom);o&&(n=o[e])}if(t&&void 0!==n)return n;const o=this.getBaseTargetFromProps(this.props,e);return void 0===o||Op(o)?void 0!==this.initialValues[e]&&void 0===n?void 0:this.baseTarget[e]:o}on(e,t){return this.events[e]||(this.events[e]=new Up),this.events[e].add(t)}notify(e){if(this.events[e]){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];this.events[e].notify(...n)}}scheduleRenderMicrotask(){Hp.render(this.render)}}class um extends cm{constructor(){super(...arguments),this.KeyframeResolver=Pp}sortInstanceNodePosition(e,t){return 2&e.compareDocumentPosition(t)?1:-1}getBaseTargetFromProps(e,t){return e.style?e.style[t]:void 0}removeValueFromRenderState(e,t){let{vars:n,style:r}=t;delete n[e],delete r[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;Op(e)&&(this.childSubscription=e.on("change",e=>{this.current&&(this.current.textContent="".concat(e))}))}}const dm=(e,t)=>t&&"number"===typeof e?t.transform(e):e,hm={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},fm=Ih.length;function pm(e,t,n){const{style:r,vars:o,transformOrigin:a}=e;let i=!1,s=!1;for(const l in t){const e=t[l];if(Mh.has(l))i=!0;else if(Qh(l))o[l]=e;else{const t=dm(e,Ap[l]);l.startsWith("origin")?(s=!0,a[l]=t):r[l]=t}}if(t.transform||(i||n?r.transform=function(e,t,n){let r="",o=!0;for(let a=0;a<fm;a++){const i=Ih[a],s=e[i];if(void 0===s)continue;let l=!0;if(l="number"===typeof s?s===(i.startsWith("scale")?1:0):0===parseFloat(s),!l||n){const e=dm(s,Ap[i]);l||(o=!1,r+="".concat(hm[i]||i,"(").concat(e,") ")),n&&(t[i]=e)}}return r=r.trim(),n?r=n(t,o?"":r):o&&(r="none"),r}(t,e.transform,n):r.transform&&(r.transform="none")),s){const{originX:e="50%",originY:t="50%",originZ:n=0}=a;r.transformOrigin="".concat(e," ").concat(t," ").concat(n)}}function mm(e,t,n,r){let{style:o,vars:a}=t;const i=e.style;let s;for(s in o)i[s]=o[s];for(s in null===r||void 0===r||r.applyProjectionStyles(i,n),a)i.setProperty(s,a[s])}const gm={};function vm(e,t){let{layout:n,layoutId:r}=t;return Mh.has(e)||e.startsWith("origin")||(n||void 0!==r)&&(!!gm[e]||"opacity"===e)}function ym(e,t,n){const{style:r}=e,o={};for(const i in r){var a;(Op(r[i])||t.style&&Op(t.style[i])||vm(i,e)||void 0!==(null===n||void 0===n||null===(a=n.getValue(i))||void 0===a?void 0:a.liveStyle))&&(o[i]=r[i])}return o}class bm extends um{constructor(){super(...arguments),this.type="html",this.renderInstance=mm}readValueFromInstance(e,t){var n,r;if(Mh.has(t))return null!==(n=this.projection)&&void 0!==n&&n.isProjecting?Wh(t):((e,t)=>{const{transform:n="none"}=getComputedStyle(e);return Hh(n,t)})(e,t);{const n=(r=e,window.getComputedStyle(r)),o=(Qh(t)?n.getPropertyValue(t):n[t])||0;return"string"===typeof o?o.trim():o}}measureInstanceViewportBox(e,t){let{transformPagePoint:n}=t;return mf(e,n)}build(e,t,n){pm(e,t,n.transformTemplate)}scrapeMotionValuesFromProps(e,t,n){return ym(e,t,n)}}const wm=e=>e.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),xm={offset:"stroke-dashoffset",array:"stroke-dasharray"},Sm={offset:"strokeDashoffset",array:"strokeDasharray"};const km=["attrX","attrY","attrScale","pathLength","pathSpacing","pathOffset"];function _m(e,t,n,r,o){let{attrX:a,attrY:s,attrScale:l,pathLength:c,pathSpacing:u=1,pathOffset:d=0}=t;if(pm(e,i(t,km),r),n)return void(e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox));e.attrs=e.style,e.style={};const{attrs:h,style:f}=e;var p,m;(h.transform&&(f.transform=h.transform,delete h.transform),f.transform||h.transformOrigin)&&(f.transformOrigin=null!==(p=h.transformOrigin)&&void 0!==p?p:"50% 50%",delete h.transformOrigin);f.transform&&(f.transformBox=null!==(m=null===o||void 0===o?void 0:o.transformBox)&&void 0!==m?m:"fill-box",delete h.transformBox);void 0!==a&&(h.x=a),void 0!==s&&(h.y=s),void 0!==l&&(h.scale=l),void 0!==c&&function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,o=!(arguments.length>4&&void 0!==arguments[4])||arguments[4];e.pathLength=1;const a=o?xm:Sm;e[a.offset]=_f.transform(-r);const i=_f.transform(t),s=_f.transform(n);e[a.array]="".concat(i," ").concat(s)}(h,c,u,d,!1)}const Em=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]),Cm=e=>"string"===typeof e&&"svg"===e.toLowerCase();function Am(e,t,n){const r=ym(e,t,n);for(const o in e)if(Op(e[o])||Op(t[o])){r[-1!==Ih.indexOf(o)?"attr"+o.charAt(0).toUpperCase()+o.substring(1):o]=e[o]}return r}class jm extends um{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Yp}getBaseTargetFromProps(e,t){return e[t]}readValueFromInstance(e,t){if(Mh.has(t)){const e=Tp(t);return e&&e.default||0}return t=Em.has(t)?t:wm(t),e.getAttribute(t)}scrapeMotionValuesFromProps(e,t,n){return Am(e,t,n)}build(e,t,n){_m(e,t,this.isSVGTag,n.transformTemplate,n.style)}renderInstance(e,t,n,r){!function(e,t,n,r){mm(e,t,void 0,r);for(const o in t.attrs)e.setAttribute(Em.has(o)?o:wm(o),t.attrs[o])}(e,t,0,r)}mount(e){this.isSVGTag=Cm(e.tagName),super.mount(e)}}const Tm=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Nm(e){return"string"===typeof e&&!e.includes("-")&&!!(Tm.indexOf(e)>-1||/[A-Z]/.test(e))}const Dm=(e,t)=>Nm(e)?new jm(t):new bm(t,{allowProjection:e!==r.Fragment}),Pm=(0,r.createContext)({strict:!1}),Om=(0,r.createContext)({});function Rm(e){const{initial:t,animate:n}=function(e,t){if(rm(e)){const{initial:t,animate:n}=e;return{initial:!1===t||em(t)?t:void 0,animate:em(n)?n:void 0}}return!1!==e.inherit?t:{}}(e,(0,r.useContext)(Om));return(0,r.useMemo)(()=>({initial:t,animate:n}),[Im(t),Im(n)])}function Im(e){return Array.isArray(e)?e.join(" "):e}const Mm=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function Fm(e,t,n){for(const r in t)Op(t[r])||vm(r,n)||(e[r]=t[r])}function Lm(e,t){const n={};return Fm(n,e.style||{},e),Object.assign(n,function(e,t){let{transformTemplate:n}=e;return(0,r.useMemo)(()=>{const e={style:{},transform:{},transformOrigin:{},vars:{}};return pm(e,t,n),Object.assign({},e.vars,e.style)},[t])}(e,t)),n}function Um(e,t){const n={},r=Lm(e,t);return e.drag&&!1!==e.dragListener&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=!0===e.drag?"none":"pan-".concat("x"===e.drag?"y":"x")),void 0===e.tabIndex&&(e.onTap||e.onTapStart||e.whileTap)&&(n.tabIndex=0),n.style=r,n}const zm=()=>(0,s.A)((0,s.A)({},{style:{},transform:{},transformOrigin:{},vars:{}}),{},{attrs:{}});function Bm(e,t,n,o){const a=(0,r.useMemo)(()=>{const n=zm();return _m(n,t,Cm(o),e.transformTemplate,e.style),(0,s.A)((0,s.A)({},n.attrs),{},{style:(0,s.A)({},n.style)})},[t]);if(e.style){const t={};Fm(t,e.style,e),a.style=(0,s.A)((0,s.A)({},t),a.style)}return a}const qm=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Vm(e){return e.startsWith("while")||e.startsWith("drag")&&"draggable"!==e||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||qm.has(e)}let Wm=e=>!Vm(e);try{"function"===typeof(Hm=require("@emotion/is-prop-valid").default)&&(Wm=e=>e.startsWith("on")?!Vm(e):Hm(e))}catch(FA){}var Hm;function Km(e,t,n,o,a){let{latestValues:i}=o,l=arguments.length>5&&void 0!==arguments[5]&&arguments[5];const c=(Nm(e)?Bm:Um)(t,i,a,e),u=function(e,t,n){const r={};for(const o in e)"values"===o&&"object"===typeof e.values||(Wm(o)||!0===n&&Vm(o)||!t&&!Vm(o)||e.draggable&&o.startsWith("onDrag"))&&(r[o]=e[o]);return r}(t,"string"===typeof e,l),d=e!==r.Fragment?(0,s.A)((0,s.A)((0,s.A)({},u),c),{},{ref:n}):{},{children:h}=t,f=(0,r.useMemo)(()=>Op(h)?h.get():h,[h]);return(0,r.createElement)(e,(0,s.A)((0,s.A)({},d),{},{children:f}))}function Gm(e){return Op(e)?e.get():e}const Qm=["transitionEnd","transition"];function Ym(e,t,n,r){const o={},a=r(e,{});for(const i in a)o[i]=Gm(a[i]);let{initial:s,animate:l}=e;const c=rm(e),u=om(e);t&&u&&!c&&!1!==e.inherit&&(void 0===s&&(s=t.initial),void 0===l&&(l=t.animate));let d=!!n&&!1===n.initial;d=d||!1===s;const h=d?l:s;if(h&&"boolean"!==typeof h&&!Zp(h)){const t=Array.isArray(h)?h:[h];for(let n=0;n<t.length;n++){const r=im(e,t[n]);if(r){const{transitionEnd:e,transition:t}=r,n=i(r,Qm);for(const r in n){let e=n[r];if(Array.isArray(e)){e=e[d?e.length-1:0]}null!==e&&(o[r]=e)}for(const r in e)o[r]=e[r]}}}return o}const $m=e=>(t,n)=>{const o=(0,r.useContext)(Om),a=(0,r.useContext)(xh),i=()=>function(e,t,n,r){let{scrapeMotionValuesFromProps:o,createRenderState:a}=e;return{latestValues:Ym(t,n,r,o),renderState:a()}}(e,t,o,a);return n?i():yh(i)},Xm=$m({scrapeMotionValuesFromProps:ym,createRenderState:Mm}),Jm=$m({scrapeMotionValuesFromProps:Am,createRenderState:zm});const Zm=Symbol.for("motionComponentSymbol");function eg(e){return e&&"object"===typeof e&&Object.prototype.hasOwnProperty.call(e,"current")}function tg(e,t,n){return(0,r.useCallback)(r=>{r&&e.onMount&&e.onMount(r),t&&(r?t.mount(r):t.unmount()),n&&("function"===typeof n?n(r):eg(n)&&(n.current=r))},[t])}const ng="data-"+wm("framerAppearId"),rg=(0,r.createContext)({});function og(e,t,n,o,a){var i,s,l,c;const{visualElement:u}=(0,r.useContext)(Om),d=(0,r.useContext)(Pm),h=(0,r.useContext)(xh),f=(0,r.useContext)(_h).reducedMotion,p=(0,r.useRef)(null);o=o||d.renderer,!p.current&&o&&(p.current=o(e,{visualState:t,parent:u,props:n,presenceContext:h,blockInitialAnimation:!!h&&!1===h.initial,reducedMotionConfig:f}));const m=p.current,g=(0,r.useContext)(rg);!m||m.projection||!a||"html"!==m.type&&"svg"!==m.type||function(e,t,n,r){const{layoutId:o,layout:a,drag:i,dragConstraints:s,layoutScroll:l,layoutRoot:c,layoutCrossfade:u}=t;e.projection=new n(e.latestValues,t["data-framer-portal-id"]?void 0:ag(e.parent)),e.projection.setOptions({layoutId:o,layout:a,alwaysMeasureLayout:Boolean(i)||s&&eg(s),visualElement:e,animationType:"string"===typeof a?a:"both",initialPromotionConfig:r,crossfade:u,layoutScroll:l,layoutRoot:c})}(p.current,n,a,g);const v=(0,r.useRef)(!1);(0,r.useInsertionEffect)(()=>{m&&v.current&&m.update(n,h)});const y=n[ng],b=(0,r.useRef)(Boolean(y)&&!(null!==(i=(s=window).MotionHandoffIsComplete)&&void 0!==i&&i.call(s,y))&&(null===(l=(c=window).MotionHasOptimisedAnimation)||void 0===l?void 0:l.call(c,y)));return wh(()=>{m&&(v.current=!0,window.MotionIsMounted=!0,m.updateFeatures(),m.scheduleRenderMicrotask(),b.current&&m.animationState&&m.animationState.animateChanges())}),(0,r.useEffect)(()=>{m&&(!b.current&&m.animationState&&m.animationState.animateChanges(),b.current&&(queueMicrotask(()=>{var e,t;null===(e=(t=window).MotionHandoffMarkAsComplete)||void 0===e||e.call(t,y)}),b.current=!1),m.enteringChildren=void 0)}),m}function ag(e){if(e)return!1!==e.options.allowProjection?e.projection:ag(e.parent)}function ig(e){var t,n;let{forwardMotionProps:o=!1}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=arguments.length>2?arguments[2]:void 0,i=arguments.length>3?arguments[3]:void 0;a&&function(e){for(const t in e)Qp[t]=(0,s.A)((0,s.A)({},Qp[t]),e[t])}(a);const l=Nm(e)?Jm:Xm;function c(t,n){let a;const c=(0,s.A)((0,s.A)((0,s.A)({},(0,r.useContext)(_h)),t),{},{layoutId:sg(t)}),{isStatic:u}=c,d=Rm(t),h=l(t,u);if(!u&&bh){!function(){(0,r.useContext)(Pm).strict;0}();const t=function(e){const{drag:t,layout:n}=Qp;if(!t&&!n)return{};const r=(0,s.A)((0,s.A)({},t),n);return{MeasureLayout:null!==t&&void 0!==t&&t.isEnabled(e)||null!==n&&void 0!==n&&n.isEnabled(e)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}(c);a=t.MeasureLayout,d.visualElement=og(e,h,c,i,t.ProjectionNode)}return(0,kt.jsxs)(Om.Provider,{value:d,children:[a&&d.visualElement?(0,kt.jsx)(a,(0,s.A)({visualElement:d.visualElement},c)):null,Km(e,t,tg(h,d.visualElement,n),h,u,o)]})}c.displayName="motion.".concat("string"===typeof e?e:"create(".concat(null!==(t=null!==(n=e.displayName)&&void 0!==n?n:e.name)&&void 0!==t?t:"",")"));const u=(0,r.forwardRef)(c);return u[Zm]=e,u}function sg(e){let{layoutId:t}=e;const n=(0,r.useContext)(vh).id;return n&&void 0!==t?n+"-"+t:t}function lg(e,t){if("undefined"===typeof Proxy)return ig;const n=new Map,r=(n,r)=>ig(n,r,e,t);return new Proxy((e,t)=>r(e,t),{get:(o,a)=>"create"===a?r:(n.has(a)||n.set(a,ig(a,void 0,e,t)),n.get(a))})}function cg(e,t,n){const r=e.getProps();return im(r,t,void 0!==n?n:r.custom,e)}function ug(e,t){var n,r;return null!==(n=null!==(r=null===e||void 0===e?void 0:e[t])&&void 0!==r?r:null===e||void 0===e?void 0:e.default)&&void 0!==n?n:e}const dg=e=>Array.isArray(e),hg=["transitionEnd","transition"];function fg(e,t,n){e.hasValue(t)?e.getValue(t).set(n):e.addValue(t,Vp(n))}function pg(e){return dg(e)?e[e.length-1]||0:e}function mg(e,t){const n=e.getValue("willChange");if(r=n,Boolean(Op(r)&&r.add))return n.add(t);if(!n&&Uf.WillChange){const n=new Uf.WillChange("auto");e.addValue("willChange",n),n.add(t)}var r}function gg(e){return e.props[ng]}function vg(e){e.duration=0,e.type="keyframes"}const yg=(e,t)=>n=>t(e(n)),bg=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.reduce(yg)},wg=e=>1e3*e,xg=e=>e/1e3,Sg={layout:0,mainThread:0,waapi:0};function kg(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+6*(t-e)*n:n<.5?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function _g(e,t){return n=>n>0?t:e}const Eg=(e,t,n)=>{const r=e*e,o=n*(t*t-r)+r;return o<0?0:Math.sqrt(o)},Cg=[cp,lp,up];function Ag(e){const t=(n=e,Cg.find(e=>e.test(n)));var n;if(Boolean(t),"'".concat(e,"' is not an animatable color. Use the equivalent color code instead."),!Boolean(t))return!1;let r=t.parse(e);return t===up&&(r=function(e){let{hue:t,saturation:n,lightness:r,alpha:o}=e;t/=360,n/=100,r/=100;let a=0,i=0,s=0;if(n){const e=r<.5?r*(1+n):r+n-r*n,o=2*r-e;a=kg(o,e,t+1/3),i=kg(o,e,t),s=kg(o,e,t-1/3)}else a=i=s=r;return{red:Math.round(255*a),green:Math.round(255*i),blue:Math.round(255*s),alpha:o}}(r)),r}const jg=(e,t)=>{const n=Ag(e),r=Ag(t);if(!n||!r)return _g(e,t);const o=(0,s.A)({},n);return e=>(o.red=Eg(n.red,r.red,e),o.green=Eg(n.green,r.green,e),o.blue=Eg(n.blue,r.blue,e),o.alpha=Zh(n.alpha,r.alpha,e),lp.transform(o))},Tg=new Set(["none","hidden"]);function Ng(e,t){return n=>Zh(e,t,n)}function Dg(e){return"number"===typeof e?Ng:"string"===typeof e?$h(e)?_g:dp.test(e)?jg:Rg:Array.isArray(e)?Pg:"object"===typeof e?dp.test(e)?jg:Og:_g}function Pg(e,t){const n=[...e],r=n.length,o=e.map((e,n)=>Dg(e)(e,t[n]));return e=>{for(let t=0;t<r;t++)n[t]=o[t](e);return n}}function Og(e,t){const n=(0,s.A)((0,s.A)({},e),t),r={};for(const o in n)void 0!==e[o]&&void 0!==t[o]&&(r[o]=Dg(e[o])(e[o],t[o]));return e=>{for(const t in r)n[t]=r[t](e);return n}}const Rg=(e,t)=>{const n=wp.createTransformer(t),r=gp(e),o=gp(t);return r.indexes.var.length===o.indexes.var.length&&r.indexes.color.length===o.indexes.color.length&&r.indexes.number.length>=o.indexes.number.length?Tg.has(e)&&!o.values.length||Tg.has(t)&&!r.values.length?function(e,t){return Tg.has(e)?n=>n<=0?e:t:n=>n>=1?t:e}(e,t):bg(Pg(function(e,t){const n=[],r={color:0,var:0,number:0};for(let a=0;a<t.values.length;a++){var o;const i=t.types[a],s=e.indexes[i][r[i]],l=null!==(o=e.values[s])&&void 0!==o?o:0;n[a]=l,r[i]++}return n}(r,o),o.values),n):("Complex values '".concat(e,"' and '").concat(t,"' too different to mix. Ensure all colors are of the same type, and that each contains the same quantity of number and color values. Falling back to instant transition."),_g(e,t))};function Ig(e,t,n){if("number"===typeof e&&"number"===typeof t&&"number"===typeof n)return Zh(e,t,n);return Dg(e)(e,t)}const Mg=e=>{const t=t=>{let{timestamp:n}=t;return e(n)};return{start:function(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return Vf.update(t,e)},stop:()=>Wf(t),now:()=>Hf.isProcessing?Hf.timestamp:Mp.now()}},Fg=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:10,r="";const o=Math.max(Math.round(t/n),2);for(let a=0;a<o;a++)r+=Math.round(1e4*e(a/(o-1)))/1e4+", ";return"linear(".concat(r.substring(0,r.length-2),")")},Lg=2e4;function Ug(e){let t=0;let n=e.next(t);for(;!n.done&&t<Lg;)t+=50,n=e.next(t);return t>=Lg?1/0:t}function zg(e,t,n){const r=Math.max(t-5,0);return zp(n-e(r),t-r)}const Bg={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},qg=.001;function Vg(e){let t,n,{duration:r=Bg.duration,bounce:o=Bg.bounce,velocity:a=Bg.velocity,mass:i=Bg.mass}=e;wg(Bg.maxDuration);let s=1-o;s=vf(Bg.minDamping,Bg.maxDamping,s),r=vf(Bg.minDuration,Bg.maxDuration,xg(r)),s<1?(t=e=>{const t=e*s,n=t*r,o=t-a,i=Hg(e,s),l=Math.exp(-n);return qg-o/i*l},n=e=>{const n=e*s*r,o=n*a+a,i=Math.pow(s,2)*Math.pow(e,2)*r,l=Math.exp(-n),c=Hg(Math.pow(e,2),s);return(-t(e)+qg>0?-1:1)*((o-i)*l)/c}):(t=e=>Math.exp(-e*r)*((e-a)*r+1)-.001,n=e=>Math.exp(-e*r)*(r*r*(a-e)));const l=function(e,t,n){let r=n;for(let o=1;o<Wg;o++)r-=e(r)/t(r);return r}(t,n,5/r);if(r=wg(r),isNaN(l))return{stiffness:Bg.stiffness,damping:Bg.damping,duration:r};{const e=Math.pow(l,2)*i;return{stiffness:e,damping:2*s*Math.sqrt(i*e),duration:r}}}const Wg=12;function Hg(e,t){return e*Math.sqrt(1-t*t)}const Kg=["duration","bounce"],Gg=["stiffness","damping","mass"];function Qg(e,t){return t.some(t=>void 0!==e[t])}function Yg(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Bg.visualDuration,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Bg.bounce;const n="object"!==typeof e?{visualDuration:e,keyframes:[0,1],bounce:t}:e;let{restSpeed:r,restDelta:o}=n;const a=n.keyframes[0],i=n.keyframes[n.keyframes.length-1],l={done:!1,value:a},{stiffness:c,damping:u,mass:d,duration:h,velocity:f,isResolvedFromDuration:p}=function(e){let t=(0,s.A)({velocity:Bg.velocity,stiffness:Bg.stiffness,damping:Bg.damping,mass:Bg.mass,isResolvedFromDuration:!1},e);if(!Qg(e,Gg)&&Qg(e,Kg))if(e.visualDuration){const n=e.visualDuration,r=2*Math.PI/(1.2*n),o=r*r,a=2*vf(.05,1,1-(e.bounce||0))*Math.sqrt(o);t=(0,s.A)((0,s.A)({},t),{},{mass:Bg.mass,stiffness:o,damping:a})}else{const n=Vg(e);t=(0,s.A)((0,s.A)((0,s.A)({},t),n),{},{mass:Bg.mass}),t.isResolvedFromDuration=!0}return t}((0,s.A)((0,s.A)({},n),{},{velocity:-xg(n.velocity||0)})),m=f||0,g=u/(2*Math.sqrt(c*d)),v=i-a,y=xg(Math.sqrt(c/d)),b=Math.abs(v)<5;let w;if(r||(r=b?Bg.restSpeed.granular:Bg.restSpeed.default),o||(o=b?Bg.restDelta.granular:Bg.restDelta.default),g<1){const e=Hg(y,g);w=t=>{const n=Math.exp(-g*y*t);return i-n*((m+g*y*v)/e*Math.sin(e*t)+v*Math.cos(e*t))}}else if(1===g)w=e=>i-Math.exp(-y*e)*(v+(m+y*v)*e);else{const e=y*Math.sqrt(g*g-1);w=t=>{const n=Math.exp(-g*y*t),r=Math.min(e*t,300);return i-n*((m+g*y*v)*Math.sinh(r)+e*v*Math.cosh(r))/e}}const x={calculatedDuration:p&&h||null,next:e=>{const t=w(e);if(p)l.done=e>=h;else{let n=0===e?m:0;g<1&&(n=0===e?wg(m):zg(w,e,t));const a=Math.abs(n)<=r,s=Math.abs(i-t)<=o;l.done=a&&s}return l.value=l.done?i:t,l},toString:()=>{const e=Math.min(Ug(x),Lg),t=Fg(t=>x.next(e*t).value,e,30);return e+"ms "+t},toTransition:()=>{}};return x}function $g(e){let{keyframes:t,velocity:n=0,power:r=.8,timeConstant:o=325,bounceDamping:a=10,bounceStiffness:i=500,modifyTarget:s,min:l,max:c,restDelta:u=.5,restSpeed:d}=e;const h=t[0],f={done:!1,value:h},p=e=>void 0===l?c:void 0===c||Math.abs(l-e)<Math.abs(c-e)?l:c;let m=r*n;const g=h+m,v=void 0===s?g:s(g);v!==g&&(m=v-h);const y=e=>-m*Math.exp(-e/o),b=e=>v+y(e),w=e=>{const t=y(e),n=b(e);f.done=Math.abs(t)<=u,f.value=f.done?v:n};let x,S;const k=e=>{var t;(t=f.value,void 0!==l&&t<l||void 0!==c&&t>c)&&(x=e,S=Yg({keyframes:[f.value,p(f.value)],velocity:zg(b,e,f.value),damping:a,stiffness:i,restDelta:u,restSpeed:d}))};return k(0),{calculatedDuration:null,next:e=>{let t=!1;return S||void 0!==x||(t=!0,w(e),k(e)),void 0!==x&&e>=x?S.next(e-x):(!t&&w(e),f)}}}Yg.applyToOptions=e=>{const t=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:100;const n=(arguments.length>2?arguments[2]:void 0)((0,s.A)((0,s.A)({},e),{},{keyframes:[0,t]})),r=Math.min(Ug(n),Lg);return{type:"keyframes",ease:e=>n.next(r*e).value/t,duration:xg(r)}}(e,100,Yg);return e.ease=t.ease,e.duration=wg(t.duration),e.type="keyframes",e};const Xg=(e,t,n)=>(((1-3*n+3*t)*e+(3*n-6*t))*e+3*t)*e;function Jg(e,t,n,r){if(e===t&&n===r)return Lf;const o=t=>function(e,t,n,r,o){let a,i,s=0;do{i=t+(n-t)/2,a=Xg(i,r,o)-e,a>0?n=i:t=i}while(Math.abs(a)>1e-7&&++s<12);return i}(t,0,1,e,n);return e=>0===e||1===e?e:Xg(o(e),t,r)}const Zg=Jg(.42,0,1,1),ev=Jg(0,0,.58,1),tv=Jg(.42,0,.58,1),nv=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,rv=e=>t=>1-e(1-t),ov=Jg(.33,1.53,.69,.99),av=rv(ov),iv=nv(av),sv=e=>(e*=2)<1?.5*av(e):.5*(2-Math.pow(2,-10*(e-1))),lv=e=>1-Math.sin(Math.acos(e)),cv=rv(lv),uv=nv(lv),dv=e=>Array.isArray(e)&&"number"===typeof e[0],hv={linear:Lf,easeIn:Zg,easeInOut:tv,easeOut:ev,circIn:lv,circInOut:uv,circOut:cv,backIn:av,backInOut:iv,backOut:ov,anticipate:sv},fv=e=>{if(dv(e)){e.length;const[t,n,r,o]=e;return Jg(t,n,r,o)}return"string"===typeof e?("Invalid easing type '".concat(e,"'"),hv[e]):e},pv=(e,t,n)=>{const r=t-e;return 0===r?1:(n-e)/r};function mv(e,t){let{clamp:n=!0,ease:r,mixer:o}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const a=e.length;if(t.length,1===a)return()=>t[0];if(2===a&&t[0]===t[1])return()=>t[1];const i=e[0]===e[1];e[0]>e[a-1]&&(e=[...e].reverse(),t=[...t].reverse());const s=function(e,t,n){const r=[],o=n||Uf.mix||Ig,a=e.length-1;for(let i=0;i<a;i++){let n=o(e[i],e[i+1]);if(t){const e=Array.isArray(t)?t[i]||Lf:t;n=bg(e,n)}r.push(n)}return r}(t,r,o),l=s.length,c=n=>{if(i&&n<e[0])return t[0];let r=0;if(l>1)for(;r<e.length-2&&!(n<e[r+1]);r++);const o=pv(e[r],e[r+1],n);return s[r](o)};return n?t=>c(vf(e[0],e[a-1],t)):c}function gv(e){const t=[0];return function(e,t){const n=e[e.length-1];for(let r=1;r<=t;r++){const o=pv(0,t,r);e.push(Zh(n,1,o))}}(t,e.length-1),t}function vv(e){let{duration:t=300,keyframes:n,times:r,ease:o="easeInOut"}=e;const a=(e=>Array.isArray(e)&&"number"!==typeof e[0])(o)?o.map(fv):fv(o),i={done:!1,value:n[0]},s=function(e,t){return e.map(e=>e*t)}(r&&r.length===n.length?r:gv(n),t),l=mv(s,n,{ease:Array.isArray(a)?a:(c=n,u=a,c.map(()=>u||tv).splice(0,c.length-1))});var c,u;return{calculatedDuration:t,next:e=>(i.value=l(e),i.done=e>=t,i)}}const yv=e=>null!==e;function bv(e,t,n){let{repeat:r,repeatType:o="loop"}=t,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;const i=e.filter(yv),s=a<0||r&&"loop"!==o&&r%2===1?0:i.length-1;return s&&void 0!==n?n:i[s]}const wv={decay:$g,inertia:$g,tween:vv,keyframes:vv,spring:Yg};function xv(e){"string"===typeof e.type&&(e.type=wv[e.type])}class Sv{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,t){return this.finished.then(e,t)}}const kv=e=>e/100;class _v extends Sv{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{var e,t;const{motionValue:n}=this.options;n&&n.updatedAt!==Mp.now()&&this.tick(Mp.now()),this.isStopped=!0,"idle"!==this.state&&(this.teardown(),null===(e=(t=this.options).onStop)||void 0===e||e.call(t))},Sg.mainThread++,this.options=e,this.initAnimation(),this.play(),!1===e.autoplay&&this.pause()}initAnimation(){const{options:e}=this;xv(e);const{type:t=vv,repeat:n=0,repeatDelay:r=0,repeatType:o,velocity:a=0}=e;let{keyframes:i}=e;const l=t||vv;l!==vv&&"number"!==typeof i[0]&&(this.mixKeyframes=bg(kv,Ig(i[0],i[1])),i=[0,100]);const c=l((0,s.A)((0,s.A)({},e),{},{keyframes:i}));"mirror"===o&&(this.mirroredGenerator=l((0,s.A)((0,s.A)({},e),{},{keyframes:[...i].reverse(),velocity:-a}))),null===c.calculatedDuration&&(c.calculatedDuration=Ug(c));const{calculatedDuration:u}=c;this.calculatedDuration=u,this.resolvedDuration=u+r,this.totalDuration=this.resolvedDuration*(n+1)-r,this.generator=c}updateTime(e){const t=Math.round(e-this.startTime)*this.playbackSpeed;null!==this.holdTime?this.currentTime=this.holdTime:this.currentTime=t}tick(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const{generator:n,totalDuration:r,mixKeyframes:o,mirroredGenerator:a,resolvedDuration:i,calculatedDuration:s}=this;if(null===this.startTime)return n.next(0);const{delay:l=0,keyframes:c,repeat:u,repeatType:d,repeatDelay:h,type:f,onUpdate:p,finalKeyframe:m}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-r/this.speed,this.startTime)),t?this.currentTime=e:this.updateTime(e);const g=this.currentTime-l*(this.playbackSpeed>=0?1:-1),v=this.playbackSpeed>=0?g<0:g>r;this.currentTime=Math.max(g,0),"finished"===this.state&&null===this.holdTime&&(this.currentTime=r);let y=this.currentTime,b=n;if(u){const e=Math.min(this.currentTime,r)/i;let t=Math.floor(e),n=e%1;!n&&e>=1&&(n=1),1===n&&t--,t=Math.min(t,u+1);Boolean(t%2)&&("reverse"===d?(n=1-n,h&&(n-=h/i)):"mirror"===d&&(b=a)),y=vf(0,1,n)*i}const w=v?{done:!1,value:c[0]}:b.next(y);o&&(w.value=o(w.value));let{done:x}=w;v||null===s||(x=this.playbackSpeed>=0?this.currentTime>=r:this.currentTime<=0);const S=null===this.holdTime&&("finished"===this.state||"running"===this.state&&x);return S&&f!==$g&&(w.value=bv(c,this.options,m,this.speed)),p&&p(w.value),S&&this.finish(),w}then(e,t){return this.finished.then(e,t)}get duration(){return xg(this.calculatedDuration)}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+xg(e)}get time(){return xg(this.currentTime)}set time(e){var t;e=wg(e),this.currentTime=e,null===this.startTime||null!==this.holdTime||0===this.playbackSpeed?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),null===(t=this.driver)||void 0===t||t.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(Mp.now());const t=this.playbackSpeed!==e;this.playbackSpeed=e,t&&(this.time=xg(this.currentTime))}play(){var e,t;if(this.isStopped)return;const{driver:n=Mg,startTime:r}=this.options;this.driver||(this.driver=n(e=>this.tick(e))),null===(e=(t=this.options).onPlay)||void 0===e||e.call(t);const o=this.driver.now();"finished"===this.state?(this.updateFinished(),this.startTime=o):null!==this.holdTime?this.startTime=o-this.holdTime:this.startTime||(this.startTime=null!==r&&void 0!==r?r:o),"finished"===this.state&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(Mp.now()),this.holdTime=this.currentTime}complete(){"running"!==this.state&&this.play(),this.state="finished",this.holdTime=null}finish(){var e,t;this.notifyFinished(),this.teardown(),this.state="finished",null===(e=(t=this.options).onComplete)||void 0===e||e.call(t)}cancel(){var e,t;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),null===(e=(t=this.options).onCancel)||void 0===e||e.call(t)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null,Sg.mainThread--}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){var t;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),null===(t=this.driver)||void 0===t||t.stop(),e.observe(this)}}function Ev(e){let t;return()=>(void 0===t&&(t=e()),t)}const Cv=Ev(()=>void 0!==window.ScrollTimeline),Av={};function jv(e,t){const n=Ev(e);return()=>{var e;return null!==(e=Av[t])&&void 0!==e?e:n()}}const Tv=jv(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch(IA){return!1}return!0},"linearEasing"),Nv=e=>{let[t,n,r,o]=e;return"cubic-bezier(".concat(t,", ").concat(n,", ").concat(r,", ").concat(o,")")},Dv={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Nv([0,.65,.55,1]),circOut:Nv([.55,0,1,.45]),backIn:Nv([.31,.01,.66,-.59]),backOut:Nv([.33,1.53,.69,.99])};function Pv(e,t){return e?"function"===typeof e?Tv()?Fg(e,t):"ease-out":dv(e)?Nv(e):Array.isArray(e)?e.map(e=>Pv(e,t)||Dv.easeOut):Dv[e]:void 0}function Ov(e,t,n){let{delay:r=0,duration:o=300,repeat:a=0,repeatType:i="loop",ease:s="easeOut",times:l}=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},c=arguments.length>4&&void 0!==arguments[4]?arguments[4]:void 0;const u={[t]:n};l&&(u.offset=l);const d=Pv(s,o);Array.isArray(d)&&(u.easing=d),Bf.value&&Sg.waapi++;const h={delay:r,duration:o,easing:Array.isArray(d)?"linear":d,fill:"both",iterations:a+1,direction:"reverse"===i?"alternate":"normal"};c&&(h.pseudoElement=c);const f=e.animate(u,h);return Bf.value&&f.finished.finally(()=>{Sg.waapi--}),f}function Rv(e){return"function"===typeof e&&"applyToOptions"in e}const Iv=["type"];class Mv extends Sv{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,!e)return;const{element:t,name:n,keyframes:r,pseudoElement:o,allowFlatten:a=!1,finalKeyframe:s,onComplete:l}=e;this.isPseudoElement=Boolean(o),this.allowFlatten=a,this.options=e,e.type;const c=function(e){let{type:t}=e,n=i(e,Iv);return Rv(t)&&Tv()?t.applyToOptions(n):(null!==(r=n.duration)&&void 0!==r||(n.duration=300),null!==(o=n.ease)&&void 0!==o||(n.ease="easeOut"),n);var r,o}(e);this.animation=Ov(t,n,r,c,o),!1===c.autoplay&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!o){const e=bv(r,this.options,s,this.speed);this.updateMotionValue?this.updateMotionValue(e):function(e,t,n){(e=>e.startsWith("--"))(t)?e.style.setProperty(t,n):e.style[t]=n}(t,n,e),this.animation.cancel()}null===l||void 0===l||l(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),"finished"===this.state&&this.updateFinished())}pause(){this.animation.pause()}complete(){var e,t;null===(e=(t=this.animation).finish)||void 0===e||e.call(t)}cancel(){try{this.animation.cancel()}catch(IA){}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;"idle"!==e&&"finished"!==e&&(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var e,t;this.isPseudoElement||(null===(e=(t=this.animation).commitStyles)||void 0===e||e.call(t))}get duration(){var e,t;const n=(null===(e=this.animation.effect)||void 0===e||null===(t=e.getComputedTiming)||void 0===t?void 0:t.call(e).duration)||0;return xg(Number(n))}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+xg(e)}get time(){return xg(Number(this.animation.currentTime)||0)}set time(e){this.finishedTime=null,this.animation.currentTime=wg(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return null!==this.finishedTime?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(e){this.animation.startTime=e}attachTimeline(e){let{timeline:t,observe:n}=e;var r;this.allowFlatten&&(null===(r=this.animation.effect)||void 0===r||r.updateTiming({easing:"linear"}));return this.animation.onfinish=null,t&&Cv()?(this.animation.timeline=t,Lf):n(this)}}const Fv={anticipate:sv,backInOut:iv,circInOut:uv};function Lv(e){"string"===typeof e.ease&&e.ease in Fv&&(e.ease=Fv[e.ease])}const Uv=["motionValue","onUpdate","onComplete","element"];class zv extends Mv{constructor(e){Lv(e),xv(e),super(e),e.startTime&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){var t;const n=this.options,{motionValue:r,onUpdate:o,onComplete:a,element:l}=n,c=i(n,Uv);if(!r)return;if(void 0!==e)return void r.set(e);const u=new _v((0,s.A)((0,s.A)({},c),{},{autoplay:!1})),d=wg(null!==(t=this.finishedTime)&&void 0!==t?t:this.time);r.setWithVelocity(u.sample(d-10).value,u.sample(d).value,10),u.stop()}}const Bv=(e,t)=>"zIndex"!==t&&(!("number"!==typeof e&&!Array.isArray(e))||!("string"!==typeof e||!wp.test(e)&&"0"!==e||e.startsWith("url(")));const qv=new Set(["opacity","clipPath","filter","transform"]),Vv=Ev(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));const Wv=["autoplay","delay","type","repeat","repeatDelay","repeatType","keyframes","name","motionValue","element"];class Hv extends Sv{constructor(e){var t;let{autoplay:n=!0,delay:r=0,type:o="keyframes",repeat:a=0,repeatDelay:l=0,repeatType:c="loop",keyframes:u,name:d,motionValue:h,element:f}=e,p=i(e,Wv);super(),this.stop=()=>{var e,t;this._animation&&(this._animation.stop(),null===(t=this.stopTimeline)||void 0===t||t.call(this));null===(e=this.keyframeResolver)||void 0===e||e.cancel()},this.createdAt=Mp.now();const m=(0,s.A)({autoplay:n,delay:r,type:o,repeat:a,repeatDelay:l,repeatType:c,name:d,motionValue:h,element:f},p),g=(null===f||void 0===f?void 0:f.KeyframeResolver)||Zf;this.keyframeResolver=new g(u,(e,t,n)=>this.onKeyframesResolved(e,t,m,!n),d,h,f),null===(t=this.keyframeResolver)||void 0===t||t.scheduleResolve()}onKeyframesResolved(e,t,n,r){this.keyframeResolver=void 0;const{name:o,type:a,velocity:i,delay:l,isHandoff:c,onUpdate:u}=n;this.resolvedAt=Mp.now(),function(e,t,n,r){const o=e[0];if(null===o)return!1;if("display"===t||"visibility"===t)return!0;const a=e[e.length-1],i=Bv(o,t),s=Bv(a,t);return"You are trying to animate ".concat(t,' from "').concat(o,'" to "').concat(a,'". "').concat(i?a:o,'" is not an animatable value.'),!(!i||!s)&&(function(e){const t=e[0];if(1===e.length)return!0;for(let n=0;n<e.length;n++)if(e[n]!==t)return!0}(e)||("spring"===n||Rv(n))&&r)}(e,o,a,i)||(!Uf.instantAnimations&&l||null===u||void 0===u||u(bv(e,n,t)),e[0]=e[e.length-1],vg(n),n.repeat=0);const d=r?this.resolvedAt&&this.resolvedAt-this.createdAt>40?this.resolvedAt:this.createdAt:void 0,h=(0,s.A)((0,s.A)({startTime:d,finalKeyframe:t},n),{},{keyframes:e}),f=!c&&function(e){var t;const{motionValue:n,name:r,repeatDelay:o,repeatType:a,damping:i,type:s}=e;if(!((null===n||void 0===n||null===(t=n.owner)||void 0===t?void 0:t.current)instanceof HTMLElement))return!1;const{onUpdate:l,transformTemplate:c}=n.owner.getProps();return Vv()&&r&&qv.has(r)&&("transform"!==r||!c)&&!l&&!o&&"mirror"!==a&&0!==i&&"inertia"!==s}(h)?new zv((0,s.A)((0,s.A)({},h),{},{element:h.motionValue.owner.current})):new _v(h);f.finished.then(()=>this.notifyFinished()).catch(Lf),this.pendingTimeline&&(this.stopTimeline=f.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=f}get finished(){return this._animation?this.animation.finished:this._finished}then(e,t){return this.finished.finally(e).then(()=>{})}get animation(){var e;this._animation||(null===(e=this.keyframeResolver)||void 0===e||e.resume(),$f=!0,Jf(),Xf(),$f=!1);return this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var e;this._animation&&this.animation.cancel(),null===(e=this.keyframeResolver)||void 0===e||e.cancel()}}const Kv=e=>null!==e;const Gv={type:"spring",stiffness:500,damping:25,restSpeed:10},Qv={type:"keyframes",duration:.8},Yv={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},$v=(e,t)=>{let{keyframes:n}=t;return n.length>2?Qv:Mh.has(e)?e.startsWith("scale")?{type:"spring",stiffness:550,damping:0===n[1]?2*Math.sqrt(550):30,restSpeed:10}:Gv:Yv},Xv=["when","delay","delayChildren","staggerChildren","staggerDirection","repeat","repeatType","repeatDelay","from","elapsed"];const Jv=function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},o=arguments.length>4?arguments[4]:void 0,a=arguments.length>5?arguments[5]:void 0;return l=>{const c=ug(r,e)||{},u=c.delay||r.delay||0;let{elapsed:d=0}=r;d-=wg(u);const h=(0,s.A)((0,s.A)({keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:t.getVelocity()},c),{},{delay:-d,onUpdate:e=>{t.set(e),c.onUpdate&&c.onUpdate(e)},onComplete:()=>{l(),c.onComplete&&c.onComplete()},name:e,motionValue:t,element:a?void 0:o});(function(e){let{when:t,delay:n,delayChildren:r,staggerChildren:o,staggerDirection:a,repeat:s,repeatType:l,repeatDelay:c,from:u,elapsed:d}=e,h=i(e,Xv);return!!Object.keys(h).length})(c)||Object.assign(h,$v(e,h)),h.duration&&(h.duration=wg(h.duration)),h.repeatDelay&&(h.repeatDelay=wg(h.repeatDelay)),void 0!==h.from&&(h.keyframes[0]=h.from);let f=!1;if((!1===h.type||0===h.duration&&!h.repeatDelay)&&(vg(h),0===h.delay&&(f=!0)),(Uf.instantAnimations||Uf.skipAnimations)&&(f=!0,vg(h),h.delay=0),h.allowFlatten=!c.type&&!c.ease,f&&!a&&void 0!==t.get()){const e=function(e,t,n){let{repeat:r,repeatType:o="loop"}=t;const a=e.filter(Kv),i=r&&"loop"!==o&&r%2===1?0:a.length-1;return i&&void 0!==n?n:a[i]}(h.keyframes,c);if(void 0!==e)return void Vf.update(()=>{h.onUpdate(e),h.onComplete()})}return c.isSync?new _v(h):new Hv(h)}},Zv=["transition","transitionEnd"];function ey(e,t){let{protectedKeys:n,needsAnimating:r}=e;const o=n.hasOwnProperty(t)&&!0!==r[t];return r[t]=!1,o}function ty(e,t){let{delay:n=0,transitionOverride:r,type:o}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},{transition:a=e.getDefaultTransition(),transitionEnd:l}=t,c=i(t,Zv);r&&(a=r);const u=[],d=o&&e.animationState&&e.animationState.getState()[o];for(const i in c){var h;const t=e.getValue(i,null!==(h=e.latestValues[i])&&void 0!==h?h:null),r=c[i];if(void 0===r||d&&ey(d,i))continue;const o=(0,s.A)({delay:n},ug(a||{},i)),l=t.get();if(void 0!==l&&!t.isAnimating&&!Array.isArray(r)&&r===l&&!o.velocity)continue;let f=!1;if(window.MotionHandoffAnimation){const t=gg(e);if(t){const e=window.MotionHandoffAnimation(t,i,Vf);null!==e&&(o.startTime=e,f=!0)}}mg(e,i),t.start(Jv(i,t,r,e.shouldReduceMotion&&gf.has(i)?{type:!1}:o,e,f));const p=t.animation;p&&u.push(p)}return l&&Promise.all(u).then(()=>{Vf.update(()=>{l&&function(e,t){let n=cg(e,t)||{},{transitionEnd:r={},transition:o={}}=n,a=i(n,hg);a=(0,s.A)((0,s.A)({},a),r);for(const i in a)fg(e,i,pg(a[i]))}(e,l)})}),u}function ny(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1;const a=Array.from(e).sort((e,t)=>e.sortNodePosition(t)).indexOf(t),i=e.size,s=(i-1)*r;return"function"===typeof n?n(a,i):1===o?a*r:s-a*r}function ry(e,t){var n;let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const o=cg(e,t,"exit"===r.type?null===(n=e.presenceContext)||void 0===n?void 0:n.custom:void 0);let{transition:a=e.getDefaultTransition()||{}}=o||{};r.transitionOverride&&(a=r.transitionOverride);const i=o?()=>Promise.all(ty(e,o,r)):()=>Promise.resolve(),l=e.variantChildren&&e.variantChildren.size?function(){let n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;const{delayChildren:o=0,staggerChildren:i,staggerDirection:l}=a;return function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:1,i=arguments.length>6?arguments[6]:void 0;const l=[];for(const c of e.variantChildren)c.notify("AnimationStart",t),l.push(ry(c,t,(0,s.A)((0,s.A)({},i),{},{delay:n+("function"===typeof r?0:r)+ny(e.variantChildren,c,r,o,a)})).then(()=>c.notify("AnimationComplete",t)));return Promise.all(l)}(e,t,n,o,i,l,r)}:()=>Promise.resolve(),{when:c}=a;if(c){const[e,t]="beforeChildren"===c?[i,l]:[l,i];return e().then(()=>t())}return Promise.all([i(),l(r.delay)])}function oy(e,t){if(!Array.isArray(t))return!1;const n=t.length;if(n!==e.length)return!1;for(let r=0;r<n;r++)if(t[r]!==e[r])return!1;return!0}const ay=nm.length;function iy(e){if(!e)return;if(!e.isControllingVariants){const t=e.parent&&iy(e.parent)||{};return void 0!==e.props.initial&&(t.initial=e.props.initial),t}const t={};for(let n=0;n<ay;n++){const r=nm[n],o=e.props[r];(em(o)||!1===o)&&(t[r]=o)}return t}const sy=["transition","transitionEnd"],ly=[...tm].reverse(),cy=tm.length;function uy(e){return t=>Promise.all(t.map(t=>{let{animation:n,options:r}=t;return function(e,t){let n,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(e.notify("AnimationStart",t),Array.isArray(t)){const o=t.map(t=>ry(e,t,r));n=Promise.all(o)}else if("string"===typeof t)n=ry(e,t,r);else{const o="function"===typeof t?cg(e,t,r.custom):t;n=Promise.all(ty(e,o,r))}return n.then(()=>{e.notify("AnimationComplete",t)})}(e,n,r)}))}function dy(e){let t=uy(e),n=py(),r=!0;const o=t=>(n,r)=>{var o;const a=cg(e,r,"exit"===t?null===(o=e.presenceContext)||void 0===o?void 0:o.custom:void 0);if(a){const{transition:e,transitionEnd:t}=a,r=i(a,sy);n=(0,s.A)((0,s.A)((0,s.A)({},n),r),t)}return n};function a(a){const{props:i}=e,l=iy(e.parent)||{},c=[],u=new Set;let d={},h=1/0;for(let t=0;t<cy;t++){const f=ly[t],p=n[f],m=void 0!==i[f]?i[f]:l[f],g=em(m),v=f===a?p.isActive:null;!1===v&&(h=t);let y=m===l[f]&&m!==i[f]&&g;if(y&&r&&e.manuallyAnimateOnMount&&(y=!1),p.protectedKeys=(0,s.A)({},d),!p.isActive&&null===v||!m&&!p.prevProp||Zp(m)||"boolean"===typeof m)continue;const b=hy(p.prevProp,m);let w=b||f===a&&p.isActive&&!y&&g||t>h&&g,x=!1;const S=Array.isArray(m)?m:[m];let k=S.reduce(o(f),{});!1===v&&(k={});const{prevResolvedValues:_={}}=p,E=(0,s.A)((0,s.A)({},_),k),C=t=>{w=!0,u.has(t)&&(x=!0,u.delete(t)),p.needsAnimating[t]=!0;const n=e.getValue(t);n&&(n.liveStyle=!1)};for(const e in E){const t=k[e],n=_[e];if(d.hasOwnProperty(e))continue;let r=!1;r=dg(t)&&dg(n)?!oy(t,n):t!==n,r?void 0!==t&&null!==t?C(e):u.add(e):void 0!==t&&u.has(e)?C(e):p.protectedKeys[e]=!0}p.prevProp=m,p.prevResolvedValues=k,p.isActive&&(d=(0,s.A)((0,s.A)({},d),k)),r&&e.blockInitialAnimation&&(w=!1);const A=y&&b;w&&(!A||x)&&c.push(...S.map(t=>{const n={type:f};if("string"===typeof t&&r&&!A&&e.manuallyAnimateOnMount&&e.parent){const{parent:r}=e,o=cg(r,t);if(r.enteringChildren&&o){const{delayChildren:t}=o.transition||{};n.delay=ny(r.enteringChildren,e,t)}}return{animation:t,options:n}}))}if(u.size){const t={};if("boolean"!==typeof i.initial){const n=cg(e,Array.isArray(i.initial)?i.initial[0]:i.initial);n&&n.transition&&(t.transition=n.transition)}u.forEach(n=>{const r=e.getBaseTarget(n),o=e.getValue(n);o&&(o.liveStyle=!0),t[n]=null!==r&&void 0!==r?r:null}),c.push({animation:t})}let f=Boolean(c.length);return!r||!1!==i.initial&&i.initial!==i.animate||e.manuallyAnimateOnMount||(f=!1),r=!1,f?t(c):Promise.resolve()}return{animateChanges:a,setActive:function(t,r){var o;if(n[t].isActive===r)return Promise.resolve();null===(o=e.variantChildren)||void 0===o||o.forEach(e=>{var n;return null===(n=e.animationState)||void 0===n?void 0:n.setActive(t,r)}),n[t].isActive=r;const i=a(t);for(const e in n)n[e].protectedKeys={};return i},setAnimateFunction:function(n){t=n(e)},getState:()=>n,reset:()=>{n=py()}}}function hy(e,t){return"string"===typeof t?t!==e:!!Array.isArray(t)&&!oy(t,e)}function fy(){return{isActive:arguments.length>0&&void 0!==arguments[0]&&arguments[0],protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function py(){return{animate:fy(!0),whileInView:fy(),whileHover:fy(),whileTap:fy(),whileDrag:fy(),whileFocus:fy(),exit:fy()}}class my{constructor(e){this.isMounted=!1,this.node=e}update(){}}let gy=0;const vy={animation:{Feature:class extends my{constructor(e){super(e),e.animationState||(e.animationState=dy(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();Zp(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:t}=this.node.prevProps||{};e!==t&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),null===(e=this.unmountControls)||void 0===e||e.call(this)}}},exit:{Feature:class extends my{constructor(){super(...arguments),this.id=gy++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:t}=this.node.presenceContext,{isPresent:n}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===n)return;const r=this.node.animationState.setActive("exit",!e);t&&!e&&r.then(()=>{t(this.id)})}mount(){const{register:e,onExitComplete:t}=this.node.presenceContext||{};t&&t(this.id),e&&(this.unmount=e(this.id))}unmount(){}}}},yy={x:!1,y:!1};function by(){return yy.x||yy.y}function wy(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{passive:!0};return e.addEventListener(t,n,r),()=>e.removeEventListener(t,n)}const xy=e=>"mouse"===e.pointerType?"number"!==typeof e.button||e.button<=0:!1!==e.isPrimary;function Sy(e){return{point:{x:e.pageX,y:e.pageY}}}function ky(e,t,n,r){return wy(e,t,(e=>t=>xy(t)&&e(t,Sy(t)))(n),r)}function _y(e){return e.max-e.min}function Ey(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.5;e.origin=r,e.originPoint=Zh(t.min,t.max,e.origin),e.scale=_y(n)/_y(t),e.translate=Zh(n.min,n.max,e.origin)-e.originPoint,(e.scale>=.9999&&e.scale<=1.0001||isNaN(e.scale))&&(e.scale=1),(e.translate>=-.01&&e.translate<=.01||isNaN(e.translate))&&(e.translate=0)}function Cy(e,t,n,r){Ey(e.x,t.x,n.x,r?r.originX:void 0),Ey(e.y,t.y,n.y,r?r.originY:void 0)}function Ay(e,t,n){e.min=n.min+t.min,e.max=e.min+_y(t)}function jy(e,t,n){e.min=t.min-n.min,e.max=e.min+_y(t)}function Ty(e,t,n){jy(e.x,t.x,n.x),jy(e.y,t.y,n.y)}function Ny(e){return[e("x"),e("y")]}const Dy=e=>{let{current:t}=e;return t?t.ownerDocument.defaultView:null},Py=(e,t)=>Math.abs(e-t);class Oy{constructor(e,t){let{transformPagePoint:n,contextWindow:r=window,dragSnapToOrigin:o=!1,distanceThreshold:a=3}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!this.lastMoveEvent||!this.lastMoveEventInfo)return;const e=My(this.lastMoveEventInfo,this.history),t=null!==this.startEvent,n=function(e,t){const n=Py(e.x,t.x),r=Py(e.y,t.y);return Math.sqrt(n**2+r**2)}(e.offset,{x:0,y:0})>=this.distanceThreshold;if(!t&&!n)return;const{point:r}=e,{timestamp:o}=Hf;this.history.push((0,s.A)((0,s.A)({},r),{},{timestamp:o}));const{onStart:a,onMove:i}=this.handlers;t||(a&&a(this.lastMoveEvent,e),this.startEvent=this.lastMoveEvent),i&&i(this.lastMoveEvent,e)},this.handlePointerMove=(e,t)=>{this.lastMoveEvent=e,this.lastMoveEventInfo=Ry(t,this.transformPagePoint),Vf.update(this.updatePoint,!0)},this.handlePointerUp=(e,t)=>{this.end();const{onEnd:n,onSessionEnd:r,resumeAnimation:o}=this.handlers;if(this.dragSnapToOrigin&&o&&o(),!this.lastMoveEvent||!this.lastMoveEventInfo)return;const a=My("pointercancel"===e.type?this.lastMoveEventInfo:Ry(t,this.transformPagePoint),this.history);this.startEvent&&n&&n(e,a),r&&r(e,a)},!xy(e))return;this.dragSnapToOrigin=o,this.handlers=t,this.transformPagePoint=n,this.distanceThreshold=a,this.contextWindow=r||window;const i=Ry(Sy(e),this.transformPagePoint),{point:l}=i,{timestamp:c}=Hf;this.history=[(0,s.A)((0,s.A)({},l),{},{timestamp:c})];const{onSessionStart:u}=t;u&&u(e,My(i,this.history)),this.removeListeners=bg(ky(this.contextWindow,"pointermove",this.handlePointerMove),ky(this.contextWindow,"pointerup",this.handlePointerUp),ky(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),Wf(this.updatePoint)}}function Ry(e,t){return t?{point:t(e.point)}:e}function Iy(e,t){return{x:e.x-t.x,y:e.y-t.y}}function My(e,t){let{point:n}=e;return{point:n,delta:Iy(n,Ly(t)),offset:Iy(n,Fy(t)),velocity:Uy(t,.1)}}function Fy(e){return e[0]}function Ly(e){return e[e.length-1]}function Uy(e,t){if(e.length<2)return{x:0,y:0};let n=e.length-1,r=null;const o=Ly(e);for(;n>=0&&(r=e[n],!(o.timestamp-r.timestamp>wg(t)));)n--;if(!r)return{x:0,y:0};const a=xg(o.timestamp-r.timestamp);if(0===a)return{x:0,y:0};const i={x:(o.x-r.x)/a,y:(o.y-r.y)/a};return i.x===1/0&&(i.x=0),i.y===1/0&&(i.y=0),i}function zy(e,t,n){return{min:void 0!==t?e.min+t:void 0,max:void 0!==n?e.max+n-(e.max-e.min):void 0}}function By(e,t){let n=t.min-e.min,r=t.max-e.max;return t.max-t.min<e.max-e.min&&([n,r]=[r,n]),{min:n,max:r}}const qy=.35;function Vy(e,t,n){return{min:Wy(e,t),max:Wy(e,n)}}function Wy(e,t){return"number"===typeof e?e:e[t]||0}const Hy=new WeakMap;class Ky{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic={x:{min:0,max:0},y:{min:0,max:0}},this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=e}start(e){let{snapToCursor:t=!1,distanceThreshold:n}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{presenceContext:r}=this.visualElement;if(r&&!1===r.isPresent)return;const{dragSnapToOrigin:o}=this.getProps();this.panSession=new Oy(e,{onSessionStart:e=>{const{dragSnapToOrigin:n}=this.getProps();n?this.pauseAnimation():this.stopAnimation(),t&&this.snapToCursor(Sy(e).point)},onStart:(e,t)=>{const{drag:n,dragPropagation:r,onDragStart:o}=this.getProps();if(n&&!r&&(this.openDragLock&&this.openDragLock(),this.openDragLock="x"===(a=n)||"y"===a?yy[a]?null:(yy[a]=!0,()=>{yy[a]=!1}):yy.x||yy.y?null:(yy.x=yy.y=!0,()=>{yy.x=yy.y=!1}),!this.openDragLock))return;var a;this.latestPointerEvent=e,this.latestPanInfo=t,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Ny(e=>{let t=this.getAxisMotionValue(e).get()||0;if(kf.test(t)){const{projection:n}=this.visualElement;if(n&&n.layout){const r=n.layout.layoutBox[e];if(r){t=_y(r)*(parseFloat(t)/100)}}}this.originPoint[e]=t}),o&&Vf.postRender(()=>o(e,t)),mg(this.visualElement,"transform");const{animationState:i}=this.visualElement;i&&i.setActive("whileDrag",!0)},onMove:(e,t)=>{this.latestPointerEvent=e,this.latestPanInfo=t;const{dragPropagation:n,dragDirectionLock:r,onDirectionLock:o,onDrag:a}=this.getProps();if(!n&&!this.openDragLock)return;const{offset:i}=t;if(r&&null===this.currentDirection)return this.currentDirection=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n=null;Math.abs(e.y)>t?n="y":Math.abs(e.x)>t&&(n="x");return n}(i),void(null!==this.currentDirection&&o&&o(this.currentDirection));this.updateAxis("x",t.point,i),this.updateAxis("y",t.point,i),this.visualElement.render(),a&&a(e,t)},onSessionEnd:(e,t)=>{this.latestPointerEvent=e,this.latestPanInfo=t,this.stop(e,t),this.latestPointerEvent=null,this.latestPanInfo=null},resumeAnimation:()=>Ny(e=>{var t;return"paused"===this.getAnimationState(e)&&(null===(t=this.getAxisMotionValue(e).animation)||void 0===t?void 0:t.play())})},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:o,distanceThreshold:n,contextWindow:Dy(this.visualElement)})}stop(e,t){const n=e||this.latestPointerEvent,r=t||this.latestPanInfo,o=this.isDragging;if(this.cancel(),!o||!r||!n)return;const{velocity:a}=r;this.startAnimation(a);const{onDragEnd:i}=this.getProps();i&&Vf.postRender(()=>i(n,r))}cancel(){this.isDragging=!1;const{projection:e,animationState:t}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:n}=this.getProps();!n&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),t&&t.setActive("whileDrag",!1)}updateAxis(e,t,n){const{drag:r}=this.getProps();if(!n||!Gy(e,r,this.currentDirection))return;const o=this.getAxisMotionValue(e);let a=this.originPoint[e]+n[e];this.constraints&&this.constraints[e]&&(a=function(e,t,n){let{min:r,max:o}=t;return void 0!==r&&e<r?e=n?Zh(r,e,n.min):Math.max(e,r):void 0!==o&&e>o&&(e=n?Zh(o,e,n.max):Math.min(e,o)),e}(a,this.constraints[e],this.elastic[e])),o.set(a)}resolveConstraints(){var e;const{dragConstraints:t,dragElastic:n}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):null===(e=this.visualElement.projection)||void 0===e?void 0:e.layout,o=this.constraints;t&&eg(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):this.constraints=!(!t||!r)&&function(e,t){let{top:n,left:r,bottom:o,right:a}=t;return{x:zy(e.x,r,a),y:zy(e.y,n,o)}}(r.layoutBox,t),this.elastic=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:qy;return!1===e?e=0:!0===e&&(e=qy),{x:Vy(e,"left","right"),y:Vy(e,"top","bottom")}}(n),o!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&Ny(e=>{!1!==this.constraints&&this.getAxisMotionValue(e)&&(this.constraints[e]=function(e,t){const n={};return void 0!==t.min&&(n.min=t.min-e.min),void 0!==t.max&&(n.max=t.max-e.min),n}(r.layoutBox[e],this.constraints[e]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:t}=this.getProps();if(!e||!eg(e))return!1;const n=e.current,{projection:r}=this.visualElement;if(!r||!r.layout)return!1;const o=function(e,t,n){const r=mf(e,n),{scroll:o}=t;return o&&(hf(r.x,o.offset.x),hf(r.y,o.offset.y)),r}(n,r.root,this.visualElement.getTransformPagePoint());let a=function(e,t){return{x:By(e.x,t.x),y:By(e.y,t.y)}}(r.layout.layoutBox,o);if(t){const e=t(function(e){let{x:t,y:n}=e;return{top:n.min,right:t.max,bottom:n.max,left:t.min}}(a));this.hasMutatedConstraints=!!e,e&&(a=Jh(e))}return a}startAnimation(e){const{drag:t,dragMomentum:n,dragElastic:r,dragTransition:o,dragSnapToOrigin:a,onDragTransitionEnd:i}=this.getProps(),l=this.constraints||{},c=Ny(i=>{if(!Gy(i,t,this.currentDirection))return;let c=l&&l[i]||{};a&&(c={min:0,max:0});const u=r?200:1e6,d=r?40:1e7,h=(0,s.A)((0,s.A)({type:"inertia",velocity:n?e[i]:0,bounceStiffness:u,bounceDamping:d,timeConstant:750,restDelta:1,restSpeed:10},o),c);return this.startAxisValueAnimation(i,h)});return Promise.all(c).then(i)}startAxisValueAnimation(e,t){const n=this.getAxisMotionValue(e);return mg(this.visualElement,e),n.start(Jv(e,n,0,t,this.visualElement,!1))}stopAnimation(){Ny(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){Ny(e=>{var t;return null===(t=this.getAxisMotionValue(e).animation)||void 0===t?void 0:t.pause()})}getAnimationState(e){var t;return null===(t=this.getAxisMotionValue(e).animation)||void 0===t?void 0:t.state}getAxisMotionValue(e){const t="_drag".concat(e.toUpperCase()),n=this.visualElement.getProps(),r=n[t];return r||this.visualElement.getValue(e,(n.initial?n.initial[e]:void 0)||0)}snapToCursor(e){Ny(t=>{const{drag:n}=this.getProps();if(!Gy(t,n,this.currentDirection))return;const{projection:r}=this.visualElement,o=this.getAxisMotionValue(t);if(r&&r.layout){const{min:n,max:a}=r.layout.layoutBox[t];o.set(e[t]-Zh(n,a,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:t}=this.getProps(),{projection:n}=this.visualElement;if(!eg(t)||!n||!this.constraints)return;this.stopAnimation();const r={x:0,y:0};Ny(e=>{const t=this.getAxisMotionValue(e);if(t&&!1!==this.constraints){const n=t.get();r[e]=function(e,t){let n=.5;const r=_y(e),o=_y(t);return o>r?n=pv(t.min,t.max-r,e.min):r>o&&(n=pv(e.min,e.max-o,t.min)),vf(0,1,n)}({min:n,max:n},this.constraints[e])}});const{transformTemplate:o}=this.visualElement.getProps();this.visualElement.current.style.transform=o?o({},""):"none",n.root&&n.root.updateScroll(),n.updateLayout(),this.resolveConstraints(),Ny(t=>{if(!Gy(t,e,null))return;const n=this.getAxisMotionValue(t),{min:o,max:a}=this.constraints[t];n.set(Zh(o,a,r[t]))})}addListeners(){if(!this.visualElement.current)return;Hy.set(this.visualElement,this);const e=ky(this.visualElement.current,"pointerdown",e=>{const{drag:t,dragListener:n=!0}=this.getProps();t&&n&&this.start(e)}),t=()=>{const{dragConstraints:e}=this.getProps();eg(e)&&e.current&&(this.constraints=this.resolveRefConstraints())},{projection:n}=this.visualElement,r=n.addEventListener("measure",t);n&&!n.layout&&(n.root&&n.root.updateScroll(),n.updateLayout()),Vf.read(t);const o=wy(window,"resize",()=>this.scalePositionWithinConstraints()),a=n.addEventListener("didUpdate",e=>{let{delta:t,hasLayoutChanged:n}=e;this.isDragging&&n&&(Ny(e=>{const n=this.getAxisMotionValue(e);n&&(this.originPoint[e]+=t[e].translate,n.set(n.get()+t[e].translate))}),this.visualElement.render())});return()=>{o(),e(),r(),a&&a()}}getProps(){const e=this.visualElement.getProps(),{drag:t=!1,dragDirectionLock:n=!1,dragPropagation:r=!1,dragConstraints:o=!1,dragElastic:a=qy,dragMomentum:i=!0}=e;return(0,s.A)((0,s.A)({},e),{},{drag:t,dragDirectionLock:n,dragPropagation:r,dragConstraints:o,dragElastic:a,dragMomentum:i})}}function Gy(e,t,n){return(!0===t||t===e)&&(null===n||n===e)}const Qy=e=>(t,n)=>{e&&Vf.postRender(()=>e(t,n))};const Yy={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function $y(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const Xy={correct:(e,t)=>{if(!t.target)return e;if("string"===typeof e){if(!_f.test(e))return e;e=parseFloat(e)}const n=$y(e,t.target.x),r=$y(e,t.target.y);return"".concat(n,"% ").concat(r,"%")}},Jy={correct:(e,t)=>{let{treeScale:n,projectionDelta:r}=t;const o=e,a=wp.parse(e);if(a.length>5)return o;const i=wp.createTransformer(e),s="number"!==typeof a[0]?1:0,l=r.x.scale*n.x,c=r.y.scale*n.y;a[0+s]/=l,a[1+s]/=c;const u=Zh(l,c,.5);return"number"===typeof a[2+s]&&(a[2+s]/=u),"number"===typeof a[3+s]&&(a[3+s]/=u),i(a)}};let Zy=!1;class eb extends r.Component{componentDidMount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:n,layoutId:r}=this.props,{projection:o}=e;!function(e){for(const t in e)gm[t]=e[t],Qh(t)&&(gm[t].isCSSVariable=!0)}(nb),o&&(t.group&&t.group.add(o),n&&n.register&&r&&n.register(o),Zy&&o.root.didUpdate(),o.addEventListener("animationComplete",()=>{this.safeToRemove()}),o.setOptions((0,s.A)((0,s.A)({},o.options),{},{onExitComplete:()=>this.safeToRemove()}))),Yy.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:t,visualElement:n,drag:r,isPresent:o}=this.props,{projection:a}=n;return a?(a.isPresent=o,Zy=!0,r||e.layoutDependency!==t||void 0===t||e.isPresent!==o?a.willUpdate():this.safeToRemove(),e.isPresent!==o&&(o?a.promote():a.relegate()||Vf.postRender(()=>{const e=a.getStack();e&&e.members.length||this.safeToRemove()})),null):null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),Hp.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:n}=this.props,{projection:r}=e;Zy=!0,r&&(r.scheduleCheckAfterUnmount(),t&&t.group&&t.group.remove(r),n&&n.deregister&&n.deregister(r))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function tb(e){const[t,n]=Dh(),o=(0,r.useContext)(vh);return(0,kt.jsx)(eb,(0,s.A)((0,s.A)({},e),{},{layoutGroup:o,switchLayoutGroup:(0,r.useContext)(rg),isPresent:t,safeToRemove:n}))}const nb={borderRadius:(0,s.A)((0,s.A)({},Xy),{},{applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]}),borderTopLeftRadius:Xy,borderTopRightRadius:Xy,borderBottomLeftRadius:Xy,borderBottomRightRadius:Xy,boxShadow:Jy};function rb(e){return Sh(e)&&"ownerSVGElement"in e}const ob=(e,t)=>e.depth-t.depth;class ab{constructor(){this.children=[],this.isDirty=!1}add(e){Fp(this.children,e),this.isDirty=!0}remove(e){Lp(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(ob),this.isDirty=!1,this.children.forEach(e)}}function ib(e,t){const n=Mp.now(),r=o=>{let{timestamp:a}=o;const i=a-n;i>=t&&(Wf(r),e(i-t))};return Vf.setup(r,!0),()=>Wf(r)}const sb=["TopLeft","TopRight","BottomLeft","BottomRight"],lb=sb.length,cb=e=>"string"===typeof e?parseFloat(e):e,ub=e=>"number"===typeof e||_f.test(e);function db(e,t){return void 0!==e[t]?e[t]:e.borderRadius}const hb=pb(0,.5,cv),fb=pb(.5,.95,Lf);function pb(e,t,n){return r=>r<e?0:r>t?1:n(pv(e,t,r))}function mb(e,t){e.min=t.min,e.max=t.max}function gb(e,t){mb(e.x,t.x),mb(e.y,t.y)}function vb(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}function yb(e,t,n,r,o){return e=af(e-=t,1/n,r),void 0!==o&&(e=af(e,1/o,r)),e}function bb(e,t,n,r,o){let[a,i,s]=n;!function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.5,o=arguments.length>4?arguments[4]:void 0,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:e,i=arguments.length>6&&void 0!==arguments[6]?arguments[6]:e;kf.test(t)&&(t=parseFloat(t),t=Zh(i.min,i.max,t/100)-i.min);if("number"!==typeof t)return;let s=Zh(a.min,a.max,r);e===a&&(s-=t),e.min=yb(e.min,t,n,s,o),e.max=yb(e.max,t,n,s,o)}(e,t[a],t[i],t[s],t.scale,r,o)}const wb=["x","scaleX","originX"],xb=["y","scaleY","originY"];function Sb(e,t,n,r){bb(e.x,t,wb,n?n.x:void 0,r?r.x:void 0),bb(e.y,t,xb,n?n.y:void 0,r?r.y:void 0)}function kb(e){return 0===e.translate&&1===e.scale}function _b(e){return kb(e.x)&&kb(e.y)}function Eb(e,t){return e.min===t.min&&e.max===t.max}function Cb(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function Ab(e,t){return Cb(e.x,t.x)&&Cb(e.y,t.y)}function jb(e){return _y(e.x)/_y(e.y)}function Tb(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}class Nb{constructor(){this.members=[]}add(e){Fp(this.members,e),e.scheduleRender()}remove(e){if(Lp(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const e=this.members[this.members.length-1];e&&this.promote(e)}}relegate(e){const t=this.members.findIndex(t=>e===t);if(0===t)return!1;let n;for(let r=t;r>=0;r--){const e=this.members[r];if(!1!==e.isPresent){n=e;break}}return!!n&&(this.promote(n),!0)}promote(e,t){const n=this.lead;if(e!==n&&(this.prevLead=n,this.lead=e,e.show(),n)){n.instance&&n.scheduleRender(),e.scheduleRender(),e.resumeFrom=n,t&&(e.resumeFrom.preserveOpacity=!0),n.snapshot&&(e.snapshot=n.snapshot,e.snapshot.latestValues=n.animationValues||n.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:r}=e.options;!1===r&&n.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:t,resumingFrom:n}=e;t.onExitComplete&&t.onExitComplete(),n&&n.options.onExitComplete&&n.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}const Db={nodes:0,calculatedTargetDeltas:0,calculatedProjections:0},Pb=["","X","Y","Z"];let Ob=0;function Rb(e,t,n,r){const{latestValues:o}=t;o[e]&&(n[e]=o[e],t.setStaticValue(e,0),r&&(r[e]=0))}function Ib(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:t}=e.options;if(!t)return;const n=gg(t);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:t,layoutId:r}=e.options;window.MotionCancelOptimisedAnimation(n,"transform",Vf,!(t||r))}const{parent:r}=e;r&&!r.hasCheckedOptimisedAppear&&Ib(r)}function Mb(e){let{attachResizeListener:t,defaultParent:n,measureScroll:r,checkIsScrollRoot:o,resetTransform:a}=e;return class{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null===n||void 0===n?void 0:n();this.id=Ob++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,Bf.value&&(Db.nodes=Db.calculatedTargetDeltas=Db.calculatedProjections=0),this.nodes.forEach(Ub),this.nodes.forEach(Kb),this.nodes.forEach(Gb),this.nodes.forEach(zb),Bf.addProjectionMetrics&&Bf.addProjectionMetrics(Db)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=e,this.root=t?t.root||t:this,this.path=t?[...t.path,t]:[],this.parent=t,this.depth=t?t.depth+1:0;for(let n=0;n<this.path.length;n++)this.path[n].shouldResetTransform=!0;this.root===this&&(this.nodes=new ab)}addEventListener(e,t){return this.eventHandlers.has(e)||this.eventHandlers.set(e,new Up),this.eventHandlers.get(e).add(t)}notifyListeners(e){const t=this.eventHandlers.get(e);for(var n=arguments.length,r=new Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];t&&t.notify(...r)}hasListeners(e){return this.eventHandlers.has(e)}mount(e){if(this.instance)return;var n;this.isSVG=rb(e)&&!(rb(n=e)&&"svg"===n.tagName),this.instance=e;const{layoutId:r,layout:o,visualElement:a}=this.options;if(a&&!a.current&&a.mount(e),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(o||r)&&(this.isLayoutDirty=!0),t){let n,r=0;const o=()=>this.root.updateBlockedByResize=!1;Vf.read(()=>{r=window.innerWidth}),t(e,()=>{const e=window.innerWidth;e!==r&&(r=e,this.root.updateBlockedByResize=!0,n&&n(),n=ib(o,250),Yy.hasAnimatedSinceResize&&(Yy.hasAnimatedSinceResize=!1,this.nodes.forEach(Hb)))})}r&&this.root.registerSharedNode(r,this),!1!==this.options.animate&&a&&(r||o)&&this.addEventListener("didUpdate",e=>{let{delta:t,hasLayoutChanged:n,hasRelativeLayoutChanged:r,layout:o}=e;if(this.isTreeAnimationBlocked())return this.target=void 0,void(this.relativeTarget=void 0);const i=this.options.transition||a.getDefaultTransition()||Zb,{onLayoutAnimationStart:l,onLayoutAnimationComplete:c}=a.getProps(),u=!this.targetLayout||!Ab(this.targetLayout,o),d=!n&&r;if(this.options.layoutRoot||this.resumeFrom||d||n&&(u||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const e=(0,s.A)((0,s.A)({},ug(i,"layout")),{},{onPlay:l,onComplete:c});(a.shouldReduceMotion||this.options.layoutRoot)&&(e.delay=0,e.type=!1),this.startAnimation(e),this.setAnimationOrigin(t,d)}else n||Hb(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=o})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const e=this.getStack();e&&e.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),Wf(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(Qb),this.animationId++)}getTransformTemplate(){const{visualElement:e}=this.options;return e&&e.getProps().transformTemplate}willUpdate(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked())return void(this.options.onExitComplete&&this.options.onExitComplete());if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&Ib(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let o=0;o<this.path.length;o++){const e=this.path[o];e.shouldResetTransform=!0,e.updateScroll("snapshot"),e.options.layoutRoot&&e.willUpdate(!1)}const{layoutId:t,layout:n}=this.options;if(void 0===t&&!n)return;const r=this.getTransformTemplate();this.prevTransformTemplateValue=r?r(this.latestValues,""):void 0,this.updateSnapshot(),e&&this.notifyListeners("willUpdate")}update(){this.updateScheduled=!1;if(this.isUpdateBlocked())return this.unblockUpdate(),this.clearAllSnapshots(),void this.nodes.forEach(qb);if(this.animationId<=this.animationCommitId)return void this.nodes.forEach(Vb);this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(Wb),this.nodes.forEach(Fb),this.nodes.forEach(Lb)):this.nodes.forEach(Vb),this.clearAllSnapshots();const e=Mp.now();Hf.delta=vf(0,1e3/60,e-Hf.timestamp),Hf.timestamp=e,Hf.isProcessing=!0,Kf.update.process(Hf),Kf.preRender.process(Hf),Kf.render.process(Hf),Hf.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,Hp.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(Bb),this.sharedNodes.forEach(Yb)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Vf.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Vf.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){!this.snapshot&&this.instance&&(this.snapshot=this.measure(),!this.snapshot||_y(this.snapshot.measuredBox.x)||_y(this.snapshot.measuredBox.y)||(this.snapshot=void 0))}updateLayout(){if(!this.instance)return;if(this.updateScroll(),(!this.options.alwaysMeasureLayout||!this.isLead())&&!this.isLayoutDirty)return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let n=0;n<this.path.length;n++){this.path[n].updateScroll()}const e=this.layout;this.layout=this.measure(!1),this.layoutCorrected={x:{min:0,max:0},y:{min:0,max:0}},this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:t}=this.options;t&&t.notify("LayoutMeasure",this.layout.layoutBox,e?e.layoutBox:void 0)}updateScroll(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"measure",t=Boolean(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===e&&(t=!1),t&&this.instance){const t=o(this.instance);this.scroll={animationId:this.root.animationId,phase:e,isRoot:t,offset:r(this.instance),wasRoot:this.scroll?this.scroll.isRoot:t}}}resetTransform(){if(!a)return;const e=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,t=this.projectionDelta&&!_b(this.projectionDelta),n=this.getTransformTemplate(),r=n?n(this.latestValues,""):void 0,o=r!==this.prevTransformTemplateValue;e&&this.instance&&(t||nf(this.latestValues)||o)&&(a(this.instance,r),this.shouldResetTransform=!1,this.scheduleRender())}measure(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];const t=this.measurePageBox();let n=this.removeElementScroll(t);var r;return e&&(n=this.removeTransform(n)),nw((r=n).x),nw(r.y),{animationId:this.root.animationId,measuredBox:t,layoutBox:n,latestValues:{},source:this.id}}measurePageBox(){var e;const{visualElement:t}=this.options;if(!t)return{x:{min:0,max:0},y:{min:0,max:0}};const n=t.measureViewportBox();if(!((null===(e=this.scroll)||void 0===e?void 0:e.wasRoot)||this.path.some(ow))){const{scroll:e}=this.root;e&&(hf(n.x,e.offset.x),hf(n.y,e.offset.y))}return n}removeElementScroll(e){var t;const n={x:{min:0,max:0},y:{min:0,max:0}};if(gb(n,e),null!==(t=this.scroll)&&void 0!==t&&t.wasRoot)return n;for(let r=0;r<this.path.length;r++){const t=this.path[r],{scroll:o,options:a}=t;t!==this.root&&o&&a.layoutScroll&&(o.wasRoot&&gb(n,e),hf(n.x,o.offset.x),hf(n.y,o.offset.y))}return n}applyTransform(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n={x:{min:0,max:0},y:{min:0,max:0}};gb(n,e);for(let r=0;r<this.path.length;r++){const e=this.path[r];!t&&e.options.layoutScroll&&e.scroll&&e!==e.root&&pf(n,{x:-e.scroll.offset.x,y:-e.scroll.offset.y}),nf(e.latestValues)&&pf(n,e.latestValues)}return nf(this.latestValues)&&pf(n,this.latestValues),n}removeTransform(e){const t={x:{min:0,max:0},y:{min:0,max:0}};gb(t,e);for(let n=0;n<this.path.length;n++){const e=this.path[n];if(!e.instance)continue;if(!nf(e.latestValues))continue;tf(e.latestValues)&&e.updateSnapshot();const r=Yp();gb(r,e.measurePageBox()),Sb(t,e.latestValues,e.snapshot?e.snapshot.layoutBox:void 0,r)}return nf(this.latestValues)&&Sb(t,this.latestValues),t}setTargetDelta(e){this.targetDelta=e,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(e){this.options=(0,s.A)((0,s.A)((0,s.A)({},this.options),e),{},{crossfade:void 0===e.crossfade||e.crossfade})}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Hf.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(){var e;let t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];const n=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=n.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=n.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=n.isSharedProjectionDirty);const r=Boolean(this.resumingFrom)||this!==n;if(!(t||r&&this.isSharedProjectionDirty||this.isProjectionDirty||null!==(e=this.parent)&&void 0!==e&&e.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:o,layoutId:a}=this.options;if(this.layout&&(o||a)){if(this.resolvedRelativeTargetAt=Hf.timestamp,!this.targetDelta&&!this.relativeTarget){const e=this.getClosestProjectingParent();e&&e.layout&&1!==this.animationProgress?(this.relativeParent=e,this.forceRelativeParentToResolveTarget(),this.relativeTarget={x:{min:0,max:0},y:{min:0,max:0}},this.relativeTargetOrigin={x:{min:0,max:0},y:{min:0,max:0}},Ty(this.relativeTargetOrigin,this.layout.layoutBox,e.layout.layoutBox),gb(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(this.relativeTarget||this.targetDelta){var i,s,l;if(this.target||(this.target={x:{min:0,max:0},y:{min:0,max:0}},this.targetWithTransforms={x:{min:0,max:0},y:{min:0,max:0}}),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),i=this.target,s=this.relativeTarget,l=this.relativeParent.target,Ay(i.x,s.x,l.x),Ay(i.y,s.y,l.y)):this.targetDelta?(Boolean(this.resumingFrom)?this.target=this.applyTransform(this.layout.layoutBox):gb(this.target,this.layout.layoutBox),cf(this.target,this.targetDelta)):gb(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const e=this.getClosestProjectingParent();e&&Boolean(e.resumingFrom)===Boolean(this.resumingFrom)&&!e.options.layoutScroll&&e.target&&1!==this.animationProgress?(this.relativeParent=e,this.forceRelativeParentToResolveTarget(),this.relativeTarget={x:{min:0,max:0},y:{min:0,max:0}},this.relativeTargetOrigin={x:{min:0,max:0},y:{min:0,max:0}},Ty(this.relativeTargetOrigin,this.target,e.target),gb(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}Bf.value&&Db.calculatedTargetDeltas++}}}getClosestProjectingParent(){if(this.parent&&!tf(this.parent.latestValues)&&!rf(this.parent.latestValues))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return Boolean((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var e;const t=this.getLead(),n=Boolean(this.resumingFrom)||this!==t;let r=!0;if((this.isProjectionDirty||null!==(e=this.parent)&&void 0!==e&&e.isProjectionDirty)&&(r=!1),n&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(r=!1),this.resolvedRelativeTargetAt===Hf.timestamp&&(r=!1),r)return;const{layout:o,layoutId:a}=this.options;if(this.isTreeAnimating=Boolean(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!o&&!a)return;gb(this.layoutCorrected,this.layout.layoutBox);const i=this.treeScale.x,s=this.treeScale.y;!function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const o=n.length;if(!o)return;let a,i;t.x=t.y=1;for(let s=0;s<o;s++){a=n[s],i=a.projectionDelta;const{visualElement:o}=a.options;o&&o.props.style&&"contents"===o.props.style.display||(r&&a.options.layoutScroll&&a.scroll&&a!==a.root&&pf(e,{x:-a.scroll.offset.x,y:-a.scroll.offset.y}),i&&(t.x*=i.x.scale,t.y*=i.y.scale,cf(e,i)),r&&nf(a.latestValues)&&pf(e,a.latestValues))}t.x<df&&t.x>uf&&(t.x=1),t.y<df&&t.y>uf&&(t.y=1)}(this.layoutCorrected,this.treeScale,this.path,n),!t.layout||t.target||1===this.treeScale.x&&1===this.treeScale.y||(t.target=t.layout.layoutBox,t.targetWithTransforms={x:{min:0,max:0},y:{min:0,max:0}});const{target:l}=t;l?(this.projectionDelta&&this.prevProjectionDelta?(vb(this.prevProjectionDelta.x,this.projectionDelta.x),vb(this.prevProjectionDelta.y,this.projectionDelta.y)):this.createProjectionDeltas(),Cy(this.projectionDelta,this.layoutCorrected,l,this.latestValues),this.treeScale.x===i&&this.treeScale.y===s&&Tb(this.projectionDelta.x,this.prevProjectionDelta.x)&&Tb(this.projectionDelta.y,this.prevProjectionDelta.y)||(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",l)),Bf.value&&Db.calculatedProjections++):this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender())}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(){var e;let t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];if(null===(e=this.options.visualElement)||void 0===e||e.scheduleRender(),t){const e=this.getStack();e&&e.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}},this.projectionDelta={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}},this.projectionDeltaWithTransform={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}}}setAnimationOrigin(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=this.snapshot,r=n?n.latestValues:{},o=(0,s.A)({},this.latestValues),a={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}};this.relativeParent&&this.relativeParent.options.layoutRoot||(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!t;const i={x:{min:0,max:0},y:{min:0,max:0}},l=(n?n.source:void 0)!==(this.layout?this.layout.source:void 0),c=this.getStack(),u=!c||c.members.length<=1,d=Boolean(l&&!u&&!0===this.options.crossfade&&!this.path.some(Jb));let h;this.animationProgress=0,this.mixTargetDelta=t=>{const n=t/1e3;var s,c,f,p,m,g;$b(a.x,e.x,n),$b(a.y,e.y,n),this.setTargetDelta(a),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Ty(i,this.layout.layoutBox,this.relativeParent.layout.layoutBox),f=this.relativeTarget,p=this.relativeTargetOrigin,m=i,g=n,Xb(f.x,p.x,m.x,g),Xb(f.y,p.y,m.y,g),h&&(s=this.relativeTarget,c=h,Eb(s.x,c.x)&&Eb(s.y,c.y))&&(this.isProjectionDirty=!1),h||(h={x:{min:0,max:0},y:{min:0,max:0}}),gb(h,this.relativeTarget)),l&&(this.animationValues=o,function(e,t,n,r,o,a){var i,s;if(o)e.opacity=Zh(0,null!==(i=n.opacity)&&void 0!==i?i:1,hb(r)),e.opacityExit=Zh(null!==(s=t.opacity)&&void 0!==s?s:1,0,fb(r));else if(a){var l,c;e.opacity=Zh(null!==(l=t.opacity)&&void 0!==l?l:1,null!==(c=n.opacity)&&void 0!==c?c:1,r)}for(let u=0;u<lb;u++){const o="border".concat(sb[u],"Radius");let a=db(t,o),i=db(n,o);void 0===a&&void 0===i||(a||(a=0),i||(i=0),0===a||0===i||ub(a)===ub(i)?(e[o]=Math.max(Zh(cb(a),cb(i),r),0),(kf.test(i)||kf.test(a))&&(e[o]+="%")):e[o]=i)}(t.rotate||n.rotate)&&(e.rotate=Zh(t.rotate||0,n.rotate||0,r))}(o,r,this.latestValues,n,d,u)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=n},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(e){var t,n;this.notifyListeners("animationStart"),null===(t=this.currentAnimation)||void 0===t||t.stop(),null===(n=this.resumingFrom)||void 0===n||null===(n=n.currentAnimation)||void 0===n||n.stop(),this.pendingAnimation&&(Wf(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Vf.update(()=>{Yy.hasAnimatedSinceResize=!0,Sg.layout++,this.motionValue||(this.motionValue=Vp(0)),this.currentAnimation=function(e,t,n){const r=Op(e)?e:Vp(e);return r.start(Jv("",r,t,n)),r.animation}(this.motionValue,[0,1e3],(0,s.A)((0,s.A)({},e),{},{velocity:0,isSync:!0,onUpdate:t=>{this.mixTargetDelta(t),e.onUpdate&&e.onUpdate(t)},onStop:()=>{Sg.layout--},onComplete:()=>{Sg.layout--,e.onComplete&&e.onComplete(),this.completeAnimation()}})),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const e=this.getStack();e&&e.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(1e3),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const e=this.getLead();let{targetWithTransforms:t,target:n,layout:r,latestValues:o}=e;if(t&&n&&r){if(this!==e&&this.layout&&r&&rw(this.options.animationType,this.layout.layoutBox,r.layoutBox)){n=this.target||{x:{min:0,max:0},y:{min:0,max:0}};const t=_y(this.layout.layoutBox.x);n.x.min=e.target.x.min,n.x.max=n.x.min+t;const r=_y(this.layout.layoutBox.y);n.y.min=e.target.y.min,n.y.max=n.y.min+r}gb(t,n),pf(t,o),Cy(this.projectionDeltaWithTransform,this.layoutCorrected,t,o)}}registerSharedNode(e,t){this.sharedNodes.has(e)||this.sharedNodes.set(e,new Nb);this.sharedNodes.get(e).add(t);const n=t.options.initialPromotionConfig;t.promote({transition:n?n.transition:void 0,preserveFollowOpacity:n&&n.shouldPreserveFollowOpacity?n.shouldPreserveFollowOpacity(t):void 0})}isLead(){const e=this.getStack();return!e||e.lead===this}getLead(){var e;const{layoutId:t}=this.options;return t&&(null===(e=this.getStack())||void 0===e?void 0:e.lead)||this}getPrevLead(){var e;const{layoutId:t}=this.options;return t?null===(e=this.getStack())||void 0===e?void 0:e.prevLead:void 0}getStack(){const{layoutId:e}=this.options;if(e)return this.root.sharedNodes.get(e)}promote(){let{needsReset:e,transition:t,preserveFollowOpacity:n}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const r=this.getStack();r&&r.promote(this,n),e&&(this.projectionDelta=void 0,this.needsReset=!0),t&&this.setOptions({transition:t})}relegate(){const e=this.getStack();return!!e&&e.relegate(this)}resetSkewAndRotation(){const{visualElement:e}=this.options;if(!e)return;let t=!1;const{latestValues:n}=e;if((n.z||n.rotate||n.rotateX||n.rotateY||n.rotateZ||n.skewX||n.skewY)&&(t=!0),!t)return;const r={};n.z&&Rb("z",e,r,this.animationValues);for(let o=0;o<Pb.length;o++)Rb("rotate".concat(Pb[o]),e,r,this.animationValues),Rb("skew".concat(Pb[o]),e,r,this.animationValues);e.render();for(const o in r)e.setStaticValue(o,r[o]),this.animationValues&&(this.animationValues[o]=r[o]);e.scheduleRender()}applyProjectionStyles(e,t){if(!this.instance||this.isSVG)return;if(!this.isVisible)return void(e.visibility="hidden");const n=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,e.visibility="",e.opacity="",e.pointerEvents=Gm(null===t||void 0===t?void 0:t.pointerEvents)||"",void(e.transform=n?n(this.latestValues,""):"none");const r=this.getLead();if(!this.projectionDelta||!this.layout||!r.target)return this.options.layoutId&&(e.opacity=void 0!==this.latestValues.opacity?this.latestValues.opacity:1,e.pointerEvents=Gm(null===t||void 0===t?void 0:t.pointerEvents)||""),void(this.hasProjected&&!nf(this.latestValues)&&(e.transform=n?n({},""):"none",this.hasProjected=!1));e.visibility="";const o=r.animationValues||r.latestValues;this.applyTransformsToTarget();let a=function(e,t,n){let r="";const o=e.x.translate/t.x,a=e.y.translate/t.y,i=(null===n||void 0===n?void 0:n.z)||0;if((o||a||i)&&(r="translate3d(".concat(o,"px, ").concat(a,"px, ").concat(i,"px) ")),1===t.x&&1===t.y||(r+="scale(".concat(1/t.x,", ").concat(1/t.y,") ")),n){const{transformPerspective:e,rotate:t,rotateX:o,rotateY:a,skewX:i,skewY:s}=n;e&&(r="perspective(".concat(e,"px) ").concat(r)),t&&(r+="rotate(".concat(t,"deg) ")),o&&(r+="rotateX(".concat(o,"deg) ")),a&&(r+="rotateY(".concat(a,"deg) ")),i&&(r+="skewX(".concat(i,"deg) ")),s&&(r+="skewY(".concat(s,"deg) "))}const s=e.x.scale*t.x,l=e.y.scale*t.y;return 1===s&&1===l||(r+="scale(".concat(s,", ").concat(l,")")),r||"none"}(this.projectionDeltaWithTransform,this.treeScale,o);n&&(a=n(o,a)),e.transform=a;const{x:i,y:s}=this.projectionDelta;var l,c;(e.transformOrigin="".concat(100*i.origin,"% ").concat(100*s.origin,"% 0"),r.animationValues)?e.opacity=r===this?null!==(l=null!==(c=o.opacity)&&void 0!==c?c:this.latestValues.opacity)&&void 0!==l?l:1:this.preserveOpacity?this.latestValues.opacity:o.opacityExit:e.opacity=r===this?void 0!==o.opacity?o.opacity:"":void 0!==o.opacityExit?o.opacityExit:0;for(const u in gm){if(void 0===o[u])continue;const{correct:t,applyTo:n,isCSSVariable:i}=gm[u],s="none"===a?o[u]:t(o[u],r);if(n){const t=n.length;for(let r=0;r<t;r++)e[n[r]]=s}else i?this.options.visualElement.renderState.vars[u]=s:e[u]=s}this.options.layoutId&&(e.pointerEvents=r===this?Gm(null===t||void 0===t?void 0:t.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(e=>{var t;return null===(t=e.currentAnimation)||void 0===t?void 0:t.stop()}),this.root.nodes.forEach(qb),this.root.sharedNodes.clear()}}}function Fb(e){e.updateLayout()}function Lb(e){var t;const n=(null===(t=e.resumeFrom)||void 0===t?void 0:t.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&n&&e.hasListeners("didUpdate")){const{layoutBox:t,measuredBox:r}=e.layout,{animationType:o}=e.options,a=n.source!==e.layout.source;"size"===o?Ny(e=>{const r=a?n.measuredBox[e]:n.layoutBox[e],o=_y(r);r.min=t[e].min,r.max=r.min+o}):rw(o,n.layoutBox,t)&&Ny(r=>{const o=a?n.measuredBox[r]:n.layoutBox[r],i=_y(t[r]);o.max=o.min+i,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[r].max=e.relativeTarget[r].min+i)});const i={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}};Cy(i,t,n.layoutBox);const s={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}};a?Cy(s,e.applyTransform(r,!0),n.measuredBox):Cy(s,t,n.layoutBox);const l=!_b(i);let c=!1;if(!e.resumeFrom){const r=e.getClosestProjectingParent();if(r&&!r.resumeFrom){const{snapshot:o,layout:a}=r;if(o&&a){const i={x:{min:0,max:0},y:{min:0,max:0}};Ty(i,n.layoutBox,o.layoutBox);const s={x:{min:0,max:0},y:{min:0,max:0}};Ty(s,t,a.layoutBox),Ab(i,s)||(c=!0),r.options.layoutRoot&&(e.relativeTarget=s,e.relativeTargetOrigin=i,e.relativeParent=r)}}}e.notifyListeners("didUpdate",{layout:t,snapshot:n,delta:s,layoutDelta:i,hasLayoutChanged:l,hasRelativeLayoutChanged:c})}else if(e.isLead()){const{onExitComplete:t}=e.options;t&&t()}e.options.transition=void 0}function Ub(e){Bf.value&&Db.nodes++,e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=Boolean(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function zb(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function Bb(e){e.clearSnapshot()}function qb(e){e.clearMeasurements()}function Vb(e){e.isLayoutDirty=!1}function Wb(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function Hb(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function Kb(e){e.resolveTargetDelta()}function Gb(e){e.calcProjection()}function Qb(e){e.resetSkewAndRotation()}function Yb(e){e.removeLeadSnapshot()}function $b(e,t,n){e.translate=Zh(t.translate,0,n),e.scale=Zh(t.scale,1,n),e.origin=t.origin,e.originPoint=t.originPoint}function Xb(e,t,n,r){e.min=Zh(t.min,n.min,r),e.max=Zh(t.max,n.max,r)}function Jb(e){return e.animationValues&&void 0!==e.animationValues.opacityExit}const Zb={duration:.45,ease:[.4,0,.1,1]},ew=e=>"undefined"!==typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),tw=ew("applewebkit/")&&!ew("chrome/")?Math.round:Lf;function nw(e){e.min=tw(e.min),e.max=tw(e.max)}function rw(e,t,n){return"position"===e||"preserve-aspect"===e&&(r=jb(t),o=jb(n),a=.2,!(Math.abs(r-o)<=a));var r,o,a}function ow(e){var t;return e!==e.root&&(null===(t=e.scroll)||void 0===t?void 0:t.wasRoot)}const aw=Mb({attachResizeListener:(e,t)=>wy(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),iw={current:void 0},sw=Mb({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!iw.current){const e=new aw({});e.mount(window),e.setOptions({layoutScroll:!0}),iw.current=e}return iw.current},resetTransform:(e,t)=>{e.style.transform=void 0!==t?t:"none"},checkIsScrollRoot:e=>Boolean("fixed"===window.getComputedStyle(e).position)}),lw={pan:{Feature:class extends my{constructor(){super(...arguments),this.removePointerDownListener=Lf}onPointerDown(e){this.session=new Oy(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:Dy(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:t,onPan:n,onPanEnd:r}=this.node.getProps();return{onSessionStart:Qy(e),onStart:Qy(t),onMove:n,onEnd:(e,t)=>{delete this.session,r&&Vf.postRender(()=>r(e,t))}}}mount(){this.removePointerDownListener=ky(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}},drag:{Feature:class extends my{constructor(e){super(e),this.removeGroupControls=Lf,this.removeListeners=Lf,this.controls=new Ky(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Lf}unmount(){this.removeGroupControls(),this.removeListeners()}},ProjectionNode:sw,MeasureLayout:tb}};function cw(e,t){const n=function(e,t,n){if(e instanceof EventTarget)return[e];if("string"===typeof e){var r;let o=document;t&&(o=t.current);const a=null!==(r=null===n||void 0===n?void 0:n[e])&&void 0!==r?r:o.querySelectorAll(e);return a?Array.from(a):[]}return Array.from(e)}(e),r=new AbortController;return[n,(0,s.A)((0,s.A)({passive:!0},t),{},{signal:r.signal}),()=>r.abort()]}function uw(e){return!("touch"===e.pointerType||by())}function dw(e,t,n){const{props:r}=e;e.animationState&&r.whileHover&&e.animationState.setActive("whileHover","Start"===n);const o=r["onHover"+n];o&&Vf.postRender(()=>o(t,Sy(t)))}const hw=(e,t)=>!!t&&(e===t||hw(e,t.parentElement)),fw=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);const pw=new WeakSet;function mw(e){return t=>{"Enter"===t.key&&e(t)}}function gw(e,t){e.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}function vw(e){return xy(e)&&!by()}function yw(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const[r,o,a]=cw(e,n),i=e=>{const r=e.currentTarget;if(!vw(e))return;pw.add(r);const a=t(r,e),i=(e,t)=>{window.removeEventListener("pointerup",s),window.removeEventListener("pointercancel",l),pw.has(r)&&pw.delete(r),vw(e)&&"function"===typeof a&&a(e,{success:t})},s=e=>{i(e,r===window||r===document||n.useGlobalTarget||hw(r,e.target))},l=e=>{i(e,!1)};window.addEventListener("pointerup",s,o),window.addEventListener("pointercancel",l,o)};return r.forEach(e=>{var t;(n.useGlobalTarget?window:e).addEventListener("pointerdown",i,o),kh(e)&&(e.addEventListener("focus",e=>((e,t)=>{const n=e.currentTarget;if(!n)return;const r=mw(()=>{if(pw.has(n))return;gw(n,"down");const e=mw(()=>{gw(n,"up")});n.addEventListener("keyup",e,t),n.addEventListener("blur",()=>gw(n,"cancel"),t)});n.addEventListener("keydown",r,t),n.addEventListener("blur",()=>n.removeEventListener("keydown",r),t)})(e,o)),t=e,fw.has(t.tagName)||-1!==t.tabIndex||e.hasAttribute("tabindex")||(e.tabIndex=0))}),a}function bw(e,t,n){const{props:r}=e;if(e.current instanceof HTMLButtonElement&&e.current.disabled)return;e.animationState&&r.whileTap&&e.animationState.setActive("whileTap","Start"===n);const o=r["onTap"+("End"===n?"":n)];o&&Vf.postRender(()=>o(t,Sy(t)))}const ww=["root"],xw=new WeakMap,Sw=new WeakMap,kw=e=>{const t=xw.get(e.target);t&&t(e)},_w=e=>{e.forEach(kw)};function Ew(e,t,n){const r=function(e){let{root:t}=e,n=i(e,ww);const r=t||document;Sw.has(r)||Sw.set(r,{});const o=Sw.get(r),a=JSON.stringify(n);return o[a]||(o[a]=new IntersectionObserver(_w,(0,s.A)({root:t},n))),o[a]}(t);return xw.set(e,n),r.observe(e),()=>{xw.delete(e),r.unobserve(e)}}const Cw={some:0,all:1};const Aw={inView:{Feature:class extends my{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:t,margin:n,amount:r="some",once:o}=e,a={root:t?t.current:void 0,rootMargin:n,threshold:"number"===typeof r?r:Cw[r]};return Ew(this.node.current,a,e=>{const{isIntersecting:t}=e;if(this.isInView===t)return;if(this.isInView=t,o&&!t&&this.hasEnteredView)return;t&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",t);const{onViewportEnter:n,onViewportLeave:r}=this.node.getProps(),a=t?n:r;a&&a(e)})}mount(){this.startObserver()}update(){if("undefined"===typeof IntersectionObserver)return;const{props:e,prevProps:t}=this.node,n=["amount","margin","root"].some(function(e){let{viewport:t={}}=e,{viewport:n={}}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return e=>t[e]!==n[e]}(e,t));n&&this.startObserver()}unmount(){}}},tap:{Feature:class extends my{mount(){const{current:e}=this.node;e&&(this.unmount=yw(e,(e,t)=>(bw(this.node,t,"Start"),(e,t)=>{let{success:n}=t;return bw(this.node,e,n?"End":"Cancel")}),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}},focus:{Feature:class extends my{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch(IA){e=!0}e&&this.node.animationState&&(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){this.isActive&&this.node.animationState&&(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=bg(wy(this.node.current,"focus",()=>this.onFocus()),wy(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}},hover:{Feature:class extends my{mount(){const{current:e}=this.node;e&&(this.unmount=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const[r,o,a]=cw(e,n),i=e=>{if(!uw(e))return;const{target:n}=e,r=t(n,e);if("function"!==typeof r||!n)return;const a=e=>{uw(e)&&(r(e),n.removeEventListener("pointerleave",a))};n.addEventListener("pointerleave",a,o)};return r.forEach(e=>{e.addEventListener("pointerenter",i,o)}),a}(e,(e,t)=>(dw(this.node,t,"Start"),e=>dw(this.node,e,"End"))))}unmount(){}}}},jw={layout:{ProjectionNode:sw,MeasureLayout:tb}},Tw=lg((0,s.A)((0,s.A)((0,s.A)((0,s.A)({},vy),Aw),lw),jw),Dm),Nw=["children","variant","className"],Dw=e=>{let{children:t,variant:n="default",className:r}=e,o=i(e,Nw);return(0,kt.jsx)("span",(0,s.A)((0,s.A)({className:to("inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium",{default:"bg-gray-700 text-gray-200",secondary:"bg-gray-700 text-gray-200 border border-gray-600",green:"bg-green-600 text-white",red:"bg-red-600 text-white"}[n],r)},o),{},{children:t}))};function Pw(e,t){let[n,r]=t;return Math.min(r,Math.max(n,e))}const Ow=["__scopeScrollArea","type","dir","scrollHideDelay"],Rw=["__scopeScrollArea","children","nonce"],Iw=["forceMount"],Mw=["forceMount"],Fw=["forceMount"],Lw=["forceMount"],Uw=["orientation"],zw=["sizes","onSizesChange"],Bw=["sizes","onSizesChange"],qw=["__scopeScrollArea","sizes","hasThumb","onThumbChange","onThumbPointerUp","onThumbPointerDown","onThumbPositionChange","onDragScroll","onWheelScroll","onResize"],Vw=["forceMount"],Ww=["__scopeScrollArea","style"],Hw=["__scopeScrollArea"];var Kw="ScrollArea",[Gw,Qw]=fo(Kw),[Yw,$w]=Gw(Kw),Xw=r.forwardRef((e,t)=>{const{__scopeScrollArea:n,type:o="hover",dir:a,scrollHideDelay:l=600}=e,c=i(e,Ow),[u,d]=r.useState(null),[h,f]=r.useState(null),[p,m]=r.useState(null),[g,v]=r.useState(null),[y,b]=r.useState(null),[w,x]=r.useState(0),[S,k]=r.useState(0),[_,E]=r.useState(!1),[C,A]=r.useState(!1),j=co(t,e=>d(e)),T=Io(a);return(0,kt.jsx)(Yw,{scope:n,type:o,dir:T,scrollHideDelay:l,scrollArea:u,viewport:h,onViewportChange:f,content:p,onContentChange:m,scrollbarX:g,onScrollbarXChange:v,scrollbarXEnabled:_,onScrollbarXEnabledChange:E,scrollbarY:y,onScrollbarYChange:b,scrollbarYEnabled:C,onScrollbarYEnabledChange:A,onCornerWidthChange:x,onCornerHeightChange:k,children:(0,kt.jsx)(Co.div,(0,s.A)((0,s.A)({dir:T},c),{},{ref:j,style:(0,s.A)({position:"relative","--radix-scroll-area-corner-width":w+"px","--radix-scroll-area-corner-height":S+"px"},e.style)}))})});Xw.displayName=Kw;var Jw="ScrollAreaViewport",Zw=r.forwardRef((e,t)=>{const{__scopeScrollArea:n,children:o,nonce:a}=e,l=i(e,Rw),c=$w(Jw,n),u=co(t,r.useRef(null),c.onViewportChange);return(0,kt.jsxs)(kt.Fragment,{children:[(0,kt.jsx)("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:a}),(0,kt.jsx)(Co.div,(0,s.A)((0,s.A)({"data-radix-scroll-area-viewport":""},l),{},{ref:u,style:(0,s.A)({overflowX:c.scrollbarXEnabled?"scroll":"hidden",overflowY:c.scrollbarYEnabled?"scroll":"hidden"},e.style),children:(0,kt.jsx)("div",{ref:c.onContentChange,style:{minWidth:"100%",display:"table"},children:o})}))]})});Zw.displayName=Jw;var ex="ScrollAreaScrollbar",tx=r.forwardRef((e,t)=>{const{forceMount:n}=e,o=i(e,Iw),a=$w(ex,e.__scopeScrollArea),{onScrollbarXEnabledChange:l,onScrollbarYEnabledChange:c}=a,u="horizontal"===e.orientation;return r.useEffect(()=>(u?l(!0):c(!0),()=>{u?l(!1):c(!1)}),[u,l,c]),"hover"===a.type?(0,kt.jsx)(nx,(0,s.A)((0,s.A)({},o),{},{ref:t,forceMount:n})):"scroll"===a.type?(0,kt.jsx)(rx,(0,s.A)((0,s.A)({},o),{},{ref:t,forceMount:n})):"auto"===a.type?(0,kt.jsx)(ox,(0,s.A)((0,s.A)({},o),{},{ref:t,forceMount:n})):"always"===a.type?(0,kt.jsx)(ax,(0,s.A)((0,s.A)({},o),{},{ref:t})):null});tx.displayName=ex;var nx=r.forwardRef((e,t)=>{const{forceMount:n}=e,o=i(e,Mw),a=$w(ex,e.__scopeScrollArea),[l,c]=r.useState(!1);return r.useEffect(()=>{const e=a.scrollArea;let t=0;if(e){const n=()=>{window.clearTimeout(t),c(!0)},r=()=>{t=window.setTimeout(()=>c(!1),a.scrollHideDelay)};return e.addEventListener("pointerenter",n),e.addEventListener("pointerleave",r),()=>{window.clearTimeout(t),e.removeEventListener("pointerenter",n),e.removeEventListener("pointerleave",r)}}},[a.scrollArea,a.scrollHideDelay]),(0,kt.jsx)(Ps,{present:n||l,children:(0,kt.jsx)(ox,(0,s.A)((0,s.A)({"data-state":l?"visible":"hidden"},o),{},{ref:t}))})}),rx=r.forwardRef((e,t)=>{const{forceMount:n}=e,o=i(e,Fw),a=$w(ex,e.__scopeScrollArea),l="horizontal"===e.orientation,c=_x(()=>d("SCROLL_END"),100),[u,d]=(h="hidden",f={hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}},r.useReducer((e,t)=>{const n=f[e][t];return null!==n&&void 0!==n?n:e},h));var h,f;return r.useEffect(()=>{if("idle"===u){const e=window.setTimeout(()=>d("HIDE"),a.scrollHideDelay);return()=>window.clearTimeout(e)}},[u,a.scrollHideDelay,d]),r.useEffect(()=>{const e=a.viewport,t=l?"scrollLeft":"scrollTop";if(e){let n=e[t];const r=()=>{const r=e[t];n!==r&&(d("SCROLL"),c()),n=r};return e.addEventListener("scroll",r),()=>e.removeEventListener("scroll",r)}},[a.viewport,l,d,c]),(0,kt.jsx)(Ps,{present:n||"hidden"!==u,children:(0,kt.jsx)(ax,(0,s.A)((0,s.A)({"data-state":"hidden"===u?"hidden":"visible"},o),{},{ref:t,onPointerEnter:io(e.onPointerEnter,()=>d("POINTER_ENTER")),onPointerLeave:io(e.onPointerLeave,()=>d("POINTER_LEAVE"))}))})}),ox=r.forwardRef((e,t)=>{const n=$w(ex,e.__scopeScrollArea),{forceMount:o}=e,a=i(e,Lw),[l,c]=r.useState(!1),u="horizontal"===e.orientation,d=_x(()=>{if(n.viewport){const e=n.viewport.offsetWidth<n.viewport.scrollWidth,t=n.viewport.offsetHeight<n.viewport.scrollHeight;c(u?e:t)}},10);return Ex(n.viewport,d),Ex(n.content,d),(0,kt.jsx)(Ps,{present:o||l,children:(0,kt.jsx)(ax,(0,s.A)((0,s.A)({"data-state":l?"visible":"hidden"},a),{},{ref:t}))})}),ax=r.forwardRef((e,t)=>{const{orientation:n="vertical"}=e,o=i(e,Uw),a=$w(ex,e.__scopeScrollArea),l=r.useRef(null),c=r.useRef(0),[u,d]=r.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),h=yx(u.viewport,u.content),f=(0,s.A)((0,s.A)({},o),{},{sizes:u,onSizesChange:d,hasThumb:Boolean(h>0&&h<1),onThumbChange:e=>l.current=e,onThumbPointerUp:()=>c.current=0,onThumbPointerDown:e=>c.current=e});function p(e,t){return function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"ltr";const o=bx(n),a=o/2,i=t||a,s=o-i,l=n.scrollbar.paddingStart+i,c=n.scrollbar.size-n.scrollbar.paddingEnd-s,u=n.content-n.viewport,d="ltr"===r?[0,u]:[-1*u,0],h=xx([l,c],d);return h(e)}(e,c.current,u,t)}return"horizontal"===n?(0,kt.jsx)(ix,(0,s.A)((0,s.A)({},f),{},{ref:t,onThumbPositionChange:()=>{if(a.viewport&&l.current){const e=wx(a.viewport.scrollLeft,u,a.dir);l.current.style.transform="translate3d(".concat(e,"px, 0, 0)")}},onWheelScroll:e=>{a.viewport&&(a.viewport.scrollLeft=e)},onDragScroll:e=>{a.viewport&&(a.viewport.scrollLeft=p(e,a.dir))}})):"vertical"===n?(0,kt.jsx)(sx,(0,s.A)((0,s.A)({},f),{},{ref:t,onThumbPositionChange:()=>{if(a.viewport&&l.current){const e=wx(a.viewport.scrollTop,u);l.current.style.transform="translate3d(0, ".concat(e,"px, 0)")}},onWheelScroll:e=>{a.viewport&&(a.viewport.scrollTop=e)},onDragScroll:e=>{a.viewport&&(a.viewport.scrollTop=p(e))}})):null}),ix=r.forwardRef((e,t)=>{const{sizes:n,onSizesChange:o}=e,a=i(e,zw),l=$w(ex,e.__scopeScrollArea),[c,u]=r.useState(),d=r.useRef(null),h=co(t,d,l.onScrollbarXChange);return r.useEffect(()=>{d.current&&u(getComputedStyle(d.current))},[d]),(0,kt.jsx)(ux,(0,s.A)((0,s.A)({"data-orientation":"horizontal"},a),{},{ref:h,sizes:n,style:(0,s.A)({bottom:0,left:"rtl"===l.dir?"var(--radix-scroll-area-corner-width)":0,right:"ltr"===l.dir?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":bx(n)+"px"},e.style),onThumbPointerDown:t=>e.onThumbPointerDown(t.x),onDragScroll:t=>e.onDragScroll(t.x),onWheelScroll:(t,n)=>{if(l.viewport){const r=l.viewport.scrollLeft+t.deltaX;e.onWheelScroll(r),Sx(r,n)&&t.preventDefault()}},onResize:()=>{d.current&&l.viewport&&c&&o({content:l.viewport.scrollWidth,viewport:l.viewport.offsetWidth,scrollbar:{size:d.current.clientWidth,paddingStart:vx(c.paddingLeft),paddingEnd:vx(c.paddingRight)}})}}))}),sx=r.forwardRef((e,t)=>{const{sizes:n,onSizesChange:o}=e,a=i(e,Bw),l=$w(ex,e.__scopeScrollArea),[c,u]=r.useState(),d=r.useRef(null),h=co(t,d,l.onScrollbarYChange);return r.useEffect(()=>{d.current&&u(getComputedStyle(d.current))},[d]),(0,kt.jsx)(ux,(0,s.A)((0,s.A)({"data-orientation":"vertical"},a),{},{ref:h,sizes:n,style:(0,s.A)({top:0,right:"ltr"===l.dir?0:void 0,left:"rtl"===l.dir?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":bx(n)+"px"},e.style),onThumbPointerDown:t=>e.onThumbPointerDown(t.y),onDragScroll:t=>e.onDragScroll(t.y),onWheelScroll:(t,n)=>{if(l.viewport){const r=l.viewport.scrollTop+t.deltaY;e.onWheelScroll(r),Sx(r,n)&&t.preventDefault()}},onResize:()=>{d.current&&l.viewport&&c&&o({content:l.viewport.scrollHeight,viewport:l.viewport.offsetHeight,scrollbar:{size:d.current.clientHeight,paddingStart:vx(c.paddingTop),paddingEnd:vx(c.paddingBottom)}})}}))}),[lx,cx]=Gw(ex),ux=r.forwardRef((e,t)=>{const{__scopeScrollArea:n,sizes:o,hasThumb:a,onThumbChange:l,onThumbPointerUp:c,onThumbPointerDown:u,onThumbPositionChange:d,onDragScroll:h,onWheelScroll:f,onResize:p}=e,m=i(e,qw),g=$w(ex,n),[v,y]=r.useState(null),b=co(t,e=>y(e)),w=r.useRef(null),x=r.useRef(""),S=g.viewport,k=o.content-o.viewport,_=Mo(f),E=Mo(d),C=_x(p,10);function A(e){if(w.current){const t=e.clientX-w.current.left,n=e.clientY-w.current.top;h({x:t,y:n})}}return r.useEffect(()=>{const e=e=>{const t=e.target;(null===v||void 0===v?void 0:v.contains(t))&&_(e,k)};return document.addEventListener("wheel",e,{passive:!1}),()=>document.removeEventListener("wheel",e,{passive:!1})},[S,v,k,_]),r.useEffect(E,[o,E]),Ex(v,C),Ex(g.content,C),(0,kt.jsx)(lx,{scope:n,scrollbar:v,hasThumb:a,onThumbChange:Mo(l),onThumbPointerUp:Mo(c),onThumbPositionChange:E,onThumbPointerDown:Mo(u),children:(0,kt.jsx)(Co.div,(0,s.A)((0,s.A)({},m),{},{ref:b,style:(0,s.A)({position:"absolute"},m.style),onPointerDown:io(e.onPointerDown,e=>{if(0===e.button){e.target.setPointerCapture(e.pointerId),w.current=v.getBoundingClientRect(),x.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",g.viewport&&(g.viewport.style.scrollBehavior="auto"),A(e)}}),onPointerMove:io(e.onPointerMove,A),onPointerUp:io(e.onPointerUp,e=>{const t=e.target;t.hasPointerCapture(e.pointerId)&&t.releasePointerCapture(e.pointerId),document.body.style.webkitUserSelect=x.current,g.viewport&&(g.viewport.style.scrollBehavior=""),w.current=null})}))})}),dx="ScrollAreaThumb",hx=r.forwardRef((e,t)=>{const{forceMount:n}=e,r=i(e,Vw),o=cx(dx,e.__scopeScrollArea);return(0,kt.jsx)(Ps,{present:n||o.hasThumb,children:(0,kt.jsx)(fx,(0,s.A)({ref:t},r))})}),fx=r.forwardRef((e,t)=>{const{__scopeScrollArea:n,style:o}=e,a=i(e,Ww),l=$w(dx,n),c=cx(dx,n),{onThumbPositionChange:u}=c,d=co(t,e=>c.onThumbChange(e)),h=r.useRef(void 0),f=_x(()=>{h.current&&(h.current(),h.current=void 0)},100);return r.useEffect(()=>{const e=l.viewport;if(e){const t=()=>{if(f(),!h.current){const t=kx(e,u);h.current=t,u()}};return u(),e.addEventListener("scroll",t),()=>e.removeEventListener("scroll",t)}},[l.viewport,f,u]),(0,kt.jsx)(Co.div,(0,s.A)((0,s.A)({"data-state":c.hasThumb?"visible":"hidden"},a),{},{ref:d,style:(0,s.A)({width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)"},o),onPointerDownCapture:io(e.onPointerDownCapture,e=>{const t=e.target.getBoundingClientRect(),n=e.clientX-t.left,r=e.clientY-t.top;c.onThumbPointerDown({x:n,y:r})}),onPointerUp:io(e.onPointerUp,c.onThumbPointerUp)}))});hx.displayName=dx;var px="ScrollAreaCorner",mx=r.forwardRef((e,t)=>{const n=$w(px,e.__scopeScrollArea),r=Boolean(n.scrollbarX&&n.scrollbarY);return"scroll"!==n.type&&r?(0,kt.jsx)(gx,(0,s.A)((0,s.A)({},e),{},{ref:t})):null});mx.displayName=px;var gx=r.forwardRef((e,t)=>{const{__scopeScrollArea:n}=e,o=i(e,Hw),a=$w(px,n),[l,c]=r.useState(0),[u,d]=r.useState(0),h=Boolean(l&&u);return Ex(a.scrollbarX,()=>{var e;const t=(null===(e=a.scrollbarX)||void 0===e?void 0:e.offsetHeight)||0;a.onCornerHeightChange(t),d(t)}),Ex(a.scrollbarY,()=>{var e;const t=(null===(e=a.scrollbarY)||void 0===e?void 0:e.offsetWidth)||0;a.onCornerWidthChange(t),c(t)}),h?(0,kt.jsx)(Co.div,(0,s.A)((0,s.A)({},o),{},{ref:t,style:(0,s.A)({width:l,height:u,position:"absolute",right:"ltr"===a.dir?0:void 0,left:"rtl"===a.dir?0:void 0,bottom:0},e.style)})):null});function vx(e){return e?parseInt(e,10):0}function yx(e,t){const n=e/t;return isNaN(n)?0:n}function bx(e){const t=yx(e.viewport,e.content),n=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,r=(e.scrollbar.size-n)*t;return Math.max(r,18)}function wx(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"ltr";const r=bx(t),o=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,a=t.scrollbar.size-o,i=t.content-t.viewport,s=a-r,l=Pw(e,"ltr"===n?[0,i]:[-1*i,0]);return xx([0,i],[0,s])(l)}function xx(e,t){return n=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const r=(t[1]-t[0])/(e[1]-e[0]);return t[0]+r*(n-e[0])}}function Sx(e,t){return e>0&&e<t}var kx=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:()=>{},n={left:e.scrollLeft,top:e.scrollTop},r=0;return function o(){const a={left:e.scrollLeft,top:e.scrollTop},i=n.left!==a.left,s=n.top!==a.top;(i||s)&&t(),n=a,r=window.requestAnimationFrame(o)}(),()=>window.cancelAnimationFrame(r)};function _x(e,t){const n=Mo(e),o=r.useRef(0);return r.useEffect(()=>()=>window.clearTimeout(o.current),[]),r.useCallback(()=>{window.clearTimeout(o.current),o.current=window.setTimeout(n,t)},[n,t])}function Ex(e,t){const n=Mo(t);mo(()=>{let t=0;if(e){const r=new ResizeObserver(()=>{cancelAnimationFrame(t),t=window.requestAnimationFrame(n)});return r.observe(e),()=>{window.cancelAnimationFrame(t),r.unobserve(e)}}},[e,n])}var Cx=Xw,Ax=Zw,jx=tx,Tx=hx;const Nx=e=>{let{children:t,className:n}=e;return(0,kt.jsxs)(Cx,{className:"overflow-hidden ".concat(n||""),children:[(0,kt.jsx)(Ax,{className:"h-full w-full",children:t}),(0,kt.jsx)(jx,{orientation:"vertical",className:"flex w-2 bg-gray-800",children:(0,kt.jsx)(Tx,{className:"flex-1 rounded-full bg-gray-600"})})]})},Dx=$r("mail",[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]]),Px=$r("refresh-cw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]),Ox=$r("mail-open",[["path",{d:"M21.2 8.4c.5.38.8.97.8 1.6v10a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V10a2 2 0 0 1 .8-1.6l8-6a2 2 0 0 1 2.4 0l8 6Z",key:"1jhwl8"}],["path",{d:"m22 10-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 10",key:"1qfld7"}]]),Rx=$r("trash-2",[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]]),Ix=$r("x",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),Mx={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}};function Fx(e){return function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const n=t.width?String(t.width):e.defaultWidth;return e.formats[n]||e.formats[e.defaultWidth]}}const Lx={date:Fx({formats:{full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},defaultWidth:"full"}),time:Fx({formats:{full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},defaultWidth:"full"}),dateTime:Fx({formats:{full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},defaultWidth:"full"})},Ux={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"};function zx(e){return(t,n)=>{let r;if("formatting"===(null!==n&&void 0!==n&&n.context?String(n.context):"standalone")&&e.formattingValues){const t=e.defaultFormattingWidth||e.defaultWidth,o=null!==n&&void 0!==n&&n.width?String(n.width):t;r=e.formattingValues[o]||e.formattingValues[t]}else{const t=e.defaultWidth,o=null!==n&&void 0!==n&&n.width?String(n.width):e.defaultWidth;r=e.values[o]||e.values[t]}return r[e.argumentCallback?e.argumentCallback(t):t]}}const Bx={ordinalNumber:(e,t)=>{const n=Number(e),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},era:zx({values:{narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},defaultWidth:"wide"}),quarter:zx({values:{narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},defaultWidth:"wide",argumentCallback:e=>e-1}),month:zx({values:{narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},defaultWidth:"wide"}),day:zx({values:{narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},defaultWidth:"wide"}),dayPeriod:zx({values:{narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},defaultWidth:"wide",formattingValues:{narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},defaultFormattingWidth:"wide"})};function qx(e){return function(t){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const r=n.width,o=r&&e.matchPatterns[r]||e.matchPatterns[e.defaultMatchWidth],a=t.match(o);if(!a)return null;const i=a[0],s=r&&e.parsePatterns[r]||e.parsePatterns[e.defaultParseWidth],l=Array.isArray(s)?function(e,t){for(let n=0;n<e.length;n++)if(t(e[n]))return n;return}(s,e=>e.test(i)):function(e,t){for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&t(e[n]))return n;return}(s,e=>e.test(i));let c;c=e.valueCallback?e.valueCallback(l):l,c=n.valueCallback?n.valueCallback(c):c;return{value:c,rest:t.slice(i.length)}}}const Vx={ordinalNumber:(Wx={matchPattern:/^(\d+)(th|st|nd|rd)?/i,parsePattern:/\d+/i,valueCallback:e=>parseInt(e,10)},function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=e.match(Wx.matchPattern);if(!n)return null;const r=n[0],o=e.match(Wx.parsePattern);if(!o)return null;let a=Wx.valueCallback?Wx.valueCallback(o[0]):o[0];return a=t.valueCallback?t.valueCallback(a):a,{value:a,rest:e.slice(r.length)}}),era:qx({matchPatterns:{narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},defaultMatchWidth:"wide",parsePatterns:{any:[/^b/i,/^(a|c)/i]},defaultParseWidth:"any"}),quarter:qx({matchPatterns:{narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},defaultMatchWidth:"wide",parsePatterns:{any:[/1/i,/2/i,/3/i,/4/i]},defaultParseWidth:"any",valueCallback:e=>e+1}),month:qx({matchPatterns:{narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},defaultParseWidth:"any"}),day:qx({matchPatterns:{narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},defaultParseWidth:"any"}),dayPeriod:qx({matchPatterns:{narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},defaultMatchWidth:"any",parsePatterns:{any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},defaultParseWidth:"any"})};var Wx;const Hx={code:"en-US",formatDistance:(e,t,n)=>{let r;const o=Mx[e];return r="string"===typeof o?o:1===t?o.one:o.other.replace("{{count}}",t.toString()),null!==n&&void 0!==n&&n.addSuffix?n.comparison&&n.comparison>0?"in "+r:r+" ago":r},formatLong:Lx,formatRelative:(e,t,n,r)=>Ux[e],localize:Bx,match:Vx,options:{weekStartsOn:0,firstWeekContainsDate:1}};let Kx={};function Gx(){return Kx}Math.pow(10,8);const Qx=6048e5,Yx=Symbol.for("constructDateFrom");function $x(e,t){return"function"===typeof e?e(t):e&&"object"===typeof e&&Yx in e?e[Yx](t):e instanceof Date?new e.constructor(t):new Date(t)}function Xx(e,t){return $x(t||e,e)}function Jx(e){const t=Xx(e),n=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return n.setUTCFullYear(t.getFullYear()),+e-+n}function Zx(e,t){const n=Xx(e,null===t||void 0===t?void 0:t.in);return n.setHours(0,0,0,0),n}function eS(e,t,n){const[r,o]=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const o=$x.bind(null,e||n.find(e=>"object"===typeof e));return n.map(o)}(null===n||void 0===n?void 0:n.in,e,t),a=Zx(r),i=Zx(o),s=+a-Jx(a),l=+i-Jx(i);return Math.round((s-l)/864e5)}function tS(e,t){const n=Xx(e,null===t||void 0===t?void 0:t.in);return n.setFullYear(n.getFullYear(),0,1),n.setHours(0,0,0,0),n}function nS(e,t){const n=Xx(e,null===t||void 0===t?void 0:t.in);return eS(n,tS(n))+1}function rS(e,t){var n,r,o,a,i,s;const l=Gx(),c=null!==(n=null!==(r=null!==(o=null!==(a=null===t||void 0===t?void 0:t.weekStartsOn)&&void 0!==a?a:null===t||void 0===t||null===(i=t.locale)||void 0===i||null===(i=i.options)||void 0===i?void 0:i.weekStartsOn)&&void 0!==o?o:l.weekStartsOn)&&void 0!==r?r:null===(s=l.locale)||void 0===s||null===(s=s.options)||void 0===s?void 0:s.weekStartsOn)&&void 0!==n?n:0,u=Xx(e,null===t||void 0===t?void 0:t.in),d=u.getDay(),h=(d<c?7:0)+d-c;return u.setDate(u.getDate()-h),u.setHours(0,0,0,0),u}function oS(e,t){return rS(e,(0,s.A)((0,s.A)({},t),{},{weekStartsOn:1}))}function aS(e,t){const n=Xx(e,null===t||void 0===t?void 0:t.in),r=n.getFullYear(),o=$x(n,0);o.setFullYear(r+1,0,4),o.setHours(0,0,0,0);const a=oS(o),i=$x(n,0);i.setFullYear(r,0,4),i.setHours(0,0,0,0);const s=oS(i);return n.getTime()>=a.getTime()?r+1:n.getTime()>=s.getTime()?r:r-1}function iS(e,t){const n=aS(e,t),r=$x((null===t||void 0===t?void 0:t.in)||e,0);return r.setFullYear(n,0,4),r.setHours(0,0,0,0),oS(r)}function sS(e,t){const n=Xx(e,null===t||void 0===t?void 0:t.in),r=+oS(n)-+iS(n);return Math.round(r/Qx)+1}function lS(e,t){var n,r,o,a,i,s;const l=Xx(e,null===t||void 0===t?void 0:t.in),c=l.getFullYear(),u=Gx(),d=null!==(n=null!==(r=null!==(o=null!==(a=null===t||void 0===t?void 0:t.firstWeekContainsDate)&&void 0!==a?a:null===t||void 0===t||null===(i=t.locale)||void 0===i||null===(i=i.options)||void 0===i?void 0:i.firstWeekContainsDate)&&void 0!==o?o:u.firstWeekContainsDate)&&void 0!==r?r:null===(s=u.locale)||void 0===s||null===(s=s.options)||void 0===s?void 0:s.firstWeekContainsDate)&&void 0!==n?n:1,h=$x((null===t||void 0===t?void 0:t.in)||e,0);h.setFullYear(c+1,0,d),h.setHours(0,0,0,0);const f=rS(h,t),p=$x((null===t||void 0===t?void 0:t.in)||e,0);p.setFullYear(c,0,d),p.setHours(0,0,0,0);const m=rS(p,t);return+l>=+f?c+1:+l>=+m?c:c-1}function cS(e,t){var n,r,o,a,i,s;const l=Gx(),c=null!==(n=null!==(r=null!==(o=null!==(a=null===t||void 0===t?void 0:t.firstWeekContainsDate)&&void 0!==a?a:null===t||void 0===t||null===(i=t.locale)||void 0===i||null===(i=i.options)||void 0===i?void 0:i.firstWeekContainsDate)&&void 0!==o?o:l.firstWeekContainsDate)&&void 0!==r?r:null===(s=l.locale)||void 0===s||null===(s=s.options)||void 0===s?void 0:s.firstWeekContainsDate)&&void 0!==n?n:1,u=lS(e,t),d=$x((null===t||void 0===t?void 0:t.in)||e,0);d.setFullYear(u,0,c),d.setHours(0,0,0,0);return rS(d,t)}function uS(e,t){const n=Xx(e,null===t||void 0===t?void 0:t.in),r=+rS(n,t)-+cS(n,t);return Math.round(r/Qx)+1}function dS(e,t){return(e<0?"-":"")+Math.abs(e).toString().padStart(t,"0")}const hS={y(e,t){const n=e.getFullYear(),r=n>0?n:1-n;return dS("yy"===t?r%100:r,t.length)},M(e,t){const n=e.getMonth();return"M"===t?String(n+1):dS(n+1,2)},d:(e,t)=>dS(e.getDate(),t.length),a(e,t){const n=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];default:return"am"===n?"a.m.":"p.m."}},h:(e,t)=>dS(e.getHours()%12||12,t.length),H:(e,t)=>dS(e.getHours(),t.length),m:(e,t)=>dS(e.getMinutes(),t.length),s:(e,t)=>dS(e.getSeconds(),t.length),S(e,t){const n=t.length,r=e.getMilliseconds();return dS(Math.trunc(r*Math.pow(10,n-3)),t.length)}},fS="midnight",pS="noon",mS="morning",gS="afternoon",vS="evening",yS="night",bS={G:function(e,t,n){const r=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return n.era(r,{width:"abbreviated"});case"GGGGG":return n.era(r,{width:"narrow"});default:return n.era(r,{width:"wide"})}},y:function(e,t,n){if("yo"===t){const t=e.getFullYear(),r=t>0?t:1-t;return n.ordinalNumber(r,{unit:"year"})}return hS.y(e,t)},Y:function(e,t,n,r){const o=lS(e,r),a=o>0?o:1-o;if("YY"===t){return dS(a%100,2)}return"Yo"===t?n.ordinalNumber(a,{unit:"year"}):dS(a,t.length)},R:function(e,t){return dS(aS(e),t.length)},u:function(e,t){return dS(e.getFullYear(),t.length)},Q:function(e,t,n){const r=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(r);case"QQ":return dS(r,2);case"Qo":return n.ordinalNumber(r,{unit:"quarter"});case"QQQ":return n.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(r,{width:"narrow",context:"formatting"});default:return n.quarter(r,{width:"wide",context:"formatting"})}},q:function(e,t,n){const r=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(r);case"qq":return dS(r,2);case"qo":return n.ordinalNumber(r,{unit:"quarter"});case"qqq":return n.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(r,{width:"narrow",context:"standalone"});default:return n.quarter(r,{width:"wide",context:"standalone"})}},M:function(e,t,n){const r=e.getMonth();switch(t){case"M":case"MM":return hS.M(e,t);case"Mo":return n.ordinalNumber(r+1,{unit:"month"});case"MMM":return n.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(r,{width:"narrow",context:"formatting"});default:return n.month(r,{width:"wide",context:"formatting"})}},L:function(e,t,n){const r=e.getMonth();switch(t){case"L":return String(r+1);case"LL":return dS(r+1,2);case"Lo":return n.ordinalNumber(r+1,{unit:"month"});case"LLL":return n.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(r,{width:"narrow",context:"standalone"});default:return n.month(r,{width:"wide",context:"standalone"})}},w:function(e,t,n,r){const o=uS(e,r);return"wo"===t?n.ordinalNumber(o,{unit:"week"}):dS(o,t.length)},I:function(e,t,n){const r=sS(e);return"Io"===t?n.ordinalNumber(r,{unit:"week"}):dS(r,t.length)},d:function(e,t,n){return"do"===t?n.ordinalNumber(e.getDate(),{unit:"date"}):hS.d(e,t)},D:function(e,t,n){const r=nS(e);return"Do"===t?n.ordinalNumber(r,{unit:"dayOfYear"}):dS(r,t.length)},E:function(e,t,n){const r=e.getDay();switch(t){case"E":case"EE":case"EEE":return n.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(r,{width:"short",context:"formatting"});default:return n.day(r,{width:"wide",context:"formatting"})}},e:function(e,t,n,r){const o=e.getDay(),a=(o-r.weekStartsOn+8)%7||7;switch(t){case"e":return String(a);case"ee":return dS(a,2);case"eo":return n.ordinalNumber(a,{unit:"day"});case"eee":return n.day(o,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(o,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(o,{width:"short",context:"formatting"});default:return n.day(o,{width:"wide",context:"formatting"})}},c:function(e,t,n,r){const o=e.getDay(),a=(o-r.weekStartsOn+8)%7||7;switch(t){case"c":return String(a);case"cc":return dS(a,t.length);case"co":return n.ordinalNumber(a,{unit:"day"});case"ccc":return n.day(o,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(o,{width:"narrow",context:"standalone"});case"cccccc":return n.day(o,{width:"short",context:"standalone"});default:return n.day(o,{width:"wide",context:"standalone"})}},i:function(e,t,n){const r=e.getDay(),o=0===r?7:r;switch(t){case"i":return String(o);case"ii":return dS(o,t.length);case"io":return n.ordinalNumber(o,{unit:"day"});case"iii":return n.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(r,{width:"short",context:"formatting"});default:return n.day(r,{width:"wide",context:"formatting"})}},a:function(e,t,n){const r=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(r,{width:"narrow",context:"formatting"});default:return n.dayPeriod(r,{width:"wide",context:"formatting"})}},b:function(e,t,n){const r=e.getHours();let o;switch(o=12===r?pS:0===r?fS:r/12>=1?"pm":"am",t){case"b":case"bb":return n.dayPeriod(o,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(o,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(o,{width:"narrow",context:"formatting"});default:return n.dayPeriod(o,{width:"wide",context:"formatting"})}},B:function(e,t,n){const r=e.getHours();let o;switch(o=r>=17?vS:r>=12?gS:r>=4?mS:yS,t){case"B":case"BB":case"BBB":return n.dayPeriod(o,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(o,{width:"narrow",context:"formatting"});default:return n.dayPeriod(o,{width:"wide",context:"formatting"})}},h:function(e,t,n){if("ho"===t){let t=e.getHours()%12;return 0===t&&(t=12),n.ordinalNumber(t,{unit:"hour"})}return hS.h(e,t)},H:function(e,t,n){return"Ho"===t?n.ordinalNumber(e.getHours(),{unit:"hour"}):hS.H(e,t)},K:function(e,t,n){const r=e.getHours()%12;return"Ko"===t?n.ordinalNumber(r,{unit:"hour"}):dS(r,t.length)},k:function(e,t,n){let r=e.getHours();return 0===r&&(r=24),"ko"===t?n.ordinalNumber(r,{unit:"hour"}):dS(r,t.length)},m:function(e,t,n){return"mo"===t?n.ordinalNumber(e.getMinutes(),{unit:"minute"}):hS.m(e,t)},s:function(e,t,n){return"so"===t?n.ordinalNumber(e.getSeconds(),{unit:"second"}):hS.s(e,t)},S:function(e,t){return hS.S(e,t)},X:function(e,t,n){const r=e.getTimezoneOffset();if(0===r)return"Z";switch(t){case"X":return xS(r);case"XXXX":case"XX":return SS(r);default:return SS(r,":")}},x:function(e,t,n){const r=e.getTimezoneOffset();switch(t){case"x":return xS(r);case"xxxx":case"xx":return SS(r);default:return SS(r,":")}},O:function(e,t,n){const r=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+wS(r,":");default:return"GMT"+SS(r,":")}},z:function(e,t,n){const r=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+wS(r,":");default:return"GMT"+SS(r,":")}},t:function(e,t,n){return dS(Math.trunc(+e/1e3),t.length)},T:function(e,t,n){return dS(+e,t.length)}};function wS(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";const n=e>0?"-":"+",r=Math.abs(e),o=Math.trunc(r/60),a=r%60;return 0===a?n+String(o):n+String(o)+t+dS(a,2)}function xS(e,t){if(e%60===0){return(e>0?"-":"+")+dS(Math.abs(e)/60,2)}return SS(e,t)}function SS(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";const n=e>0?"-":"+",r=Math.abs(e);return n+dS(Math.trunc(r/60),2)+t+dS(r%60,2)}const kS=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});default:return t.date({width:"full"})}},_S=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});default:return t.time({width:"full"})}},ES={p:_S,P:(e,t)=>{const n=e.match(/(P+)(p+)?/)||[],r=n[1],o=n[2];if(!o)return kS(e,t);let a;switch(r){case"P":a=t.dateTime({width:"short"});break;case"PP":a=t.dateTime({width:"medium"});break;case"PPP":a=t.dateTime({width:"long"});break;default:a=t.dateTime({width:"full"})}return a.replace("{{date}}",kS(r,t)).replace("{{time}}",_S(o,t))}},CS=/^D+$/,AS=/^Y+$/,jS=["D","DD","YY","YYYY"];function TS(e){return e instanceof Date||"object"===typeof e&&"[object Date]"===Object.prototype.toString.call(e)}function NS(e){return!(!TS(e)&&"number"!==typeof e||isNaN(+Xx(e)))}const DS=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,PS=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,OS=/^'([^]*?)'?$/,RS=/''/g,IS=/[a-zA-Z]/;function MS(e,t,n){var r,o,a,i,s,l,c,u,d,h,f,p,m,g;const v=Gx(),y=null!==(r=null!==(o=null===n||void 0===n?void 0:n.locale)&&void 0!==o?o:v.locale)&&void 0!==r?r:Hx,b=null!==(a=null!==(i=null!==(s=null!==(l=null===n||void 0===n?void 0:n.firstWeekContainsDate)&&void 0!==l?l:null===n||void 0===n||null===(c=n.locale)||void 0===c||null===(c=c.options)||void 0===c?void 0:c.firstWeekContainsDate)&&void 0!==s?s:v.firstWeekContainsDate)&&void 0!==i?i:null===(u=v.locale)||void 0===u||null===(u=u.options)||void 0===u?void 0:u.firstWeekContainsDate)&&void 0!==a?a:1,w=null!==(d=null!==(h=null!==(f=null!==(p=null===n||void 0===n?void 0:n.weekStartsOn)&&void 0!==p?p:null===n||void 0===n||null===(m=n.locale)||void 0===m||null===(m=m.options)||void 0===m?void 0:m.weekStartsOn)&&void 0!==f?f:v.weekStartsOn)&&void 0!==h?h:null===(g=v.locale)||void 0===g||null===(g=g.options)||void 0===g?void 0:g.weekStartsOn)&&void 0!==d?d:0,x=Xx(e,null===n||void 0===n?void 0:n.in);if(!NS(x))throw new RangeError("Invalid time value");let S=t.match(PS).map(e=>{const t=e[0];if("p"===t||"P"===t){return(0,ES[t])(e,y.formatLong)}return e}).join("").match(DS).map(e=>{if("''"===e)return{isToken:!1,value:"'"};const t=e[0];if("'"===t)return{isToken:!1,value:FS(e)};if(bS[t])return{isToken:!0,value:e};if(t.match(IS))throw new RangeError("Format string contains an unescaped latin alphabet character `"+t+"`");return{isToken:!1,value:e}});y.localize.preprocessor&&(S=y.localize.preprocessor(x,S));const k={firstWeekContainsDate:b,weekStartsOn:w,locale:y};return S.map(r=>{if(!r.isToken)return r.value;const o=r.value;(null!==n&&void 0!==n&&n.useAdditionalWeekYearTokens||!function(e){return AS.test(e)}(o))&&(null!==n&&void 0!==n&&n.useAdditionalDayOfYearTokens||!function(e){return CS.test(e)}(o))||function(e,t,n){const r=function(e,t,n){const r="Y"===e[0]?"years":"days of the month";return"Use `".concat(e.toLowerCase(),"` instead of `").concat(e,"` (in `").concat(t,"`) for formatting ").concat(r," to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md")}(e,t,n);if(console.warn(r),jS.includes(e))throw new RangeError(r)}(o,t,String(e));return(0,bS[o[0]])(x,o,y.localize,k)}).join("")}function FS(e){const t=e.match(OS);return t?t[1].replace(RS,"'"):e}function LS(e){let{user:t}=e;const[n,o]=(0,r.useState)([]),[a,i]=(0,r.useState)(!0),[l,c]=(0,r.useState)(null),u=(0,r.useCallback)(async()=>{if(null!==t&&void 0!==t&&t.id){i(!0),c(null);try{const e=await zr.messageOperations.getUserMessages(t.id);console.log("[DEBUG] Mensagens recebidas:",e),o(e)}catch(MA){c(MA.message||"Erro ao buscar mensagens")}i(!1)}},[null===t||void 0===t?void 0:t.id]);(0,r.useEffect)(()=>{u();const e=setInterval(u,1e4);return()=>clearInterval(e)},[u]);const d=e=>{e.read||"friend_request"===e.type||(async e=>{await zr.messageOperations.updateMessage(e,{read:!0}),o(t=>t.map(t=>t.id===e?(0,s.A)((0,s.A)({},t),{},{read:!0}):t))})(e.id)},h=n.filter(e=>!e.read).length;return(0,kt.jsxs)("div",{className:"w-full",children:[(0,kt.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,kt.jsxs)("div",{className:"flex items-center gap-2",children:[(0,kt.jsx)(Dx,{className:"w-4 h-4 text-gray-400"}),(0,kt.jsx)("h3",{className:"font-semibold text-white",children:"Mensagens"}),h>0&&(0,kt.jsx)(Dw,{className:"bg-orange-500 text-white px-2 py-0.5 text-xs",children:h})]}),(0,kt.jsx)(th,{variant:"ghost",size:"icon",onClick:u,className:"h-7 w-7 hover:bg-gray-800",children:(0,kt.jsx)(Px,{className:"w-3 h-3 text-gray-400"})})]}),(0,kt.jsx)(Nx,{className:"h-80 rounded-lg border border-gray-800",children:a?(0,kt.jsx)("div",{className:"flex items-center justify-center h-full",children:(0,kt.jsx)(Px,{className:"w-6 h-6 animate-spin text-gray-500"})}):l?(0,kt.jsxs)("div",{className:"flex flex-col items-center justify-center h-full text-center p-4",children:[(0,kt.jsx)(Dx,{className:"w-12 h-12 text-red-600 mb-2"}),(0,kt.jsx)("p",{className:"text-red-500 text-sm",children:l})]}):0===n.length?(0,kt.jsxs)("div",{className:"flex flex-col items-center justify-center h-full text-center p-4",children:[(0,kt.jsx)(Dx,{className:"w-12 h-12 text-gray-600 mb-2"}),(0,kt.jsx)("p",{className:"text-gray-500 text-sm",children:"Nenhuma mensagem"})]}):(0,kt.jsx)("div",{className:"p-2 space-y-2",children:(0,kt.jsx)(Rh,{mode:"popLayout",children:n.map(e=>(0,kt.jsxs)(Tw.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,x:-100},onClick:()=>d(e),className:"p-3 rounded-lg border cursor-pointer group hover:border-orange-500 transition-colors ".concat(e.read?"bg-gray-800/50 border-gray-700":"bg-orange-500/10 border-orange-500/30"),children:[(0,kt.jsxs)("div",{className:"flex items-start justify-between gap-2 mb-2",children:[(0,kt.jsxs)("div",{className:"flex items-center gap-2 flex-1 min-w-0",children:["friend_request"===e.type?(0,kt.jsx)(mh,{className:"w-4 h-4 text-blue-500 flex-shrink-0"}):e.read?(0,kt.jsx)(Ox,{className:"w-4 h-4 text-gray-500 flex-shrink-0"}):(0,kt.jsx)(Dx,{className:"w-4 h-4 text-orange-500 flex-shrink-0"}),(0,kt.jsx)("span",{className:"font-medium text-white text-sm truncate",children:e.sender_name})]}),(0,kt.jsxs)("div",{className:"flex items-center gap-2",children:[(0,kt.jsx)("span",{className:"text-xs text-gray-500 whitespace-nowrap",children:((t,n)=>{let r=(null===(t=e.created_date)||void 0===t||null===(n=t.toDate)||void 0===n?void 0:n.call(t))||e.created_date,o=r?new Date(r):null;if(!o||isNaN(o.getTime()))return"";try{return MS(o,"dd/MM HH:mm")}catch(FA){return""}})()}),"friend_request"!==e.type&&(0,kt.jsx)(th,{variant:"ghost",size:"icon",onClick:t=>{t.stopPropagation(),(async e=>{await zr.messageOperations.deleteMessage(e),o(t=>t.filter(t=>t.id!==e))})(e.id)},className:"h-6 w-6 opacity-0 group-hover:opacity-100 transition-opacity hover:bg-red-900/20 hover:text-red-400",children:(0,kt.jsx)(Rx,{className:"w-3 h-3"})})]})]}),(0,kt.jsx)("p",{className:"text-sm text-gray-300 leading-relaxed mb-2",children:e.content}),"friend_request"===e.type&&"pending"===e.status&&(0,kt.jsxs)("div",{className:"flex gap-2 mt-2",children:[(0,kt.jsxs)(th,{size:"sm",className:"bg-green-600 hover:bg-green-700",onClick:n=>{n.stopPropagation(),(async e=>{try{console.log("[DEBUG] user.id:",t.id),console.log("[DEBUG] msg.sender_id:",e.sender_id);const n=await zr.userOperations.getUser(t.id),r=await zr.userOperations.getUser(e.sender_id);if(console.log("[DEBUG] currentUser:",n),console.log("[DEBUG] senderUser:",r),!n||!r)throw new Error("Usu\xe1rio n\xe3o encontrado para amizade");const{data:a}=await xt.ND.from("friendships").select("*").eq("user_id",t.id).eq("friend_id",e.sender_id).single(),{data:i}=await xt.ND.from("friendships").select("*").eq("user_id",e.sender_id).eq("friend_id",t.id).single();let s=null;if(a){const{error:n}=await xt.ND.from("friendships").update({status:"accepted"}).eq("user_id",t.id).eq("friend_id",e.sender_id);s=n}else{const{error:n}=await xt.ND.from("friendships").insert({user_id:t.id,friend_id:e.sender_id,status:"accepted",created_at:(new Date).toISOString()});s=n}let l=null;if(i){const{error:n}=await xt.ND.from("friendships").update({status:"accepted"}).eq("user_id",e.sender_id).eq("friend_id",t.id);l=n}else{const{error:n}=await xt.ND.from("friendships").insert({user_id:e.sender_id,friend_id:t.id,status:"accepted",created_at:(new Date).toISOString()});l=n}if(s||l)throw s||l;await zr.messageOperations.updateMessage(e.id,{status:"accepted",read:!0}),o(t=>t.filter(t=>t.id!==e.id)),"undefined"!==typeof window&&window.location&&setTimeout(()=>window.location.reload(),500)}catch(MA){console.error("Erro ao aceitar solicita\xe7\xe3o:",MA)}})(e)},children:[(0,kt.jsx)(hh,{className:"w-4 h-4 mr-1"})," Aceitar"]}),(0,kt.jsxs)(th,{size:"sm",variant:"destructive",onClick:t=>{t.stopPropagation(),(async e=>{try{await zr.messageOperations.updateMessage(e.id,{status:"rejected",read:!0}),o(t=>t.filter(t=>t.id!==e.id))}catch(MA){console.error("Erro ao recusar solicita\xe7\xe3o:",MA)}})(e)},children:[(0,kt.jsx)(Ix,{className:"w-4 h-4 mr-1"})," Recusar"]})]}),"friend_request"===e.type&&"accepted"===e.status&&(0,kt.jsx)("p",{className:"text-xs text-green-400",children:"\u2705 Solicita\xe7\xe3o aceita"}),"friend_request"===e.type&&"rejected"===e.status&&(0,kt.jsx)("p",{className:"text-xs text-red-400",children:"\u274c Solicita\xe7\xe3o recusada"})]},e.id))})})})]})}const US=$r("chevron-right",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);function zS(e){let{user:t}=e;const[n,o]=r.useState([]),[a,i]=r.useState(!0),s=he();r.useEffect(()=>{(async()=>{if(null===t||void 0===t||!t.id)return o([]),void i(!1);const{data:e,error:n}=await xt.ND.from("friendships").select("friend_id").eq("user_id",t.id).eq("status","accepted");if(console.log("[DEBUG] friendshipRows:",e),n&&console.error("[DEBUG] Erro friendships:",n),!e||0===e.length)return o([]),void i(!1);const r=e.map(e=>e.friend_id);console.log("[DEBUG] friendIds:",r);const{data:a,error:s}=await xt.ND.from("users").select("*").in("id",r);console.log("[DEBUG] friendUsers:",a),s&&console.error("[DEBUG] Erro users:",s),o(a||[]),i(!1)})()},[null===t||void 0===t?void 0:t.id]);return(0,kt.jsxs)("div",{className:"w-full",children:[(0,kt.jsxs)("div",{className:"flex items-center gap-2 mb-3",children:[(0,kt.jsx)(uh,{className:"w-4 h-4 text-gray-400"}),(0,kt.jsx)("h3",{className:"font-semibold text-white",children:"Meus Amigos"}),(0,kt.jsxs)("span",{className:"text-xs text-gray-500",children:["(",n.length,")"]})]}),(0,kt.jsx)(Nx,{className:"h-64 rounded-lg border border-gray-800",children:a?(0,kt.jsx)("div",{className:"flex items-center justify-center h-full",children:"Carregando..."}):0===n.length?(0,kt.jsxs)("div",{className:"flex flex-col items-center justify-center h-full text-center p-4",children:[(0,kt.jsx)(uh,{className:"w-12 h-12 text-gray-600 mb-2"}),(0,kt.jsx)("p",{className:"text-gray-500 text-sm",children:"Nenhum amigo adicionado"})]}):(0,kt.jsx)("div",{className:"p-2 space-y-1",children:n.map(e=>{return(0,kt.jsx)(Tw.div,{whileHover:{x:4},whileTap:{scale:.98},children:(0,kt.jsxs)("div",{className:"flex items-center justify-between p-3 hover:bg-gray-800 rounded-lg group",children:[(0,kt.jsxs)("div",{className:"flex items-center gap-3 flex-1 cursor-pointer",onClick:()=>(e=>{s("/friend/".concat(e.id,"/decks"))})(e),children:[(0,kt.jsx)(sh,{className:"h-10 w-10",children:(0,kt.jsx)(lh,{className:"bg-gradient-to-br from-blue-500 to-purple-600 text-white font-semibold",children:(n=e.display_name||e.email,n?n.split(" ").map(e=>e[0]).join("").toUpperCase().slice(0,2):"U")})}),(0,kt.jsxs)("div",{className:"text-left flex-1 min-w-0",children:[(0,kt.jsx)("p",{className:"font-medium text-white truncate",children:e.display_name||e.email}),(0,kt.jsx)("p",{className:"text-xs text-gray-500 truncate",children:e.email})]}),(0,kt.jsx)(US,{className:"w-5 h-5 text-gray-500 group-hover:text-orange-500 transition-colors flex-shrink-0"})]}),(0,kt.jsx)(th,{variant:"ghost",size:"icon",onClick:()=>(async e=>{await xt.ND.from("friendships").delete().eq("user_id",t.id).eq("friend_id",e),await xt.ND.from("friendships").delete().eq("user_id",e).eq("friend_id",t.id),o(t=>t.filter(t=>t.id!==e))})(e.id),className:"h-8 w-8 opacity-0 group-hover:opacity-100 transition-opacity hover:bg-red-900/20 hover:text-red-400",children:"\ud83d\uddd1\ufe0f"})]})},e.id);var n})})})]})}const BS=["className"],qS=r.forwardRef((e,t)=>{let{className:n}=e,r=i(e,BS);return(0,kt.jsx)("textarea",(0,s.A)({ref:t,className:to("flex w-full rounded-md border border-gray-700 bg-gray-900 px-3 py-2 text-sm text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-orange-500",n)},r))});qS.displayName="Textarea";const VS=$r("loader-circle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);function WS(e){let{userId:t,onClose:n}=e;const[o,a]=(0,r.useState)(""),[i,s]=(0,r.useState)(""),[l,c]=(0,r.useState)(""),[u,d]=(0,r.useState)(null),[h,f]=(0,r.useState)(null),[p,m]=(0,r.useState)(!0);console.log("\ud83d\udd27 ProfileEdit - userId recebido:",t),(0,r.useEffect)(()=>{if(!t)return console.error("\u274c ProfileEdit - userId n\xe3o fornecido"),d("ID do usu\xe1rio n\xe3o fornecido"),void m(!1);(async()=>{try{console.log("\ud83d\udd04 ProfileEdit - Buscando dados do usu\xe1rio via Supabase:",t);const{data:e,error:n}=await xt.ND.from("users").select("*").eq("id",t).single();console.log("\ud83d\udcc4 ProfileEdit - Resultado da busca Supabase:",{data:e,error:n}),n?(console.error("\u274c ProfileEdit - Erro no Supabase:",n),d("Erro ao carregar perfil: "+n.message)):e?(a(e.display_name||""),s(e.username||""),c(e.bio||""),console.log("\u2705 ProfileEdit - Dados carregados:",e)):(console.error("\u274c ProfileEdit - Nenhum dado retornado"),d("Usu\xe1rio n\xe3o encontrado"))}catch(MA){console.error("\u274c ProfileEdit - Erro geral:",MA),d("Erro ao carregar perfil: "+MA.message)}finally{m(!1)}})()},[t]);return p?(0,kt.jsx)("div",{className:"flex items-center justify-center py-12",children:(0,kt.jsx)(VS,{className:"w-8 h-8 animate-spin text-orange-600"})}):(0,kt.jsxs)("form",{onSubmit:async e=>{if(e.preventDefault(),d(null),f(null),!i.trim())return void d("O username n\xe3o pode estar vazio");if(/^[a-zA-Z0-9_-]{3,20}$/.test(i.trim()))try{await async function(e,t){if(!e||!t)throw new Error("Dados inv\xe1lidos");const n=t.toLowerCase();if(await zr.userOperations.getUserByUsername(n))throw new Error("Este username j\xe1 est\xe1 em uso");const r=await zr.userOperations.getUser(e);if(!r)throw new Error("Usu\xe1rio n\xe3o encontrado");const o=r.username;await zr.userOperations.updateUser(e,{username:n});const{error:a}=await xt.ND.from("usernames").insert({id:n,uid:e,created_at:(new Date).toISOString()});if(a)throw console.error("Erro ao criar entrada de username:",a),await zr.userOperations.updateUser(e,{username:o}),a;o&&await xt.ND.from("usernames").delete().eq("id",o)}(t,i.trim()),await zr.userOperations.updateUser(t,{display_name:o.trim()||null,bio:l.trim()||null}),f("Perfil atualizado com sucesso!"),setTimeout(()=>{f(null),null===n||void 0===n||n()},2e3)}catch(MA){console.error(MA),d(MA.message||"Erro ao atualizar perfil")}else d("Username deve ter 3-20 caracteres (letras, n\xfameros, _ ou -)")},className:"space-y-4",children:[(0,kt.jsxs)("div",{className:"space-y-2",children:[(0,kt.jsx)(ah,{htmlFor:"displayName",className:"text-gray-300",children:"Nome de Exibi\xe7\xe3o"}),(0,kt.jsx)(rh,{id:"displayName",value:o,onChange:e=>a(e.target.value),placeholder:"Como voc\xea quer ser chamado",className:"bg-gray-800 border-gray-700 text-white"})]}),(0,kt.jsxs)("div",{className:"space-y-2",children:[(0,kt.jsx)(ah,{htmlFor:"username",className:"text-gray-300",children:"Username"}),(0,kt.jsx)(rh,{id:"username",value:i,onChange:e=>s(e.target.value.toLowerCase()),placeholder:"seu_username_unico",className:"bg-gray-800 border-gray-700 text-white"})]}),(0,kt.jsxs)("div",{className:"space-y-2",children:[(0,kt.jsx)(ah,{htmlFor:"bio",className:"text-gray-300",children:"Biografia"}),(0,kt.jsx)(qS,{id:"bio",value:l,onChange:e=>c(e.target.value),placeholder:"Conte um pouco sobre voc\xea...",className:"bg-gray-800 border-gray-700 text-white resize-none h-20"})]}),u&&(0,kt.jsxs)(oo,{variant:"destructive",className:"bg-red-900/20 border-red-800",children:[(0,kt.jsx)(Jr,{className:"h-4 w-4"}),(0,kt.jsx)(ao,{className:"text-xs",children:u})]}),h&&(0,kt.jsxs)(oo,{className:"bg-green-900/20 border-green-800",children:[(0,kt.jsx)(hh,{className:"h-4 w-4"}),(0,kt.jsx)(ao,{className:"text-xs text-green-400",children:h})]}),(0,kt.jsxs)("div",{className:"flex gap-2",children:[(0,kt.jsx)(th,{type:"button",variant:"outline",onClick:n,className:"flex-1 border-gray-700 text-gray-300 hover:bg-gray-800",children:"Cancelar"}),(0,kt.jsx)(th,{type:"submit",className:"flex-1 bg-orange-500 hover:bg-orange-600",children:"Salvar"})]})]})}async function HS(){try{const e="".concat(window.location.origin,"/");console.log("=== INICIANDO GOOGLE OAUTH ==="),console.log("Redirect URL:",e),console.log("Origin:",window.location.origin);const{data:t,error:n}=await xt.ND.auth.signInWithOAuth({provider:"google",options:{redirectTo:e}});if(n)throw console.error("=== ERRO OAUTH ==="),console.error("Error:",n),console.error("Message:",n.message),n;return console.log("=== OAUTH SUCESSO ==="),console.log("Data:",t),console.log("URL:",t.url),t}catch(MA){throw console.error("=== EXCEPTION ==="),console.error(MA),MA}}function KS(){const[e]=St(),{profile:t,loading:n}=Vr(e),o=Et(),[a,i]=(0,r.useState)(""),[s,l]=(0,r.useState)(!1),[c,u]=(0,r.useState)(!1),[d,h]=(0,r.useState)(!1),[f,p]=(0,r.useState)(!1),[m,g]=(0,r.useState)(null);console.log("\ud83d\udd04 UserMenu - authUser:",e),console.log("\ud83c\udd94 UserMenu - authUser.id:",null===e||void 0===e?void 0:e.id),console.log("\ud83d\udd04 UserMenu - authUser.email:",null===e||void 0===e?void 0:e.email),console.log("\ud83d\udc64 UserMenu - currentUser:",t),console.log("\u23f3 UserMenu - profileLoading:",n);const[v,y]=(0,r.useState)(null),b=(he(),t);console.log("\ud83c\udfaf UserMenu - user final:",b),console.log("\ud83d\udd0d UserMenu - display_name:",null===b||void 0===b?void 0:b.display_name),console.log("\ud83d\udd0d UserMenu - email:",null===b||void 0===b?void 0:b.email);const{data:w=[]}=_r({queryKey:["allUsernames"],queryFn:async()=>await zr.userOperations.getAllUsernames(),staleTime:18e5,gcTime:36e5}),{data:x=[]}=_r({queryKey:["messages",null===b||void 0===b?void 0:b.id],queryFn:async()=>null!==b&&void 0!==b&&b.id?await zr.messageOperations.getMessagesByRecipient(b.id):[],staleTime:12e4,refetchInterval:!!d&&3e4,enabled:!(null===b||void 0===b||!b.id)&&d}),S=x.filter(e=>!e.read).length,k=e=>e?e.split(" ").map(e=>e[0]).join("").toUpperCase().slice(0,2):"U",_=(null===b||void 0===b?void 0:b.display_name)||(null===b||void 0===b?void 0:b.full_name);return(0,kt.jsxs)(xd,{children:[(0,kt.jsx)(Sd,{asChild:!0,children:(0,kt.jsxs)(th,{variant:"ghost",className:"relative h-10 w-10 rounded-full border-2 border-gray-700 hover:border-orange-500 transition-colors",children:[S>0&&(0,kt.jsx)(Dw,{className:"absolute -top-1 -right-1 h-5 w-5 flex items-center justify-center p-0 bg-orange-500 text-white text-xs",children:S}),(0,kt.jsx)(sh,{className:"h-9 w-9",children:(0,kt.jsx)(lh,{className:"bg-gradient-to-br from-orange-500 to-purple-600 text-white font-semibold",children:k(_||(null===b||void 0===b?void 0:b.email))})})]})}),(0,kt.jsxs)(kd,{className:"w-96 bg-gray-900 border-gray-800 text-white p-4",align:"end",children:[(0,kt.jsxs)("div",{className:"flex items-start gap-3 mb-4",children:[(0,kt.jsx)(sh,{className:"h-12 w-12",children:(0,kt.jsx)(lh,{className:"bg-gradient-to-br from-orange-500 to-purple-600 text-white font-semibold text-lg",children:k(_||(null===b||void 0===b?void 0:b.email))})}),(0,kt.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,kt.jsx)("p",{className:"font-semibold text-white truncate",children:_}),(0,kt.jsx)("p",{className:"text-sm text-gray-400 truncate",children:null===b||void 0===b?void 0:b.email}),(null===b||void 0===b?void 0:b.bio)&&(0,kt.jsx)("p",{className:"text-xs text-gray-500 mt-1 line-clamp-2",children:b.bio}),"admin"===(null===b||void 0===b?void 0:b.role)&&(0,kt.jsx)("span",{className:"inline-block mt-1 px-2 py-0.5 bg-orange-500/20 text-orange-400 text-xs rounded-full",children:"Admin"})]})]}),(0,kt.jsx)(_d,{className:"bg-gray-800 mb-4"}),(0,kt.jsxs)($d,{defaultValue:"profile",className:"w-full",onValueChange:e=>{h("messages"===e)},children:[(0,kt.jsxs)(Xd,{className:"grid w-full grid-cols-3 bg-gray-800",children:[(0,kt.jsxs)(Jd,{value:"profile",className:"data-[state=active]:bg-gray-700",children:[(0,kt.jsx)(ch,{className:"w-4 h-4 mr-1"}),"Perfil"]}),(0,kt.jsxs)(Jd,{value:"friends",className:"data-[state=active]:bg-gray-700",children:[(0,kt.jsx)(uh,{className:"w-4 h-4 mr-1"}),"Amigos"]}),(0,kt.jsxs)(Jd,{value:"messages",className:"data-[state=active]:bg-gray-700 relative",children:[(0,kt.jsx)(dh,{className:"w-4 h-4 mr-1"}),"Mensagens",S>0&&(0,kt.jsx)(Dw,{className:"absolute -top-1 -right-1 h-4 w-4 flex items-center justify-center p-0 bg-orange-500 text-white text-[10px]",children:S})]})]}),(0,kt.jsx)(Zd,{value:"profile",className:"space-y-4 pt-4",children:c?(0,kt.jsx)(WS,{userId:(null===e||void 0===e?void 0:e.uid)||(null===b||void 0===b?void 0:b.id),onClose:()=>u(!1)}):(0,kt.jsxs)("div",{className:"space-y-3",children:[(0,kt.jsxs)("div",{className:"flex items-center justify-between",children:[(0,kt.jsx)(ah,{className:"text-gray-400",children:"Username"}),(0,kt.jsx)("span",{className:"text-sm text-gray-200",children:(null===b||void 0===b?void 0:b.username)||(0,kt.jsx)("span",{className:"italic text-gray-500",children:"(use seu UUID at\xe9 definir um username)"})})]}),(0,kt.jsxs)("div",{className:"flex items-center justify-between",children:[(0,kt.jsx)(ah,{className:"text-gray-400",children:"UUID"}),(0,kt.jsxs)("div",{className:"flex items-center gap-2",children:[(0,kt.jsx)("span",{className:"text-xs text-gray-500 truncate max-w-[140px]",children:(null===b||void 0===b?void 0:b.uuid)||(null===b||void 0===b?void 0:b.id)}),(0,kt.jsx)(th,{size:"icon",variant:"ghost",onClick:()=>{const e=(null===b||void 0===b?void 0:b.username)||(null===b||void 0===b?void 0:b.uuid)||(null===b||void 0===b?void 0:b.id);e&&(navigator.clipboard.writeText(e),p(!0),setTimeout(()=>p(!1),2e3))},className:"h-6 w-6 text-gray-400 hover:text-white",children:f?(0,kt.jsx)(hh,{className:"w-4 h-4 text-green-400"}):(0,kt.jsx)(fh,{className:"w-4 h-4"})})]})]}),(0,kt.jsxs)(th,{onClick:()=>u(!0),className:"w-full bg-orange-500 hover:bg-orange-600",children:[(0,kt.jsx)(ph,{className:"w-4 h-4 mr-2"}),"Editar Perfil"]})]})}),(0,kt.jsxs)(Zd,{value:"friends",className:"space-y-4 pt-4",children:[(0,kt.jsx)("div",{className:"flex items-center gap-2",children:(0,kt.jsxs)(th,{variant:"outline",size:"sm",onClick:()=>l(!s),className:"flex items-center gap-2 border-gray-700 text-gray-300 hover:bg-gray-800",children:[(0,kt.jsx)(mh,{className:"w-4 h-4"}),"Adicionar Amigo"]})}),(0,kt.jsx)(Rh,{children:s&&(0,kt.jsx)(Tw.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"overflow-hidden",children:(0,kt.jsxs)("div",{className:"space-y-2 mt-2",children:[(0,kt.jsx)(ah,{htmlFor:"friendId",className:"text-gray-300",children:"ID, UUID ou Username"}),(0,kt.jsxs)("div",{className:"flex gap-2",children:[(0,kt.jsx)(rh,{id:"friendId",value:a,onChange:e=>i(e.target.value),placeholder:"Digite o identificador do amigo",className:"bg-gray-800 border-gray-700 text-white"}),(0,kt.jsx)(th,{onClick:async()=>{console.log("[DEBUG] allUsernames:",JSON.stringify(w,null,2)),console.log("[DEBUG] searchInput:",a.trim()),g(null),y(null);const e=a.trim();if(e)try{var t;console.log("[DEBUG] Tentando encontrar usu\xe1rio:",{id:a.trim(),username:a.trim().toLowerCase()});const n=e.toLowerCase(),r=w.find(e=>e.id.toLowerCase()===n);if(console.log("[DEBUG] Resultado friendUsername:",r),!r)return void g('Usu\xe1rio n\xe3o encontrado: "'.concat(e,'"'));if(r.uid===b.id)return void g("Voc\xea n\xe3o pode adicionar a si mesmo");if(null!==(t=b.friends)&&void 0!==t&&t.includes(r.uid))return void g("Este usu\xe1rio j\xe1 est\xe1 na sua lista de amigos");await zr.messageOperations.sendMessage({recipient_id:r.uid,sender_id:b.id,sender_name:b.display_name||b.full_name||b.email,content:"".concat(b.display_name||b.full_name||b.email," quer adicionar voc\xea como amigo."),type:"friend_request",status:"pending",created_at:(new Date).toISOString()}),y("Solicita\xe7\xe3o de amizade enviada com sucesso!"),i("")}catch(MA){console.error(MA),g("Erro: ".concat(MA.message||"N\xe3o foi poss\xedvel enviar a solicita\xe7\xe3o"))}else g("Por favor, insira um ID ou username")},className:"bg-orange-500 hover:bg-orange-600",children:"Enviar"})]})]})})}),m&&(0,kt.jsx)(oo,{variant:"destructive",className:"bg-red-900/20 border-red-800",children:(0,kt.jsx)(ao,{className:"text-xs",children:m})}),v&&(0,kt.jsx)(oo,{className:"bg-green-900/20 border-green-800",children:(0,kt.jsx)(ao,{className:"text-xs text-green-400",children:v})}),(0,kt.jsx)(zS,{user:b})]}),(0,kt.jsx)(Zd,{value:"messages",className:"pt-4",children:(0,kt.jsx)(LS,{user:b})})]}),(0,kt.jsx)(_d,{className:"bg-gray-800 my-4"}),(0,kt.jsxs)(th,{variant:"ghost",onClick:async()=>{try{console.log("\ud83d\udeaa Usu\xe1rio clicou em logout..."),o.clear(),console.log("\ud83e\uddf9 Cache limpo"),await async function(){const{error:e}=await xt.ND.auth.signOut();if(e)throw e}(),console.log("\u2705 Logout conclu\xeddo"),setTimeout(()=>{console.log("\ud83d\udd04 Redirecionando para login..."),window.location.href="/login"},100)}catch(m){console.error("\u274c Erro no logout:",m),g("Erro ao fazer logout: "+m.message)}},className:"w-full justify-start text-red-400 hover:text-red-300 hover:bg-red-900/20",children:[(0,kt.jsx)(gh,{className:"w-4 h-4 mr-2"}),"Sair"]})]})]})}const GS=["__scopeDialog"],QS=["forceMount"],YS=["__scopeDialog"],$S=["forceMount"],XS=["__scopeDialog","trapFocus","onOpenAutoFocus","onCloseAutoFocus"],JS=["__scopeDialog"],ZS=["__scopeDialog"],ek=["__scopeDialog"];var tk="Dialog",[nk,rk]=fo(tk),[ok,ak]=nk(tk),ik=e=>{const{__scopeDialog:t,children:n,open:o,defaultOpen:a,onOpenChange:i,modal:s=!0}=e,l=r.useRef(null),c=r.useRef(null),[u,d]=vo({prop:o,defaultProp:null!==a&&void 0!==a&&a,onChange:i,caller:tk});return(0,kt.jsx)(ok,{scope:t,triggerRef:l,contentRef:c,contentId:ca(),titleId:ca(),descriptionId:ca(),open:u,onOpenChange:d,onOpenToggle:r.useCallback(()=>d(e=>!e),[d]),modal:s,children:n})};ik.displayName=tk;var sk="DialogTrigger",lk=r.forwardRef((e,t)=>{const{__scopeDialog:n}=e,r=i(e,GS),o=ak(sk,n),a=co(t,o.triggerRef);return(0,kt.jsx)(Co.button,(0,s.A)((0,s.A)({type:"button","aria-haspopup":"dialog","aria-expanded":o.open,"aria-controls":o.contentId,"data-state":jk(o.open)},r),{},{ref:a,onClick:io(e.onClick,o.onOpenToggle)}))});lk.displayName=sk;var ck="DialogPortal",[uk,dk]=nk(ck,{forceMount:void 0}),hk=e=>{const{__scopeDialog:t,forceMount:n,children:o,container:a}=e,i=ak(ck,t);return(0,kt.jsx)(uk,{scope:t,forceMount:n,children:r.Children.map(o,e=>(0,kt.jsx)(Ps,{present:n||i.open,children:(0,kt.jsx)(Ds,{asChild:!0,container:a,children:e})}))})};hk.displayName=ck;var fk="DialogOverlay",pk=r.forwardRef((e,t)=>{const n=dk(fk,e.__scopeDialog),{forceMount:r=n.forceMount}=e,o=i(e,QS),a=ak(fk,e.__scopeDialog);return a.modal?(0,kt.jsx)(Ps,{present:r||a.open,children:(0,kt.jsx)(gk,(0,s.A)((0,s.A)({},o),{},{ref:t}))}):null});pk.displayName=fk;var mk=xo("DialogOverlay.RemoveScroll"),gk=r.forwardRef((e,t)=>{const{__scopeDialog:n}=e,r=i(e,YS),o=ak(fk,n);return(0,kt.jsx)($l,{as:mk,allowPinchZoom:!0,shards:[o.contentRef],children:(0,kt.jsx)(Co.div,(0,s.A)((0,s.A)({"data-state":jk(o.open)},r),{},{ref:t,style:(0,s.A)({pointerEvents:"auto"},r.style)}))})}),vk="DialogContent",yk=r.forwardRef((e,t)=>{const n=dk(vk,e.__scopeDialog),{forceMount:r=n.forceMount}=e,o=i(e,$S),a=ak(vk,e.__scopeDialog);return(0,kt.jsx)(Ps,{present:r||a.open,children:a.modal?(0,kt.jsx)(bk,(0,s.A)((0,s.A)({},o),{},{ref:t})):(0,kt.jsx)(wk,(0,s.A)((0,s.A)({},o),{},{ref:t}))})});yk.displayName=vk;var bk=r.forwardRef((e,t)=>{const n=ak(vk,e.__scopeDialog),o=r.useRef(null),a=co(t,n.contentRef,o);return r.useEffect(()=>{const e=o.current;if(e)return sl(e)},[]),(0,kt.jsx)(xk,(0,s.A)((0,s.A)({},e),{},{ref:a,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:io(e.onCloseAutoFocus,e=>{var t;e.preventDefault(),null===(t=n.triggerRef.current)||void 0===t||t.focus()}),onPointerDownOutside:io(e.onPointerDownOutside,e=>{const t=e.detail.originalEvent,n=0===t.button&&!0===t.ctrlKey;(2===t.button||n)&&e.preventDefault()}),onFocusOutside:io(e.onFocusOutside,e=>e.preventDefault())}))}),wk=r.forwardRef((e,t)=>{const n=ak(vk,e.__scopeDialog),o=r.useRef(!1),a=r.useRef(!1);return(0,kt.jsx)(xk,(0,s.A)((0,s.A)({},e),{},{ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:t=>{var r,i;(null===(r=e.onCloseAutoFocus)||void 0===r||r.call(e,t),t.defaultPrevented)||(o.current||null===(i=n.triggerRef.current)||void 0===i||i.focus(),t.preventDefault());o.current=!1,a.current=!1},onInteractOutside:t=>{var r,i;null===(r=e.onInteractOutside)||void 0===r||r.call(e,t),t.defaultPrevented||(o.current=!0,"pointerdown"===t.detail.originalEvent.type&&(a.current=!0));const s=t.target;(null===(i=n.triggerRef.current)||void 0===i?void 0:i.contains(s))&&t.preventDefault(),"focusin"===t.detail.originalEvent.type&&a.current&&t.preventDefault()}}))}),xk=r.forwardRef((e,t)=>{const{__scopeDialog:n,trapFocus:o,onOpenAutoFocus:a,onCloseAutoFocus:l}=e,c=i(e,XS),u=ak(vk,n),d=r.useRef(null),h=co(t,d);return Qo(),(0,kt.jsxs)(kt.Fragment,{children:[(0,kt.jsx)(ea,{asChild:!0,loop:!0,trapped:o,onMountAutoFocus:a,onUnmountAutoFocus:l,children:(0,kt.jsx)(Vo,(0,s.A)((0,s.A)({role:"dialog",id:u.contentId,"aria-describedby":u.descriptionId,"aria-labelledby":u.titleId,"data-state":jk(u.open)},c),{},{ref:h,onDismiss:()=>u.onOpenChange(!1)}))}),(0,kt.jsxs)(kt.Fragment,{children:[(0,kt.jsx)(Pk,{titleId:u.titleId}),(0,kt.jsx)(Ok,{contentRef:d,descriptionId:u.descriptionId})]})]})}),Sk="DialogTitle",kk=r.forwardRef((e,t)=>{const{__scopeDialog:n}=e,r=i(e,JS),o=ak(Sk,n);return(0,kt.jsx)(Co.h2,(0,s.A)((0,s.A)({id:o.titleId},r),{},{ref:t}))});kk.displayName=Sk;var _k="DialogDescription",Ek=r.forwardRef((e,t)=>{const{__scopeDialog:n}=e,r=i(e,ZS),o=ak(_k,n);return(0,kt.jsx)(Co.p,(0,s.A)((0,s.A)({id:o.descriptionId},r),{},{ref:t}))});Ek.displayName=_k;var Ck="DialogClose",Ak=r.forwardRef((e,t)=>{const{__scopeDialog:n}=e,r=i(e,ek),o=ak(Ck,n);return(0,kt.jsx)(Co.button,(0,s.A)((0,s.A)({type:"button"},r),{},{ref:t,onClick:io(e.onClick,()=>o.onOpenChange(!1))}))});function jk(e){return e?"open":"closed"}Ak.displayName=Ck;var Tk="DialogTitleWarning",[Nk,Dk]=function(e,t){const n=r.createContext(t),o=e=>{const{children:t}=e,o=i(e,uo),a=r.useMemo(()=>o,Object.values(o));return(0,kt.jsx)(n.Provider,{value:a,children:t})};return o.displayName=e+"Provider",[o,function(o){const a=r.useContext(n);if(a)return a;if(void 0!==t)return t;throw new Error("`".concat(o,"` must be used within `").concat(e,"`"))}]}(Tk,{contentName:vk,titleName:Sk,docsSlug:"dialog"}),Pk=e=>{let{titleId:t}=e;const n=Dk(Tk),o="`".concat(n.contentName,"` requires a `").concat(n.titleName,"` for the component to be accessible for screen reader users.\n\nIf you want to hide the `").concat(n.titleName,"`, you can wrap it with our VisuallyHidden component.\n\nFor more information, see https://radix-ui.com/primitives/docs/components/").concat(n.docsSlug);return r.useEffect(()=>{if(t){document.getElementById(t)||console.error(o)}},[o,t]),null},Ok=e=>{let{contentRef:t,descriptionId:n}=e;const o=Dk("DialogDescriptionWarning"),a="Warning: Missing `Description` or `aria-describedby={undefined}` for {".concat(o.contentName,"}.");return r.useEffect(()=>{var e;const r=null===(e=t.current)||void 0===e?void 0:e.getAttribute("aria-describedby");if(n&&r){document.getElementById(n)||console.warn(a)}},[a,t,n]),null},Rk=ik,Ik=hk,Mk=pk,Fk=yk,Lk=kk,Uk=Ek,zk=Ak;const Bk=$r("book",[["path",{d:"M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H19a1 1 0 0 1 1 1v18a1 1 0 0 1-1 1H6.5a1 1 0 0 1 0-5H20",key:"k3hazp"}]]);function qk(e){if(!e)return null;const t=e.split(/(\{.*?\})/g);return(0,kt.jsx)(kt.Fragment,{children:t.map((e,t)=>{if(e.startsWith("{")&&e.endsWith("}")){const n=e.slice(1,-1).toLowerCase();return(0,kt.jsx)("i",{className:"ms ms-".concat(n," inline-block")},t)}return(0,kt.jsx)("span",{children:e},t)})})}const Vk="deckmaster_translations",Wk=1,Hk="translations";let Kk={hits:0,misses:0,saves:0};function Gk(){return new Promise((e,t)=>{const n=indexedDB.open(Vk,Wk);n.onerror=()=>t(n.error),n.onsuccess=()=>e(n.result),n.onupgradeneeded=e=>{const t=e.target.result;if(!t.objectStoreNames.contains(Hk)){const e=t.createObjectStore(Hk,{keyPath:"key"});e.createIndex("cardId","cardId",{unique:!1}),e.createIndex("timestamp","timestamp",{unique:!1}),console.log("\u2705 Store de tradu\xe7\xf5es criado")}}})}async function Qk(e,t,n,r,o){try{const a=await Gk(),i=a.transaction(Hk,"readwrite").objectStore(Hk),s={key:"".concat(e,"_").concat(t),cardId:e,cardName:t,translatedName:n,translatedText:r,faces:o||null,timestamp:Date.now()};return await i.put(s),Kk.saves++,console.log("\ud83d\udcbe Tradu\xe7\xe3o salva: ".concat(t," \u2192 ").concat(n)),!0}catch(a){return console.error("\u274c Erro ao salvar tradu\xe7\xe3o:",a),!1}}async function Yk(e,t){try{const n=await Gk(),r=n.transaction(Hk,"readonly").objectStore(Hk),o="".concat(e,"_").concat(t),a=await new Promise((e,t)=>{const n=r.get(o);n.onsuccess=()=>e(n.result),n.onerror=()=>t(n.error)});return a?(Kk.hits++,console.log("\u2705 Cache HIT: ".concat(t)),a):(Kk.misses++,console.log("\u274c Cache MISS: ".concat(t)),null)}catch(n){return console.error("\u274c Erro ao buscar tradu\xe7\xe3o:",n),Kk.misses++,null}}async function $k(){try{const e=(await Gk()).transaction(Hk,"readwrite"),t=e.objectStore(Hk).index("timestamp"),n=Date.now()-2592e6,r=IDBKeyRange.upperBound(n);let o=0;const a=t.openCursor(r);return new Promise((e,t)=>{a.onsuccess=t=>{const n=t.target.result;n?(n.delete(),o++,n.continue()):(console.log("\ud83e\uddf9 ".concat(o," tradu\xe7\xf5es antigas removidas")),e(o))},a.onerror=()=>t(a.error)})}catch(e){return console.error("\u274c Erro ao limpar tradu\xe7\xf5es:",e),0}}function Xk(){return(0,s.A)((0,s.A)({},Kk),{},{hitRate:Kk.hits+Kk.misses>0?(Kk.hits/(Kk.hits+Kk.misses)*100).toFixed(2)+"%":"0%"})}function Jk(){Kk={hits:0,misses:0,saves:0}}async function Zk(){try{const e=await Gk(),t=e.transaction(Hk,"readwrite").objectStore(Hk);return await t.clear(),console.log("\ud83d\uddd1\ufe0f Todas as tradu\xe7\xf5es foram removidas"),!0}catch(e){return console.error("\u274c Erro ao limpar cache:",e),!1}}async function e_(){try{const e=await Gk(),t=e.transaction(Hk,"readonly").objectStore(Hk);return await new Promise((e,n)=>{const r=t.count();r.onsuccess=()=>e(r.result),r.onerror=()=>n(r.error)})}catch(e){return console.error("\u274c Erro ao contar tradu\xe7\xf5es:",e),0}}"undefined"!==typeof window&&(window.translationCache={getStats:Xk,resetStats:Jk,clearAll:Zk,count:e_,clean:$k},console.log("\ud83d\udde3\ufe0f Translation Cache dispon\xedvel em window.translationCache"));async function t_(e){var t,n,r,o;let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"pt";if(!e)return"";const i=await fetch("".concat("https://api.cognitive.microsofttranslator.com/","translate?api-version=3.0&to=").concat(a),{method:"POST",headers:{"Ocp-Apim-Subscription-Key":"3SIB3A0zDF30tbPK7QngZgwwQVSw07xhQuijVIsdxiTyIJD0q8mbJQQJ99BJACZoyfiXJ3w3AAAbACOG8Alx","Ocp-Apim-Subscription-Region":"brazilsouth","Content-type":"application/json"},body:JSON.stringify([{text:e}])}),s=await i.json();return null!==(t=null===s||void 0===s||null===(n=s[0])||void 0===n||null===(r=n.translations)||void 0===r||null===(o=r[0])||void 0===o?void 0:o.text)&&void 0!==t?t:e}async function n_(e){var t,n,r,o,a,i,l,c,u,d,h;const f=null!==(t=e.oracle_id)&&void 0!==t?t:e.id,p=await Yk(f,e.name);if(p)return console.log("\ud83d\udcbe Usando tradu\xe7\xe3o em cache: ".concat(e.name)),(0,s.A)((0,s.A)({},e),{},{name:p.translatedName,oracle_text:p.translatedText,card_faces:p.faces||e.card_faces});const m=await async function(e){let t=e;for(;t;){var n;const e=await fetch(t);if(!e.ok)break;const r=await e.json(),o=r.data.find(e=>"pt"===e.lang);if(o)return o;t=r.has_more&&null!==(n=r.next_page)&&void 0!==n?n:null}return null}(e.prints_search_uri);if(m){const t=m.printed_name||m.name,n=m.printed_text||m.oracle_text||"";let r=e.card_faces;return m.card_faces&&m.card_faces.length>0?r=m.card_faces.map(e=>(0,s.A)((0,s.A)({},e),{},{name:e.printed_name||e.name,oracle_text:e.printed_text||e.oracle_text||""})):e.card_faces&&e.card_faces.length>0&&(r=await Promise.all(e.card_faces.map(async e=>{var t;return(0,s.A)((0,s.A)({},e),{},{name:await t_(e.name,"pt"),oracle_text:await t_(null!==(t=e.oracle_text)&&void 0!==t?t:"","pt")})}))),await Qk(f,e.name,t,n,r),(0,s.A)((0,s.A)({},e),{},{name:t,oracle_text:n,card_faces:r})}const g=[{text:e.name},{text:null!==(n=e.oracle_text)&&void 0!==n?n:""}],v=await fetch("".concat("https://api.cognitive.microsofttranslator.com/","translate?api-version=3.0&to=pt"),{method:"POST",headers:{"Ocp-Apim-Subscription-Key":"3SIB3A0zDF30tbPK7QngZgwwQVSw07xhQuijVIsdxiTyIJD0q8mbJQQJ99BJACZoyfiXJ3w3AAAbACOG8Alx","Ocp-Apim-Subscription-Region":"brazilsouth","Content-type":"application/json"},body:JSON.stringify(g)}),y=await v.json(),b=null!==(r=null===y||void 0===y||null===(o=y[0])||void 0===o||null===(a=o.translations)||void 0===a||null===(i=a[0])||void 0===i?void 0:i.text)&&void 0!==r?r:e.name,w=null!==(l=null===y||void 0===y||null===(c=y[1])||void 0===c||null===(u=c.translations)||void 0===u||null===(d=u[0])||void 0===d?void 0:d.text)&&void 0!==l?l:null!==(h=e.oracle_text)&&void 0!==h?h:"";let x=e.card_faces;return e.card_faces&&e.card_faces.length>0&&(x=await Promise.all(e.card_faces.map(async e=>{var t;const n=await t_(e.name,"pt"),r=await t_(null!==(t=e.oracle_text)&&void 0!==t?t:"","pt");return(0,s.A)((0,s.A)({},e),{},{name:n,oracle_text:r})}))),await Qk(f,e.name,b,w,x),(0,s.A)((0,s.A)({},e),{},{name:null!==b&&void 0!==b?b:e.name,oracle_text:null!==w&&void 0!==w?w:e.oracle_text,card_faces:x})}function r_(e){var t,n,o;let{isOpen:a,onClose:i}=e;const[l,c]=(0,r.useState)(""),[u,d]=(0,r.useState)([]),[h,f]=(0,r.useState)(!1),[p,m]=(0,r.useState)(!1),[g,v]=(0,r.useState)(-1),[y,b]=(0,r.useState)(!1),[w,x]=(0,r.useState)(null),[S,k]=(0,r.useState)(0),[_,E]=(0,r.useState)(null),C=(0,r.useRef)(null),[A,j]=(0,r.useState)(null);(0,r.useEffect)(()=>{const e=e=>{C.current&&!C.current.contains(e.target)&&f(!1)};return document.addEventListener("mousedown",e),()=>document.removeEventListener("mousedown",e)},[]),(0,r.useEffect)(()=>{if(l.trim().length<2)return d([]),void f(!1);const e=new AbortController;m(!0);const t=setTimeout(async()=>{try{const e=await async function(e){const t=await fetch("https://api.scryfall.com/cards/autocomplete?q=".concat(encodeURIComponent(e),"&include_extras=true"));return(await t.json()).data||[]}(l);d(e),f(!0),v(-1)}catch(MA){console.error(MA)}finally{m(!1)}},300);return()=>{e.abort(),clearTimeout(t)}},[l]);const T=async e=>{f(!1),c(e),b(!0),E(null),x(null),k(0);try{const t=await async function(e){let t=await fetch("https://api.scryfall.com/cards/named?fuzzy=".concat(encodeURIComponent(e)));if(t.ok)return await t.json();if(t=await fetch('https://api.scryfall.com/cards/search?q=!"'.concat(encodeURIComponent(e),'"&unique=prints')),t.ok){const e=await t.json();if(e.data&&e.data.length>0)return e.data[0]}if(t=await fetch("https://api.scryfall.com/cards/search?q=".concat(encodeURIComponent(e),"&unique=cards&order=name")),t.ok){const e=await t.json();if(e.data&&e.data.length>0)return e.data[0]}if(t=await fetch('https://api.scryfall.com/cards/search?q=foreign:"'.concat(encodeURIComponent(e),'"&unique=cards')),t.ok){const e=await t.json();if(e.data&&e.data.length>0)return e.data[0]}throw new Error("Carta n\xe3o encontrada. Tente usar o nome em ingl\xeas ou verifique a ortografia.")}(e),n=await n_(t);let r=[];if(t.rulings_uri){const e=await async function(e){const t=await fetch(e);if(!t.ok)throw new Error("Erro ao buscar rulings");return(await t.json()).data}(t.rulings_uri);r=await Promise.all(e.map(async e=>(0,s.A)((0,s.A)({},e),{},{comment:await t_(e.comment,"pt")})))}x((0,s.A)((0,s.A)({},n),{},{rulings:r}))}catch(MA){E(MA instanceof Error?MA.message:"Erro desconhecido")}finally{b(!1)}},N=()=>{if(null===w||void 0===w||!w.card_faces||w.card_faces.length<=1)return;const e=w.card_faces;k(t=>(t+1)%e.length)},D=null!==w&&void 0!==w&&w.card_faces?w.card_faces[S]:w;return(0,kt.jsx)(Rk,{open:a,onOpenChange:i,children:(0,kt.jsxs)(Ik,{children:[(0,kt.jsx)(Mk,{className:"fixed inset-0 z-40 bg-black/70 backdrop-blur-sm"}),(0,kt.jsxs)(Fk,{className:"fixed left-1/2 top-1/2 z-50 w-[95vw] max-w-2xl h-[85vh] max-h-[85vh]\r -translate-x-1/2 -translate-y-1/2 overflow-hidden rounded-lg\r bg-gray-400/90 backdrop-blur-md border border-gray-600 p-4 flex flex-col","aria-describedby":"search-rules-description",children:[(0,kt.jsx)(Lk,{className:"sr-only",children:"Buscar Regras de Cartas"}),(0,kt.jsx)(Uk,{id:"search-rules-description",className:"sr-only",children:"Busque por cartas do Magic: The Gathering e visualize suas regras traduzidas."}),(0,kt.jsxs)("div",{className:"pb-2 flex items-center justify-between",children:[(0,kt.jsxs)("h2",{className:"flex items-center gap-2 text-black text-lg",children:[(0,kt.jsx)(Bk,{className:"w-5 h-5"}),"Buscar Regras"]}),(0,kt.jsx)(zk,{asChild:!0,children:(0,kt.jsx)("button",{"aria-label":"Fechar",className:"rounded p-1 text-black/70 hover:text-black hover:bg-black/10",children:(0,kt.jsx)(Ix,{className:"w-5 h-5"})})})]}),(0,kt.jsxs)("div",{className:"space-y-3 flex-1 flex flex-col min-h-0",children:[(0,kt.jsxs)("div",{className:"relative flex-shrink-0",ref:C,children:[(0,kt.jsxs)("div",{className:"relative flex gap-2",children:[(0,kt.jsxs)("div",{className:"relative flex-1",children:[(0,kt.jsx)(Zr,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-600 z-10"}),(0,kt.jsx)(rh,{value:l,onChange:e=>c(e.target.value),onKeyDown:e=>{h&&0!==u.length&&("ArrowDown"===e.key?(e.preventDefault(),v(e=>e<u.length-1?e+1:e)):"ArrowUp"===e.key?(e.preventDefault(),v(e=>e>0?e-1:-1)):"Enter"===e.key?(e.preventDefault(),g>=0&&u[g]?T(u[g]):l.trim()&&T(l.trim())):"Escape"===e.key&&(f(!1),v(-1)))},onFocus:()=>u.length>0&&f(!0),placeholder:"Digite o nome da carta...",className:"pl-9 h-10 text-sm bg-white/90 border-gray-500 text-black placeholder:text-gray-600",disabled:y,autoComplete:"off"}),p&&(0,kt.jsx)(VS,{className:"absolute right-3 top-1/2 -translate-y-1/2 w-4 h-4 animate-spin text-gray-600"})]}),(0,kt.jsx)("button",{onClick:()=>l.trim()&&T(l.trim()),disabled:y||!l.trim(),className:"h-10 px-4 bg-orange-500 hover:bg-orange-600 disabled:bg-gray-400 text-white rounded-md transition-colors flex items-center gap-2 disabled:cursor-not-allowed",title:"Buscar diretamente sem autocomplete",children:y?(0,kt.jsx)(VS,{className:"w-4 h-4 animate-spin"}):(0,kt.jsx)(Zr,{className:"w-4 h-4"})})]}),(0,kt.jsx)(Rh,{children:h&&u.length>0&&(0,kt.jsx)(Tw.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},className:"absolute top-full left-0 right-0 mt-2 bg-white/95 border border-gray-500 rounded-lg shadow-2xl max-h-60 overflow-y-auto z-50",children:u.map((e,t)=>(0,kt.jsx)(Tw.div,{onClick:()=>T(e),className:"px-3 py-2.5 cursor-pointer transition-colors border-b border-gray-300 last:border-b-0 ".concat(t===g?"bg-orange-500/20 text-orange-800":"text-black hover:bg-gray-200"),whileHover:{x:4},children:(0,kt.jsxs)("div",{className:"flex items-center gap-2",children:[(0,kt.jsx)(Zr,{className:"w-3.5 h-3.5 text-gray-600 flex-shrink-0"}),(0,kt.jsx)("span",{className:"font-medium text-sm",children:e})]})},t))})})]}),_&&(0,kt.jsx)("div",{className:"bg-red-100 border border-red-400 rounded-lg p-2.5 flex-shrink-0",children:(0,kt.jsx)("p",{className:"text-xs text-red-800",children:_})}),(0,kt.jsxs)("div",{className:"flex-1 overflow-y-auto overflow-x-hidden pr-2 -mr-2",children:[y&&(0,kt.jsx)("div",{className:"flex items-center justify-center py-12",children:(0,kt.jsxs)("div",{className:"text-center",children:[(0,kt.jsx)(VS,{className:"w-10 h-10 animate-spin text-orange-600 mx-auto mb-2"}),(0,kt.jsx)("p",{className:"text-xs text-black",children:"Buscando informa\xe7\xf5es..."})]})}),w&&!y&&D&&(0,kt.jsxs)(Tw.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white/90 rounded-lg p-3 border border-gray-400",children:[(0,kt.jsxs)("div",{className:"flex flex-col sm:flex-row items-start gap-3 mb-3 pb-3 border-b border-gray-300",children:[(null===(t=D.image_uris)||void 0===t?void 0:t.normal)&&(0,kt.jsx)("img",{src:D.image_uris.normal,alt:D.name,className:"w-32 sm:w-40 h-auto rounded-lg shadow-lg mx-auto sm:mx-0 cursor-pointer",onTouchStart:e=>{j(e.touches[0].clientX)},onTouchEnd:e=>{if(null===A)return;const t=e.changedTouches[0].clientX,n=A-t;Math.abs(n)>50&&N(),j(null)},draggable:!1}),(0,kt.jsxs)("div",{className:"flex-1 w-full",children:[(0,kt.jsx)("h3",{className:"text-base sm:text-lg font-bold text-black mb-1 text-center sm:text-left",children:D.name}),(0,kt.jsx)("p",{className:"text-xs sm:text-sm text-gray-700",children:null!==(n=D.type_line)&&void 0!==n?n:""})]})]}),(0,kt.jsxs)("div",{className:"prose prose-sm max-w-none text-black",children:[(0,kt.jsx)("div",{className:"whitespace-pre-wrap text-xs sm:text-sm leading-relaxed",children:qk(null!==(o=D.oracle_text)&&void 0!==o?o:"")}),(null===w||void 0===w?void 0:w.rulings)&&w.rulings.length>0&&(0,kt.jsxs)("div",{className:"mt-3",children:[(0,kt.jsx)("h4",{className:"font-semibold text-sm text-black",children:"Notas oficiais (Rulings)"}),(0,kt.jsx)("ul",{className:"list-disc ml-4 text-xs text-gray-700",children:w.rulings.map((e,t)=>(0,kt.jsxs)("li",{children:[(0,kt.jsxs)("span",{className:"font-medium",children:[e.published_at,":"]})," ",e.comment]},t))})]})]})]}),!y&&!w&&!_&&(0,kt.jsxs)("div",{className:"flex flex-col items-center justify-center py-12 text-center",children:[(0,kt.jsx)(Bk,{className:"w-12 h-12 text-gray-600 mb-2"}),(0,kt.jsx)("p",{className:"text-black font-medium text-sm mb-1",children:"Busque por uma carta"}),(0,kt.jsx)("p",{className:"text-xs text-gray-700 px-4",children:"Digite o nome de uma carta em qualquer idioma para ver sua tradu\xe7\xe3o e regras em portugu\xeas"})]})]})]})]})]})})}function o_(e){let{onSearch:t}=e;const[n,o]=(0,r.useState)(""),[a,i]=(0,r.useState)(""),[s,l]=(0,r.useState)(""),[c,u]=(0,r.useState)([]),[d,h]=(0,r.useState)(!1),[f,p]=(0,r.useState)({}),[m,g]=(0,r.useState)({}),[v,y]=(0,r.useState)(!1),[b,w]=(0,r.useState)([]),[x,S]=(0,r.useState)("exact"),[k,_]=(0,r.useState)([]),E=(0,r.useRef)(null),C=(0,r.useRef)(null);function A(e){arguments.length>1&&void 0!==arguments[1]&&arguments[1]?_(t=>t.includes(e)?t.filter(t=>t!==e):[...t,e]):w(t=>t.includes(e)?t.filter(t=>t!==e):[...t,e])}return(0,r.useEffect)(()=>{Promise.all([{key:"Card Types",url:"https://api.scryfall.com/catalog/card-types"},{key:"Supertypes",url:"https://api.scryfall.com/catalog/supertypes"},{key:"Artifact Types",url:"https://api.scryfall.com/catalog/artifact-types"},{key:"Battle Types",url:"https://api.scryfall.com/catalog/battle-types"},{key:"Creature Types",url:"https://api.scryfall.com/catalog/creature-types"},{key:"Enchantment Types",url:"https://api.scryfall.com/catalog/enchantment-types"},{key:"Land Types",url:"https://api.scryfall.com/catalog/land-types"},{key:"Planeswalker Types",url:"https://api.scryfall.com/catalog/planeswalker-types"},{key:"Spell Types",url:"https://api.scryfall.com/catalog/spell-types"}].map(e=>fetch(e.url).then(e=>e.json()).then(t=>({key:e.key,data:t.data||[]})).catch(()=>({key:e.key,data:[]})))).then(e=>{const t={};e.forEach(e=>{e.data.length>0&&(t[e.key]=e.data)}),p(t),g(t)})},[]),(0,r.useEffect)(()=>{if(s.trim()){const e=s.toLowerCase(),t={};Object.entries(f).forEach(n=>{let[r,o]=n;const a=o.filter(t=>t.toLowerCase().includes(e));a.length>0&&(t[r]=a)}),g(t)}else g(f)},[s,f]),(0,r.useEffect)(()=>{function e(e){C.current&&!C.current.contains(e.target)&&E.current&&!E.current.contains(e.target)&&y(!1)}return document.addEventListener("mousedown",e),()=>document.removeEventListener("mousedown",e)},[]),(0,kt.jsxs)("form",{onSubmit:function(e){e.preventDefault();const r=function(){const e=[];if(n&&e.push('name:"'.concat(n,'"')),a&&e.push('o:"'.concat(a,'"')),c.length>0)if(d){const t=c.map(e=>"t:".concat(e)).join(" OR ");e.push("(".concat(t,")"))}else c.forEach(t=>e.push("t:".concat(t)));if(b.length>0){const t=b.join("");switch(x){case"exact":e.push("color=".concat(t));break;case"including":e.push("color>=".concat(t));break;case"at-least-one":e.push("color:".concat(t))}}return k.length>0&&e.push("id:".concat(k.join(""))),e.join(" ")}();t(r)},className:"p-3 bg-gray-800 text-white space-y-3",children:[(0,kt.jsxs)("div",{children:[(0,kt.jsx)("label",{className:"block text-xs font-medium text-gray-300 mb-1",children:"Nome da carta"}),(0,kt.jsx)("input",{type:"text",value:n,onChange:e=>o(e.target.value),placeholder:'Ex: "Fire"',className:"w-full border border-gray-600 rounded bg-gray-700 px-2.5 py-1.5 text-sm text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-orange-500"})]}),(0,kt.jsxs)("div",{children:[(0,kt.jsx)("label",{className:"block text-xs font-medium text-gray-300 mb-1",children:"Texto da carta"}),(0,kt.jsx)("input",{type:"text",value:a,onChange:e=>i(e.target.value),placeholder:'Ex: "draw a card"',className:"w-full border border-gray-600 rounded bg-gray-700 px-2.5 py-1.5 text-sm text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-orange-500"})]}),(0,kt.jsxs)("div",{className:"relative",children:[(0,kt.jsx)("label",{className:"block text-xs font-medium text-gray-300 mb-1",children:"Tipo"}),c.length>0&&(0,kt.jsx)("div",{className:"flex flex-wrap gap-1.5 mb-1.5",children:c.map(e=>(0,kt.jsxs)("span",{className:"inline-flex items-center gap-1 px-1.5 py-0.5 bg-orange-500 text-white text-xs rounded",children:[e,(0,kt.jsx)("button",{type:"button",onClick:()=>function(e){u(c.filter(t=>t!==e))}(e),className:"hover:text-gray-200 transition-colors",children:(0,kt.jsx)("svg",{className:"w-2.5 h-2.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,kt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]},e))}),(0,kt.jsxs)("div",{className:"relative",children:[(0,kt.jsx)("input",{ref:E,type:"text",value:s,onChange:e=>l(e.target.value),onFocus:()=>y(!0),placeholder:"Ex: Creature, Instant...",className:"w-full border border-gray-600 rounded bg-gray-700 px-2.5 py-1.5 pr-8 text-sm text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-orange-500"}),(0,kt.jsx)("button",{type:"button",onClick:()=>y(!v),className:"absolute right-1.5 top-1/2 -translate-y-1/2 text-gray-400 hover:text-gray-300 transition-colors",children:(0,kt.jsx)("svg",{className:"w-3.5 h-3.5 transition-transform ".concat(v?"rotate-180":""),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,kt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})})]}),v&&(0,kt.jsx)("div",{ref:C,className:"absolute z-10 w-full mt-1 max-h-80 overflow-y-auto bg-gray-800 border border-gray-600 rounded shadow-lg",children:Object.keys(m).length>0?Object.entries(m).map(e=>{let[t,n]=e;return(0,kt.jsxs)("div",{className:"border-b border-gray-700 last:border-b-0",children:[(0,kt.jsx)("div",{className:"px-2.5 py-1.5 bg-gray-900 text-xs font-semibold text-gray-400 uppercase tracking-wide sticky top-0",children:t}),(0,kt.jsx)("div",{className:"py-0.5",children:n.map(e=>(0,kt.jsx)("button",{type:"button",onClick:()=>function(e){var t;c.includes(e)||u([...c,e]),l(""),y(!1),null===(t=E.current)||void 0===t||t.focus()}(e),className:"w-full text-left px-3 py-1 text-sm text-gray-300 hover:bg-gray-700 transition-colors",children:e},"".concat(t,"-").concat(e)))})]},t)}):(0,kt.jsx)("div",{className:"px-3 py-2 text-sm text-gray-500",children:"Nenhum tipo encontrado"})}),c.length>1&&(0,kt.jsxs)("div",{className:"mt-1.5",children:[(0,kt.jsxs)("label",{className:"flex items-center gap-1.5 text-xs text-gray-300 cursor-pointer",children:[(0,kt.jsx)("input",{type:"checkbox",checked:d,onChange:e=>h(e.target.checked),className:"w-3.5 h-3.5 rounded border-gray-600 bg-gray-700 text-orange-500 focus:ring-2 focus:ring-orange-500 focus:ring-offset-0 cursor-pointer"}),(0,kt.jsx)("span",{children:"Permitir tipos parciais"})]}),(0,kt.jsx)("p",{className:"text-xs text-gray-500 mt-0.5 ml-5",children:d?"Mostra cartas que tenham pelo menos um dos tipos selecionados":"Mostra apenas cartas que tenham todos os tipos selecionados"})]})]}),(0,kt.jsxs)("div",{children:[(0,kt.jsx)("label",{className:"block text-xs font-medium text-gray-300 mb-1",children:"Cores"}),(0,kt.jsx)("div",{className:"flex gap-1.5",children:[{symbol:"W",mana:"w"},{symbol:"U",mana:"u"},{symbol:"B",mana:"b"},{symbol:"R",mana:"r"},{symbol:"G",mana:"g"},{symbol:"C",mana:"c"}].map(e=>{let{symbol:t,mana:n}=e;return(0,kt.jsx)("button",{type:"button",onClick:()=>A(t),className:"w-8 h-8 rounded-full border-2 transition-all flex items-center justify-center ".concat(b.includes(t)?"border-orange-500 scale-110":"border-gray-600 hover:border-gray-500"),children:(0,kt.jsx)("i",{className:"ms ms-".concat(n," ms-cost")})},t)})}),b.length>0&&(0,kt.jsxs)("div",{className:"mt-2",children:[(0,kt.jsx)("label",{className:"block text-xs font-medium text-gray-400 mb-1",children:"Modo de busca"}),(0,kt.jsxs)("select",{value:x,onChange:e=>S(e.target.value),className:"w-full border border-gray-600 rounded bg-gray-700 px-2.5 py-1.5 text-sm text-white focus:outline-none focus:ring-2 focus:ring-orange-500 cursor-pointer",children:[(0,kt.jsx)("option",{value:"exact",children:"Exatamente estas cores"}),(0,kt.jsx)("option",{value:"including",children:"Incluindo estas cores"}),(0,kt.jsx)("option",{value:"at-least-one",children:"Ao menos uma das cores"})]}),(0,kt.jsxs)("p",{className:"text-xs text-gray-500 mt-0.5",children:["exact"===x&&"Apenas cartas com exatamente as cores selecionadas","including"===x&&"Cartas que incluem as cores selecionadas (pode ter outras)","at-least-one"===x&&"Cartas com pelo menos uma das cores selecionadas"]})]})]}),(0,kt.jsxs)("div",{children:[(0,kt.jsx)("label",{className:"block text-xs font-medium text-gray-300 mb-1",children:"Identidade de comandante"}),(0,kt.jsx)("div",{className:"flex gap-1.5",children:[{symbol:"W",mana:"w"},{symbol:"U",mana:"u"},{symbol:"B",mana:"b"},{symbol:"R",mana:"r"},{symbol:"G",mana:"g"},{symbol:"C",mana:"c"}].map(e=>{let{symbol:t,mana:n}=e;return(0,kt.jsx)("button",{type:"button",onClick:()=>A(t,!0),className:"w-8 h-8 rounded-full border-2 transition-all flex items-center justify-center ".concat(k.includes(t)?"border-orange-500 scale-110":"border-gray-600 hover:border-gray-500"),children:(0,kt.jsx)("i",{className:"ms ms-".concat(n," ms-cost")})},t)})})]}),(0,kt.jsx)("button",{type:"submit",className:"w-full py-2 bg-orange-500 text-white font-semibold rounded-lg hover:bg-orange-600 transition-colors text-sm",children:"Buscar"})]})}function a_(e){var t,n,o,a;let{card:i,onLongPress:s,onDoubleClick:l}=e;const c=(0,r.useRef)(0),u=(0,r.useRef)(0);return(0,kt.jsx)("div",{className:"relative cursor-pointer",onTouchStart:e=>{c.current=e.touches[0].clientX,u.current=e.touches[0].clientY},onTouchEnd:e=>{const t=e.changedTouches[0].clientX,n=e.changedTouches[0].clientY,r=t-c.current,o=Math.abs(n-u.current);r>100&&o<50&&s(i)},onClick:()=>{s(i)},onDoubleClick:()=>{l&&l(i)},children:(0,kt.jsx)("img",{src:(null===(t=i.image_uris)||void 0===t?void 0:t.small)||(null===(n=i.card_faces)||void 0===n||null===(o=n[0])||void 0===o||null===(a=o.image_uris)||void 0===a?void 0:a.small),alt:i.name,className:"w-full rounded shadow",loading:"lazy",decoding:"async"})})}const i_=(0,r.memo)(a_,(e,t)=>e.card.id===t.card.id);function s_(e){let{cards:t,onCardLongPress:n,onCardDoubleClick:r}=e;return t&&0!==t.length?(0,kt.jsx)("div",{className:"grid grid-cols-3 gap-2 overflow-y-auto h-full p-2 bg-gray-900",children:t.map(e=>(0,kt.jsx)(i_,{card:e,onLongPress:()=>n(e),onDoubleClick:r?()=>r(e):void 0},e.id))}):(0,kt.jsx)("div",{className:"p-4 text-center text-gray-400",children:"Nenhuma carta encontrada."})}function l_(e){var t,n;let{card:o,onClose:a,onAddToDeck:i}=e;const[s,l]=(0,r.useState)(0);let c=0;const u=o.card_faces?o.card_faces[s]:o;return(0,kt.jsx)("div",{className:"fixed inset-0 bg-black/70 backdrop-blur-sm flex items-center justify-center z-50",onClick:a,children:(0,kt.jsxs)("div",{className:"relative flex flex-col items-center",onClick:e=>e.stopPropagation(),children:[(0,kt.jsx)("div",{className:"relative w-80 sm:w-96 overflow-hidden rounded-lg shadow-lg",children:(0,kt.jsx)("img",{src:(null===(t=u.image_uris)||void 0===t?void 0:t.normal)||(null===(n=o.image_uris)||void 0===n?void 0:n.normal),alt:o.name,className:"w-full rounded-lg",loading:"lazy",decoding:"async",onTouchStart:function(e){c=e.touches[0].clientX},onTouchEnd:function(e){const t=e.changedTouches[0].clientX;o.card_faces&&o.card_faces.length>1&&(c-t>50?l(e=>(e+1)%o.card_faces.length):t-c>50&&l(e=>0===e?o.card_faces.length-1:e-1))}})}),i&&(0,kt.jsx)("button",{onClick:function(){i&&i(o)},className:"mt-4 w-full py-2 bg-orange-600 text-white font-bold rounded hover:bg-orange-700 transition-all",children:"Adicionar ao Deck"})]})})}function c_(e){let{onClose:t}=e;const n=he(),[o]=(Et(),St()),[a,i]=(0,r.useState)([]),[s,l]=(0,r.useState)(null),[c,u]=(0,r.useState)(!1),[d,h]=(0,r.useState)(null),[f,p]=(0,r.useState)(null),[m,g]=(0,r.useState)(""),[v,y]=(0,r.useState)(!1),[b,w]=(0,r.useState)(!0),x=e=>{if(!e)return"Casual";const t=e.replace(/[^\x20-\x7E]/g,"").trim();return{Standard:"Standard",Modern:"Modern",Commander:"Commander","Commander 300":"Commander 300","Commander 500":"Commander 500",Legacy:"Legacy",Vintage:"Vintage",Pioneer:"Pioneer",Pauper:"Pauper",Historic:"Historic",Casual:"Casual"}[t]||t||"Casual"},{data:S}=_r({queryKey:["decks",null===o||void 0===o?void 0:o.id],queryFn:async()=>o?await zr.deckOperations.getUserDecks(o.id):[],enabled:!!o});return(0,kt.jsxs)("div",{className:"fixed inset-0 bg-gray-900 z-50 flex flex-col",children:[(0,kt.jsxs)("div",{className:"h-16 bg-gray-800 border-b border-gray-700 flex items-center justify-between px-6 flex-shrink-0",children:[(0,kt.jsx)("h1",{className:"text-2xl font-bold text-white",children:"Busca Avan\xe7ada"}),(0,kt.jsxs)("button",{onClick:t,className:"flex items-center gap-2 px-4 py-2 rounded-lg bg-gray-700 hover:bg-gray-600 text-white transition-colors",children:[(0,kt.jsx)(Ix,{className:"w-5 h-5"}),"Fechar"]})]}),(0,kt.jsxs)("div",{className:"flex-1 flex flex-col overflow-hidden",children:[(0,kt.jsx)("div",{className:"bg-gray-800 border-b border-gray-700 transition-all duration-300 ease-in-out overflow-hidden ".concat(b?"max-h-[500px]":"max-h-0"),children:(0,kt.jsx)("div",{className:"overflow-y-auto max-h-[500px]",children:(0,kt.jsx)(o_,{onSearch:async function(e){try{const t=await fetch("https://api.scryfall.com/cards/search?q=".concat(encodeURIComponent(e))),n=await t.json();i(n.data||[]),w(!1)}catch(MA){console.error("Erro ao buscar cartas:",MA)}}})})}),(0,kt.jsx)("div",{className:"bg-gray-800 border-b border-gray-700 flex justify-center py-2 cursor-pointer hover:bg-gray-750",onClick:()=>w(!b),children:(0,kt.jsx)("div",{className:"w-16 h-1 bg-white rounded-full"})}),(0,kt.jsx)("div",{className:"flex-1 overflow-y-auto bg-gray-900",children:0===a.length?(0,kt.jsx)("div",{className:"flex items-center justify-center h-full text-gray-400",children:(0,kt.jsx)("p",{children:"Use os filtros acima para buscar cartas"})}):(0,kt.jsx)(s_,{cards:a,onCardLongPress:e=>l(e)})})]}),s&&(0,kt.jsx)(l_,{card:s,onClose:()=>l(null),onAddToDeck:()=>(h(s),p(null),u(!0),void l(null))}),c&&(0,kt.jsx)("div",{className:"fixed inset-0 bg-black/70 flex items-center justify-center p-10 z-50",children:(0,kt.jsxs)("div",{className:"bg-gray-800 p-6 rounded-xl w-full max-w-md border border-gray-700 shadow-2xl max-h-[80vh] overflow-y-auto",children:[(0,kt.jsx)("h2",{className:"text-xl font-bold mb-4 text-gray-100",children:"Adicionar ao Deck"}),S&&S.length>0&&(0,kt.jsxs)("div",{className:"mb-6",children:[(0,kt.jsx)("h3",{className:"text-sm font-medium text-gray-300 mb-3",children:"Selecione um Deck"}),(0,kt.jsx)("div",{className:"flex flex-col gap-2 mb-4",children:S.map(e=>(0,kt.jsxs)("button",{onClick:()=>{console.log("\ud83d\uddb1\ufe0f Deck selecionado:",e.name,"ID:",e.id),p(e.id)},className:"w-full rounded-lg px-4 py-3 text-gray-100 transition-all text-left ".concat(f===e.id?"bg-blue-600 border-2 border-blue-400 shadow-lg shadow-blue-500/50":"bg-gray-700 border-2 border-transparent hover:bg-gray-600"),children:[(0,kt.jsx)("div",{className:"font-medium",children:e.name}),(0,kt.jsx)("div",{className:"text-sm text-gray-300",children:x(e.format)})]},e.id))}),(0,kt.jsx)("button",{onClick:async function(){f&&(console.log("\ud83d\udd0d Redirecionando para deck:",f),console.log("\ud83c\udfb4 Carta a ser adicionada:",null===d||void 0===d?void 0:d.name),d?(u(!1),t(),n("/deckbuilder/".concat(f),{state:{addCard:{id:d.id,name:d.name,image_uris:d.image_uris,card_faces:d.card_faces,mana_cost:d.mana_cost||"",type_line:d.type_line||"",oracle_text:d.oracle_text||""}}})):console.warn("\u26a0\ufe0f Nenhuma carta selecionada!"))},disabled:!f,className:"w-full rounded-lg px-4 py-3 font-medium transition-colors mb-4 ".concat(f?"bg-green-600 hover:bg-green-700 text-white":"bg-gray-600 text-gray-400 cursor-not-allowed"),children:f?"Adicionar ao Deck Selecionado":"Selecione um Deck Primeiro"})]}),(0,kt.jsx)("button",{onClick:function(){var e,r,o,a;d&&(console.log("\ud83c\udfaf Redirecionando para criar deck com carta:",d.name),u(!1),t(),n("/create",{state:{cardToAdd:{card_name:d.name,scryfall_id:d.id,image_url:(null===(e=d.image_uris)||void 0===e?void 0:e.normal)||(null===(r=d.card_faces)||void 0===r||null===(o=r[0])||void 0===o||null===(a=o.image_uris)||void 0===a?void 0:a.normal),quantity:1,mana_cost:d.mana_cost||"",type_line:d.type_line||"",oracle_text:d.oracle_text||""}}}))},className:"w-full rounded-lg bg-orange-500 px-4 py-3 text-white font-medium hover:bg-orange-600 transition-colors mb-4",children:"Criar novo deck"}),(0,kt.jsx)("button",{onClick:()=>{u(!1),h(null),p(null),g("")},className:"w-full rounded-lg bg-gray-700 px-4 py-2 text-gray-200 hover:bg-gray-600 transition-colors",children:"Cancelar"})]})})]})}const u_=function(){const e=he(),t=ce(),[n]=St(),{profile:o,loading:a,error:i}=Vr(n),s=Fr(),{decks:l,isLoading:c,error:u,createDeck:d,updateDeck:h,deleteDeck:f,syncDecks:p,refetch:m,createError:g,updateError:v,deleteError:y}=Br(),[b,w]=(Et(),(0,r.useState)(null)),[x,S]=(0,r.useState)(!1),[k,_]=(0,r.useState)(!1),[E,C]=(0,r.useState)(!1),[A,j]=(0,r.useState)(!1),[T,N]=(0,r.useState)(""),[D,P]=(0,r.useState)(""),[O,R]=(0,r.useState)(!1),[I,M]=(0,r.useState)(!1),[F,L]=(0,r.useState)(null),[U,z]=(0,r.useState)(!1),[B,q]=(0,r.useState)(!1),[V,W]=(0,r.useState)(!1),[H,K]=(0,r.useState)(!1),[G,Q]=(0,r.useState)(null),[Y,$]=(0,r.useState)(""),[X,J]=(0,r.useState)([]),[Z,ee]=(0,r.useState)(!1),te=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:500;const[n,o]=(0,r.useState)(e);return(0,r.useEffect)(()=>{const n=setTimeout(()=>{o(e)},t);return()=>{clearTimeout(n)}},[e,t]),n}(Y,500);(0,r.useEffect)(()=>{te&&H&&ae(te)},[te,H]),(0,r.useEffect)(()=>{var e;if(null!==(e=t.state)&&void 0!==e&&e.message){L(t.state.message),window.history.replaceState({},document.title);const e=setTimeout(()=>{L(null)},5e3);return()=>clearTimeout(e)}},[t.state]);const ne=l&&l.length>0,re=!s.canSaveData;console.log("\ud83c\udfe0 HOME DEBUG:",{isLoading:c,decksError:u,decks:l?{length:l.length,items:l.map(e=>({id:e.id,name:e.name,format:e.format,cover:e.cover_image_url}))}:null,hasDecks:ne,user:n?{id:n.id,email:n.email}:null});const oe=e=>{if(!e)return"Commander";const t=e.toLowerCase();return t.includes("commander")?t.includes("300")?"Commander 300":t.includes("500")?"Commander 500":"Commander":e.charAt(0).toUpperCase()+e.slice(1)},ae=async e=>{if(e.length<2)J([]);else{ee(!0);try{const t=await fetch("https://api.scryfall.com/cards/autocomplete?q=".concat(encodeURIComponent(e)));if(!t.ok)throw new Error("Erro na busca");const n=(await t.json()).data||[],r=n.slice(0,5).map(async e=>{try{const t=await fetch("https://api.scryfall.com/cards/named?fuzzy=".concat(encodeURIComponent(e)));if(t.ok){const n=await t.json();return{name:e,image_url:ie(n,0),has_art_crop:se(n),is_dual_face:!!n.card_faces}}}catch(IA){return{name:e,image_url:null,has_art_crop:!1}}return{name:e,image_url:null,has_art_crop:!1}}),o=(await Promise.allSettled(r)).map((e,t)=>"fulfilled"===e.status?e.value:{name:n[t],image_url:null,has_art_crop:!1}),a=n.slice(5).map(e=>({name:e,image_url:null,has_art_crop:!1}));J([...o,...a])}catch(t){console.error("\u274c Erro ao buscar cartas:",t),J([])}finally{ee(!1)}}},ie=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;const n=e=>e?e.art_crop||e.large||e.normal||e.border_crop:null;if(e.image_uris)return n(e.image_uris);if(e.card_faces&&e.card_faces.length>0){const r=Math.min(t,e.card_faces.length-1),o=e.card_faces[r];if(o.image_uris)return n(o.image_uris)}return null},se=e=>{var t;return!(null===(t=e.image_uris)||void 0===t||!t.art_crop)||!!e.card_faces&&e.card_faces.some(e=>{var t;return null===(t=e.image_uris)||void 0===t?void 0:t.art_crop})},le=async()=>{if(b&&T.trim())try{await h({deckId:b.id,updates:{name:T.trim()}}),_(!1),S(!1),w(null),N("")}catch(e){console.error("\u274c Erro ao renomear deck:",e),alert("Erro ao renomear deck: "+e.message)}};return(0,kt.jsxs)("div",{className:"min-h-screen bg-gradient-to-br from-gray-950 via-gray-900 to-purple-950",children:[re&&(0,kt.jsx)("div",{className:"fixed top-0 left-0 right-0 z-50 bg-yellow-600/90 backdrop-blur-sm",children:(0,kt.jsxs)("div",{className:"flex items-center justify-center gap-2 px-4 py-2 text-sm font-medium text-white",children:[(0,kt.jsx)(Xr,{className:"w-4 h-4"}),(0,kt.jsx)("span",{children:"Modo Offline - Apenas visualiza\xe7\xe3o"}),s.canSearchScryfall&&(0,kt.jsx)("span",{className:"text-yellow-200",children:"\u2022 Busca Scryfall dispon\xedvel"}),s.isSupabaseConnected&&(0,kt.jsx)("button",{onClick:p,className:"ml-4 px-2 py-1 bg-white/20 rounded text-xs hover:bg-white/30 transition-colors",children:"Sincronizar"})]})}),n&&(0,kt.jsx)("div",{className:"fixed top-6 right-6",children:(0,kt.jsx)(KS,{})}),(0,kt.jsxs)("div",{className:"flex h-full flex-col items-center px-4 text-white ".concat(re?"pt-24":"pt-20"),children:[(u||g||y)&&(0,kt.jsx)("div",{className:"mb-4 w-full max-w-md",children:(0,kt.jsxs)(oo,{className:"bg-red-900/20 border-red-800",children:[(0,kt.jsx)(Jr,{className:"h-4 w-4"}),(0,kt.jsx)(ao,{className:"text-red-400",children:(null===u||void 0===u?void 0:u.message)||(null===g||void 0===g?void 0:g.message)||(null===y||void 0===y?void 0:y.message)})]})}),F&&(0,kt.jsx)("div",{className:"mb-4 w-full max-w-md",children:(0,kt.jsxs)(oo,{className:"bg-yellow-900/20 border-yellow-800",children:[(0,kt.jsx)(Jr,{className:"h-4 w-4"}),(0,kt.jsx)(ao,{className:"text-yellow-400",children:F})]})}),(0,kt.jsx)("h1",{className:"mb-6 text-3xl font-bold",children:"Meus Decks"}),c&&(0,kt.jsx)("p",{children:"Carregando decks..."}),!c&&!ne&&(0,kt.jsxs)("button",{onClick:()=>{s.canSaveData?e("/create"):alert("Criar deck s\xf3 \xe9 poss\xedvel quando online")},className:"rounded-lg px-6 py-3 text-lg font-semibold text-white shadow ".concat(s.canSaveData?"bg-orange-500 hover:bg-orange-600":"bg-gray-500 cursor-not-allowed"),disabled:!s.canSaveData,children:["Adicionar um novo deck",!s.canSaveData&&(0,kt.jsx)("span",{className:"ml-2 text-sm",children:"(Offline)"})]}),ne&&(0,kt.jsx)("div",{className:"w-full max-w-lg overflow-y-auto max-h-[calc(100vh-200px)] pb-24 scrollbar-hide space-y-6",children:null===l||void 0===l?void 0:l.map(t=>(0,kt.jsxs)("div",{className:"relative cursor-pointer overflow-hidden rounded-xl shadow-lg min-h-[240px] flex-shrink-0",onClick:()=>{console.log("\ud83c\udfaf Clicou no deck:",{name:t.name,format:t.format}),"Cole\xe7\xe3o de cartas"===t.format?(console.log("\u27a1\ufe0f Redirecionando para /collection"),e("/collection")):"Trade"===t.format||"Trades"===t.format?(console.log("\u27a1\ufe0f Redirecionando para /trade"),e("/trade")):(console.log("\u27a1\ufe0f Redirecionando para /deckbuilder"),e("/deckbuilder/".concat(t.id)))},children:[(0,kt.jsx)("div",{className:"h-56 w-full bg-cover bg-center",style:{backgroundImage:"url(".concat(t.cover_image_url||"https://placehold.co/400x200",")")}}),(0,kt.jsx)("button",{onClick:e=>{e.stopPropagation(),e.preventDefault(),w(t),S(!0)},className:"absolute top-2 right-2 flex h-10 w-10 items-center justify-center rounded-full bg-black/60 text-white hover:bg-black/80 text-lg",children:"\u2699"}),(0,kt.jsxs)("div",{className:"absolute bottom-0 left-0 right-0 bg-gradient-to-t from-black/90 to-transparent p-5",children:[(0,kt.jsx)("h2",{className:"text-2xl font-bold",children:t.name}),(0,kt.jsx)("p",{className:"text-base text-gray-300",children:oe(t.format)})]})]},t.id))})]}),ne&&(0,kt.jsx)("button",{onClick:()=>e("/create"),className:"fixed bottom-6 right-6 flex h-14 w-14 items-center justify-center rounded-full bg-orange-500 text-white shadow-lg hover:bg-orange-600",children:"+"}),(0,kt.jsx)("button",{onClick:()=>z(!U),className:"fixed bottom-6 left-6 flex h-14 w-14 items-center justify-center rounded-full bg-purple-500 text-white shadow-lg hover:bg-purple-600 z-50",children:(0,kt.jsx)(Zr,{className:"w-6 h-6"})}),U&&(0,kt.jsxs)("div",{className:"fixed bottom-24 left-6 flex flex-col gap-2 z-40",children:[(0,kt.jsx)("button",{onClick:()=>{z(!1),q(!0)},className:"rounded-lg bg-gray-700 px-4 py-2 text-white text-sm font-medium hover:bg-gray-600 transition-all shadow-lg",children:"Buscar Carta"}),(0,kt.jsx)("button",{onClick:()=>{z(!1),W(!0)},className:"rounded-lg bg-gray-700 px-4 py-2 text-white text-sm font-medium hover:bg-gray-600 transition-all shadow-lg",children:"Busca Avan\xe7ada"})]}),(0,kt.jsx)(r_,{isOpen:B,onClose:()=>q(!1)}),V&&(0,kt.jsx)(c_,{onClose:()=>W(!1)}),H&&(0,kt.jsx)("div",{className:"fixed inset-0 bg-black/70 flex items-start justify-center p-10 z-50",children:(0,kt.jsxs)("div",{className:"bg-gray-900 p-6 rounded-lg w-full max-w-md",children:[(0,kt.jsxs)("h2",{className:"text-lg font-bold mb-4",children:["Escolher capa para ",null===G||void 0===G?void 0:G.name]}),(0,kt.jsx)("input",{type:"text",value:Y,onChange:e=>{const t=e.target.value;$(t),t.length>=2?ae(t):J([])},placeholder:"Digite o nome da carta...",className:"w-full rounded-md border border-gray-700 bg-gray-800 px-3 py-2 text-white focus:outline-none focus:ring-2 focus:ring-orange-500"}),Z&&(0,kt.jsx)("p",{className:"mt-2 text-sm text-gray-400",children:"Buscando..."}),(0,kt.jsx)("ul",{className:"mt-3 max-h-60 overflow-y-auto",children:X.map((e,t)=>{const n=e.name||e,r=e.image_url,o=e.has_art_crop,a=e.is_dual_face;return(0,kt.jsxs)("li",{onClick:()=>(async e=>{if(console.log("\ud83d\uddbc\ufe0f COVER FUNCTION - Starting with:",e),console.log("\ud83d\uddbc\ufe0f COVER FUNCTION - DeckForCover:",G),G)try{var t;console.log("\ud83c\udf10 COVER FUNCTION - Fetching from Scryfall...");const i=await fetch("https://api.scryfall.com/cards/named?exact=".concat(encodeURIComponent(e)));if(console.log("\ud83d\udce1 COVER FUNCTION - Response status:",i.status),!i.ok)throw new Error("Carta n\xe3o encontrada");const s=await i.json();console.log("\ud83c\udfb4 COVER FUNCTION - Card data:",s.name),console.log("\ud83d\udd0d COVER FUNCTION - Card type:",{has_image_uris:!!s.image_uris,has_card_faces:!!s.card_faces,faces_count:(null===(t=s.card_faces)||void 0===t?void 0:t.length)||0});const l=ie(s,0);var n,r,o,a;if(console.log("\ud83d\uddbc\ufe0f COVER FUNCTION - Available image formats:"),s.image_uris&&console.log("  Normal card:",{art_crop:null!==(n=s.image_uris)&&void 0!==n&&n.art_crop?"\u2705":"\u274c",large:null!==(r=s.image_uris)&&void 0!==r&&r.large?"\u2705":"\u274c",normal:null!==(o=s.image_uris)&&void 0!==o&&o.normal?"\u2705":"\u274c",border_crop:null!==(a=s.image_uris)&&void 0!==a&&a.border_crop?"\u2705":"\u274c"}),s.card_faces&&(console.log("  Dual-face card:"),s.card_faces.forEach((e,t)=>{var n,r,o,a;console.log("    Face ".concat(t+1," (").concat(e.name,"):"),{art_crop:null!==(n=e.image_uris)&&void 0!==n&&n.art_crop?"\u2705":"\u274c",large:null!==(r=e.image_uris)&&void 0!==r&&r.large?"\u2705":"\u274c",normal:null!==(o=e.image_uris)&&void 0!==o&&o.normal?"\u2705":"\u274c",border_crop:null!==(a=e.image_uris)&&void 0!==a&&a.border_crop?"\u2705":"\u274c"})})),console.log("\ud83d\uddbc\ufe0f COVER FUNCTION - Selected image URL:",l),l){console.log("\ud83d\udcbe COVER FUNCTION - Calling updateDeck..."),console.log("\ud83d\udd27 COVER FUNCTION - Deck ID:",G.id),console.log("\ud83d\udd27 COVER FUNCTION - Updates:",{cover_image_url:l});const e=await h({deckId:G.id,updates:{cover_image_url:l}});console.log("\u2705 COVER FUNCTION - UpdateDeck result:",e),K(!1),Q(null),$(""),J([]),console.log("\ud83c\udfc1 COVER FUNCTION - Process completed successfully")}else console.log("\u274c COVER FUNCTION - No image URL found")}catch(i){console.error("\u274c COVER FUNCTION - Error:",i),console.error("\u274c COVER FUNCTION - Error details:",{message:i.message,stack:i.stack,cardName:e,deckId:null===G||void 0===G?void 0:G.id}),alert("Erro ao definir capa do deck: "+i.message)}else console.log("\u274c COVER FUNCTION - No deck selected")})(n),className:"cursor-pointer px-2 py-2 hover:bg-gray-700 rounded flex items-center gap-3 transition-colors",children:[r&&(0,kt.jsx)("div",{className:"flex-shrink-0",children:(0,kt.jsx)("img",{src:r,alt:n,className:"w-12 h-12 object-cover rounded border border-gray-600",onError:e=>{e.target.style.display="none"}})}),(0,kt.jsxs)("div",{className:"flex-1",children:[(0,kt.jsx)("div",{className:"text-white font-medium",children:n}),(0,kt.jsxs)("div",{className:"flex flex-wrap gap-1 mt-1",children:[a&&(0,kt.jsx)("div",{className:"text-xs text-blue-400",children:"\ud83d\udd04 Duas faces"}),o&&(0,kt.jsx)("div",{className:"text-xs text-green-400",children:"\ud83c\udfa8 Arte sem moldura"}),r&&!o&&(0,kt.jsx)("div",{className:"text-xs text-yellow-400",children:"\ud83d\uddbc\ufe0f Com moldura"})]})]})]},"".concat(n,"-").concat(t))})}),(0,kt.jsx)("button",{onClick:()=>K(!1),className:"mt-4 rounded-md bg-red-500 px-4 py-2 text-white hover:bg-red-600",children:"Cancelar"})]})}),x&&(0,kt.jsx)("div",{className:"fixed inset-0 bg-black/70 flex items-center justify-center p-10 z-50",children:(0,kt.jsxs)("div",{className:"bg-gray-800 p-6 rounded-xl w-full max-w-md border border-gray-700 shadow-2xl",children:[(0,kt.jsx)("h2",{className:"text-xl font-bold mb-6 text-gray-100",children:null===b||void 0===b?void 0:b.name}),(0,kt.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,kt.jsx)("button",{onClick:()=>{N((null===b||void 0===b?void 0:b.name)||""),_(!0)},className:"w-full rounded-lg bg-gray-700 px-4 py-3 text-gray-100 hover:bg-gray-600 transition-colors text-left font-medium",children:"Renomear Deck"}),(0,kt.jsx)("button",{onClick:()=>{Q(b),K(!0),S(!1)},className:"w-full rounded-lg bg-gray-700 px-4 py-3 text-gray-100 hover:bg-gray-600 transition-colors text-left font-medium",children:"Alterar Capa"}),(0,kt.jsx)("button",{onClick:()=>{P((null===b||void 0===b?void 0:b.format)||""),j(!0)},className:"w-full rounded-lg bg-gray-700 px-4 py-3 text-gray-100 hover:bg-gray-600 transition-colors text-left font-medium",children:"Mudar Formato"}),(0,kt.jsx)("button",{onClick:async()=>{if(b){M(!0);try{const e=await fetch("/api/decks/".concat(b.id,"/cards"));if(!e.ok)throw new Error("Erro ao carregar cartas");const t=(await e.json()).map(e=>"".concat(e.quantity," ").concat(e.name)).join("\n");await navigator.clipboard.writeText(t),alert("Lista copiada para a \xe1rea de transfer\xeancia!"),S(!1),w(null)}catch(e){console.error("Erro ao exportar:",e),alert("Erro ao exportar deck")}finally{M(!1)}}},disabled:I,className:"w-full rounded-lg bg-gray-700 px-4 py-3 text-gray-100 hover:bg-gray-600 disabled:bg-gray-800 disabled:cursor-not-allowed disabled:opacity-50 transition-colors text-left font-medium",children:I?"Exportando...":"Copiar para Magic Arena"}),(0,kt.jsx)("button",{onClick:()=>C(!0),className:"w-full rounded-lg bg-red-600 px-4 py-3 text-white hover:bg-red-700 transition-colors text-left font-medium",children:"Apagar Deck"})]}),(0,kt.jsx)("button",{onClick:()=>{S(!1),w(null)},className:"mt-6 w-full rounded-lg bg-gray-900 px-4 py-2 text-gray-300 hover:bg-black hover:text-white transition-colors",children:"Fechar"})]})}),k&&(0,kt.jsx)("div",{className:"fixed inset-0 bg-black/70 flex items-center justify-center p-10 z-50",children:(0,kt.jsxs)("div",{className:"bg-gray-800 p-6 rounded-xl w-full max-w-md border border-gray-700 shadow-2xl",children:[(0,kt.jsx)("h2",{className:"text-xl font-bold mb-4 text-gray-100",children:"Renomear Deck"}),(0,kt.jsx)("input",{type:"text",value:T,onChange:e=>N(e.target.value),placeholder:"Digite o novo nome...",className:"w-full rounded-lg border border-gray-600 bg-gray-700 px-4 py-3 text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-transparent mb-4",onKeyDown:e=>{"Enter"===e.key&&T.trim()&&le()}}),(0,kt.jsxs)("div",{className:"flex gap-3",children:[(0,kt.jsx)("button",{onClick:le,disabled:!T.trim(),className:"flex-1 rounded-lg bg-orange-500 px-4 py-2.5 text-white font-medium hover:bg-orange-600 disabled:bg-gray-600 disabled:cursor-not-allowed transition-colors",children:"Salvar"}),(0,kt.jsx)("button",{onClick:()=>{_(!1),N("")},className:"flex-1 rounded-lg bg-gray-700 px-4 py-2.5 text-gray-200 font-medium hover:bg-gray-600 transition-colors",children:"Cancelar"})]})]})}),E&&(0,kt.jsx)("div",{className:"fixed inset-0 bg-black/70 flex items-center justify-center p-10 z-50",children:(0,kt.jsxs)("div",{className:"bg-gray-800 p-6 rounded-xl w-full max-w-md border border-red-700 shadow-2xl",children:[(0,kt.jsx)("h2",{className:"text-xl font-bold mb-4 text-red-500",children:"Apagar Deck"}),(0,kt.jsxs)("p",{className:"text-gray-300 mb-6",children:["Tem certeza que deseja apagar o deck ",(0,kt.jsxs)("span",{className:"font-bold text-white",children:['"',null===b||void 0===b?void 0:b.name,'"']}),"?"]}),(0,kt.jsx)("p",{className:"text-sm text-red-400 mb-6",children:"\u26a0\ufe0f Esta a\xe7\xe3o n\xe3o pode ser desfeita. Todas as cartas do deck tamb\xe9m ser\xe3o removidas."}),(0,kt.jsxs)("div",{className:"flex gap-3",children:[(0,kt.jsx)("button",{onClick:async()=>{if(b){R(!0);try{await f(b.id),C(!1),S(!1),w(null)}catch(e){console.error("Erro ao apagar deck:",e),alert("Erro ao apagar deck")}finally{R(!1)}}},disabled:O,className:"flex-1 rounded-lg bg-red-600 px-4 py-2.5 text-white font-medium hover:bg-red-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:O?"Apagando...":"Apagar"}),(0,kt.jsx)("button",{onClick:()=>C(!1),disabled:O,className:"flex-1 rounded-lg bg-gray-700 px-4 py-2.5 text-gray-200 font-medium hover:bg-gray-600 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:"Cancelar"})]})]})}),A&&(0,kt.jsx)("div",{className:"fixed inset-0 bg-black/70 flex items-center justify-center p-10 z-50",children:(0,kt.jsxs)("div",{className:"bg-gray-800 p-6 rounded-xl w-full max-w-md border border-gray-700 shadow-2xl",children:[(0,kt.jsx)("h2",{className:"text-xl font-bold mb-4 text-gray-100",children:"Mudar Formato do Deck"}),(0,kt.jsxs)("div",{className:"flex flex-col gap-2 mb-6",children:[(0,kt.jsx)("button",{onClick:()=>P("Commander"),className:"rounded-lg px-4 py-3 font-medium transition-all ".concat("Commander"===D?"bg-orange-500 text-white ring-2 ring-orange-400":"bg-gray-700 text-gray-200 hover:bg-gray-600"),children:"Commander"}),(0,kt.jsx)("button",{onClick:()=>P("Commander 300"),className:"rounded-lg px-4 py-3 font-medium transition-all ".concat("Commander 300"===D?"bg-orange-500 text-white ring-2 ring-orange-400":"bg-gray-700 text-gray-200 hover:bg-gray-600"),children:"Commander 300"}),(0,kt.jsx)("button",{onClick:()=>P("Commander 500"),className:"rounded-lg px-4 py-3 font-medium transition-all ".concat("Commander 500"===D?"bg-orange-500 text-white ring-2 ring-orange-400":"bg-gray-700 text-gray-200 hover:bg-gray-600"),children:"Commander 500"}),(0,kt.jsx)("button",{onClick:()=>P("Standard"),className:"rounded-lg px-4 py-3 font-medium transition-all ".concat("Standard"===D?"bg-orange-500 text-white ring-2 ring-orange-400":"bg-gray-700 text-gray-200 hover:bg-gray-600"),children:"Standard"}),(0,kt.jsx)("button",{onClick:()=>P("Modern"),className:"rounded-lg px-4 py-3 font-medium transition-all ".concat("Modern"===D?"bg-orange-500 text-white ring-2 ring-orange-400":"bg-gray-700 text-gray-200 hover:bg-gray-600"),children:"Modern"}),(0,kt.jsx)("button",{onClick:()=>P("Pioneer"),className:"rounded-lg px-4 py-3 font-medium transition-all ".concat("Pioneer"===D?"bg-orange-500 text-white ring-2 ring-orange-400":"bg-gray-700 text-gray-200 hover:bg-gray-600"),children:"Pioneer"}),(0,kt.jsx)("button",{onClick:()=>P("Pauper"),className:"rounded-lg px-4 py-3 font-medium transition-all ".concat("Pauper"===D?"bg-orange-500 text-white ring-2 ring-orange-400":"bg-gray-700 text-gray-200 hover:bg-gray-600"),children:"Pauper"}),(0,kt.jsx)("button",{onClick:()=>P("Legacy"),className:"rounded-lg px-4 py-3 font-medium transition-all ".concat("Legacy"===D?"bg-orange-500 text-white ring-2 ring-orange-400":"bg-gray-700 text-gray-200 hover:bg-gray-600"),children:"Legacy"})]}),(0,kt.jsxs)("div",{className:"flex gap-3",children:[(0,kt.jsx)("button",{onClick:async()=>{if(b&&D.trim())try{await h({deckId:b.id,updates:{format:D.trim()}}),j(!1),S(!1),w(null),P("")}catch(e){console.error("Erro ao alterar formato:",e),alert("Erro ao alterar formato do deck")}},disabled:!D.trim(),className:"flex-1 rounded-lg bg-orange-500 px-4 py-2.5 text-white font-medium hover:bg-orange-600 disabled:bg-gray-600 disabled:cursor-not-allowed transition-colors",children:"Salvar"}),(0,kt.jsx)("button",{onClick:()=>{j(!1),P("")},className:"flex-1 rounded-lg bg-gray-700 px-4 py-2.5 text-gray-200 font-medium hover:bg-gray-600 transition-colors",children:"Cancelar"})]})]})})]})},d_=$r("eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);function h_(e){let{deckId:t,isSearching:n,setIsSearching:o}=e;const[a,i]=(0,r.useState)(""),[l,c]=(0,r.useState)([]),[u,d]=(0,r.useState)(!1),[h,f]=(0,r.useState)(!1),[p,m]=(0,r.useState)(-1),g=(0,r.useRef)(null),v=(0,r.useRef)(null),y=Et();(0,r.useEffect)(()=>{const e=e=>{g.current&&!g.current.contains(e.target)&&d(!1)};return document.addEventListener("mousedown",e),()=>document.removeEventListener("mousedown",e)},[]),(0,r.useEffect)(()=>{const e=setTimeout(async()=>{if(a.trim().length<2)return c([]),void d(!1);f(!0);try{const e=await fetch("https://api.scryfall.com/cards/autocomplete?q=".concat(encodeURIComponent(a))),t=await e.json();c(t.data||[]),d(!0),m(-1)}catch(e){console.error("Erro ao buscar sugest\xf5es:",e),c([])}finally{f(!1)}},300);return()=>clearTimeout(e)},[a]);const b=async e=>{if(t){o(!0);try{var n,r,a,l;const o=await fetch("https://api.scryfall.com/cards/named?exact=".concat(encodeURIComponent(e))),f=await o.json(),p=(null===(n=f.image_uris)||void 0===n?void 0:n.normal)||(null===(r=f.card_faces)||void 0===r||null===(a=r[0])||void 0===a||null===(l=a.image_uris)||void 0===l?void 0:l.normal),m={deck_id:t,card_name:f.name,scryfall_id:f.id,image_url:p,mana_cost:f.mana_cost||"",type_line:f.type_line||"",acquired:!1,quantity:1,created_at:new Date,card_faces:f.card_faces||null},g=(y.getQueryData(["cards",t])||[]).find(e=>e.scryfall_id===f.id);if(g){const e=(g.quantity||1)+1;y.setQueryData(["cards",t],function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).map(t=>t.id===g.id?(0,s.A)((0,s.A)({},t),{},{quantity:e}):t)});try{await zr.CI.updateDeckCard(g.id,{quantity:e})}catch(MA){console.error("Erro ao incrementar:",MA),y.setQueryData(["cards",t],function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).map(e=>e.id===g.id?(0,s.A)((0,s.A)({},e),{},{quantity:g.quantity}):e)})}}else{const e="tmp-".concat(Date.now()),n=(0,s.A)((0,s.A)({id:e},m),{},{__optimistic:!0});y.setQueryData(["cards",t],function(){return[n,...arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]]});try{const n=await zr.CI.addCardToDeck(t,m);y.setQueryData(["cards",t],function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).map(t=>t&&t.id===e?(0,s.A)({id:n},m):t)})}catch(MA){console.error("Erro ao adicionar:",MA),y.setQueryData(["cards",t],function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).filter(t=>t.id!==e)}),alert("Erro ao adicionar carta: "+(MA.message||"Tente novamente"))}}i(""),c([]),d(!1);try{var u;null===(u=v.current)||void 0===u||u.focus()}catch(IA){}i(""),c([]),d(!1);try{var h;null===(h=v.current)||void 0===h||h.focus()}catch(IA){}}catch(f){console.error("Erro ao adicionar carta:",f)}finally{o(!1)}}};return(0,kt.jsx)(Tw.div,{initial:{y:-20,opacity:0},animate:{y:0,opacity:1},className:"sticky top-0 z-20 bg-gray-900 border-b border-gray-800 p-4",children:(0,kt.jsx)("form",{onSubmit:e=>{e.preventDefault(),p>=0&&l[p]?b(l[p]):a.trim()&&b(a.trim())},className:"flex gap-2 relative",ref:g,children:(0,kt.jsxs)("div",{className:"relative flex-1",children:[(0,kt.jsx)(Zr,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400 z-10"}),(0,kt.jsx)(rh,{id:"searchCard",name:"searchCard",value:a,onChange:e=>i(e.target.value),ref:v,onKeyDown:e=>{u&&0!==l.length&&("ArrowDown"===e.key?(e.preventDefault(),m(e=>e<l.length-1?e+1:e)):"ArrowUp"===e.key?(e.preventDefault(),m(e=>e>0?e-1:-1)):"Escape"===e.key&&(d(!1),m(-1)))},onFocus:()=>{l.length>0&&d(!0)},placeholder:"Buscar carta no Scryfall...",className:"pl-10 bg-gray-800 border-gray-700 text-white placeholder:text-gray-500 focus:border-orange-500",autoComplete:"off"}),(0,kt.jsx)(Rh,{children:u&&l.length>0&&(0,kt.jsx)(Tw.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},className:"absolute top-full left-0 right-0 mt-2 bg-gray-800 border border-gray-700 rounded-lg shadow-2xl max-h-80 overflow-y-auto z-50",children:l.map((e,t)=>(0,kt.jsx)(Tw.div,{onClick:()=>(e=>{b(e)})(e),className:"px-4 py-3 cursor-pointer transition-colors border-b border-gray-700 last:border-b-0 ".concat(t===p?"bg-orange-500/20 text-orange-400":"text-gray-300 hover:bg-gray-700"),whileHover:{x:4},children:(0,kt.jsxs)("div",{className:"flex items-center gap-2",children:[(0,kt.jsx)(Zr,{className:"w-4 h-4 text-gray-500"}),(0,kt.jsx)("span",{className:"font-medium",children:e})]})},t))})}),h&&(0,kt.jsx)("div",{className:"absolute right-3 top-1/2 -translate-y-1/2",children:(0,kt.jsx)(VS,{className:"w-4 h-4 animate-spin text-gray-400"})})]})})})}function f_(e){var t,n;let{card:o,onClose:a}=e;const[i,s]=(0,r.useState)(0);let l=0;(0,r.useEffect)(()=>{const e=document.body.style.overflow,t=document.body.style.touchAction;return document.body.style.overflow="hidden",document.body.style.touchAction="none",()=>{document.body.style.overflow=e,document.body.style.touchAction=t}},[]);const c=o.card_faces?o.card_faces[i]:o,u=(null===(t=c.image_uris)||void 0===t?void 0:t.normal)||c.image_url||(null===(n=o.image_uris)||void 0===n?void 0:n.normal)||o.image_url;return(0,kt.jsx)(Rh,{children:(0,kt.jsx)(Tw.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/80 backdrop-blur-sm flex items-center justify-center z-50 p-4",style:{touchAction:"auto"},onClick:a,children:(0,kt.jsxs)(Tw.div,{initial:{scale:.8,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.8,opacity:0},transition:{type:"spring",damping:25,stiffness:300},className:"relative max-w-md w-full",style:{touchAction:"auto"},onClick:e=>e.stopPropagation(),children:[(0,kt.jsx)("img",{src:u,alt:o.card_name||o.name,className:"w-full rounded-lg shadow-2xl",onTouchStart:function(e){l=e.touches[0].clientX},onTouchEnd:function(e){e.changedTouches[0].clientX-l<-100&&a()}}),o.card_faces&&o.card_faces.length>1&&(0,kt.jsxs)("button",{onClick:()=>{s(e=>(e+1)%o.card_faces.length)},className:"absolute -bottom-1 -right-1 w-10 h-10 bg-white/40 rounded-full shadow-lg flex items-center justify-center hover:bg-white/60 transition-all hover:scale-110 active:scale-95","aria-label":"Alternar face da carta",title:"Virar carta",children:[(0,kt.jsx)("svg",{className:"w-5 h-5 text-gray-800",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,kt.jsx)("path",{d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})}),(0,kt.jsx)("span",{className:"absolute -top-1 -right-1 w-5 h-5 bg-orange-500 text-white text-xs rounded-full flex items-center justify-center font-bold",children:i+1})]}),(0,kt.jsx)("div",{className:"absolute top-4 left-1/2 transform -translate-x-1/2 bg-black/60 text-white text-xs px-3 py-1 rounded-full",children:"Swipe \u2190 para fechar"}),(0,kt.jsx)("button",{onClick:a,className:"absolute -top-3 -right-3 w-10 h-10 bg-white rounded-full shadow-lg flex items-center justify-center hover:bg-gray-100 transition-colors","aria-label":"Fechar",children:(0,kt.jsx)("svg",{className:"w-5 h-5",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,kt.jsx)("path",{d:"M6 18L18 6M6 6l12 12"})})})]})})})}const p_="images",m_=2592e6;function g_(){return new Promise((e,t)=>{const n=indexedDB.open("deckmaster_images",1);n.onerror=()=>{console.error("\u274c Erro ao abrir IndexedDB para cache de imagens:",n.error),t(n.error)},n.onsuccess=()=>{e(n.result)},n.onupgradeneeded=e=>{const t=e.target.result;if(!t.objectStoreNames.contains(p_)){t.createObjectStore(p_,{keyPath:"url"}).createIndex("timestamp","timestamp",{unique:!1}),console.log("\u2705 Object store de imagens criado")}}})}async function v_(e){if(!e)return null;try{const t=(await g_()).transaction(p_,"readonly"),n=t.objectStore(p_).get(e);return new Promise(t=>{n.onsuccess=()=>{const r=n.result;if(!r)return void t(null);if(Date.now()-r.timestamp>m_)return console.log("\u23f0 Cache expirado para:",e),void t(null);const o=URL.createObjectURL(r.blob);t(o)},n.onerror=()=>{console.error("\u274c Erro ao buscar imagem do cache:",n.error),t(null)}})}catch(t){return console.error("\u274c Erro ao acessar cache de imagens:",t),null}}async function y_(e){if(!e)return null;try{console.log("\ud83d\udce5 Baixando imagem:",e);const t=await fetch(e);if(!t.ok)return console.error("\u274c Falha ao baixar imagem:",t.status),null;const n=await t.blob(),r=(n.size/1024).toFixed(2);console.log("\u2705 Imagem baixada: ".concat(r," KB"));const o=(await g_()).transaction(p_,"readwrite"),a=o.objectStore(p_),i={url:e,blob:n,timestamp:Date.now(),size:n.size};return a.put(i),await new Promise((e,t)=>{o.oncomplete=()=>{console.log("\u2705 Imagem salva no cache"),e()},o.onerror=()=>{console.error("\u274c Erro ao salvar imagem no cache:",o.error),t(o.error)}}),URL.createObjectURL(n)}catch(t){return console.error("\u274c Erro ao baixar/cachear imagem:",t),null}}async function b_(e){if(!e)return"";try{const t=await v_(e);if(t)return console.log("\u26a1 Imagem carregada do cache:",e),t;const n=await y_(e);return n||(console.warn("\u26a0\ufe0f Usando URL original (sem cache):",e),e)}catch(t){return console.error("\u274c Erro ao obter imagem:",t),e}}async function w_(){try{const e=(await g_()).transaction(p_,"readwrite"),t=e.objectStore(p_).index("timestamp"),n=Date.now()-m_;let r=0;return t.openCursor().onsuccess=e=>{const t=e.target.result;t&&(t.value.timestamp<n&&(t.delete(),r++),t.continue())},await new Promise((t,n)=>{e.oncomplete=()=>{console.log("\ud83e\uddf9 Limpeza conclu\xedda: ".concat(r," imagens antigas removidas")),t(r)},e.onerror=()=>n(e.error)}),r}catch(e){return console.error("\u274c Erro ao limpar cache:",e),0}}async function x_(){try{const e=(await g_()).transaction(p_,"readonly"),t=e.objectStore(p_).getAll();return new Promise((e,n)=>{t.onsuccess=()=>{const n=t.result,r={total:n.length,totalSize:n.reduce((e,t)=>e+t.size,0),totalSizeMB:(n.reduce((e,t)=>e+t.size,0)/1048576).toFixed(2),oldestTimestamp:n.length>0?Math.min(...n.map(e=>e.timestamp)):null,newestTimestamp:n.length>0?Math.max(...n.map(e=>e.timestamp)):null};console.log("\ud83d\udcca Estat\xedsticas do cache:",r),e(r)},t.onerror=()=>{console.error("\u274c Erro ao obter estat\xedsticas:",t.error),n(t.error)}})}catch(e){return console.error("\u274c Erro ao acessar estat\xedsticas:",e),{total:0,totalSize:0,totalSizeMB:"0.00",oldestTimestamp:null,newestTimestamp:null}}}async function S_(){try{const e=(await g_()).transaction(p_,"readwrite");e.objectStore(p_).clear(),await new Promise((t,n)=>{e.oncomplete=()=>{console.log("\ud83d\uddd1\ufe0f Cache de imagens limpo completamente"),t()},e.onerror=()=>n(e.error)})}catch(e){console.error("\u274c Erro ao limpar cache:",e)}}"undefined"!==typeof window&&(window.imageCacheManager={getStats:x_,cleanup:w_,clearAll:S_,getImage:b_},console.log("\ud83d\uddbc\ufe0f Image Cache Manager carregado. Use window.imageCacheManager no console."));function k_(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];const[n,o]=(0,r.useState)("");return(0,r.useEffect)(()=>{if(!e||!t)return void o("");let r=!0;return n&&n.startsWith("blob:")&&URL.revokeObjectURL(n),o(""),async function(){try{const t=await b_(e);r&&o(t)}catch(t){console.error("\u274c Erro ao carregar imagem:",t),r&&o(e)}}(),()=>{r=!1,n&&n.startsWith("blob:")&&URL.revokeObjectURL(n)}},[e,t]),n}const __=new Map;function E_(e){var t;let{card:n,onToggleAcquired:o,onOfferTrade:a,onShowArtSelector:i,onChangeQuantity:l,isViewOnly:c=!1,currentUserId:u,deckOwnerId:d,isSelectionMode:h=!1,isSelected:f=!1,onToggleSelect:p,onDoubleClick:m,hasGreenBorder:g=!1,onLongPress:v}=e;const[y,b]=(0,r.useState)(!1),[w,x]=(0,r.useState)(!1);(0,r.useEffect)(()=>{g&&console.log("\ud83d\udfe2 CardGridItem - CARTA COM GREEN BORDER:",{cardName:n.card_name,scryfallId:n.scryfall_id,hasGreenBorder:g,isSelectionMode:h})},[g,n.card_name,n.scryfall_id,h]);const S="".concat(n.id,"-").concat(n.scryfall_id),[k,_]=(0,r.useState)(()=>__.get(S)||0);(0,r.useEffect)(()=>{__.set(S,k)},[S,k]);const E=(0,r.useRef)(null),C=(0,r.useRef)(!1),A=e=>{c||h||(C.current=!1,console.log("[DEBUG] Long press iniciado",{hasCustomHandler:!!v}),E.current=setTimeout(()=>{console.log("[DEBUG] Long press detectado",{hasCustomHandler:!!v}),C.current=!0,v?v(n):null===i||void 0===i||i(n)},500))},j=e=>{E.current&&(clearTimeout(E.current),E.current=null),C.current&&(console.log("[DEBUG] Long press completado"),e.preventDefault(),e.stopPropagation())},T=()=>{E.current&&(console.log("[DEBUG] Long press cancelado"),clearTimeout(E.current),E.current=null),C.current=!1};(0,r.useEffect)(()=>()=>{E.current&&clearTimeout(E.current)},[]);const N=n.card_faces&&n.card_faces.length>1,D=N?n.card_faces[k]:n;let P;var O,R,I,M,F,L;(N&&console.log("\ufffd DEBUG FACES COMPLETO:",{cardName:n.card_name,currentFaceIndex:k,allFaces:n.card_faces,currentFace:D,cardImageUrl:n.image_url}),N)?P=(null===(O=D.image_uris)||void 0===O?void 0:O.normal)||(null===(R=D.image_uris)||void 0===R?void 0:R.large)||(null===(I=D.image_uris)||void 0===I?void 0:I.png)||D.image_url||n.image_url:P=n.image_url||(null===(M=n.image_uris)||void 0===M?void 0:M.normal)||(null===(F=n.image_uris)||void 0===F?void 0:F.large)||(null===(L=n.image_uris)||void 0===L?void 0:L.png);const U=k_(P),{handleTouchStart:z,handleTouchEnd:B}=function(e){let{onSwipeRight:t,onDoubleTap:n}=e,r=0,o=0,a=0;return{handleTouchStart:function(e){o=e.touches[0].clientX,a=e.touches[0].clientY},handleTouchEnd:function(e){const i=e.changedTouches[0].clientX,s=e.changedTouches[0].clientY,l=i-o,c=Math.abs(s-a);if(l>100&&c<50)return void(t&&t());const u=Date.now();u-r<300&&n&&n(),r=u}}}({onSwipeRight:()=>{h||x(!0)},onDoubleTap:()=>{q()}}),q=e=>{if(m)return e&&(e.preventDefault(),e.stopPropagation()),void m(n);d===u?(b(e=>!e),null===o||void 0===o||o((0,s.A)((0,s.A)({},n),{},{acquired:!n.acquired}))):null===a||void 0===a||a(n)};return console.log("\ud83d\udd0d CardGridItem RENDER:",{cardName:n.card_name,hasGreenBorder:g,willRenderGreenCircle:!0===g,hasGreenBorderType:typeof g,hasGreenBorderValue:JSON.stringify(g)}),(0,kt.jsxs)(kt.Fragment,{children:[w&&(0,kt.jsx)(f_,{card:n,onClose:()=>x(!1)}),(0,kt.jsxs)(Tw.div,{onTouchStart:z,onTouchEnd:B,initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9},className:"relative group",onDoubleClick:g?q:void 0,children:[g&&(0,kt.jsx)("button",{type:"button",onClick:e=>{e.stopPropagation(),e.preventDefault(),null===m||void 0===m||m(n)},"aria-label":"Ver amigos interessados",className:"absolute top-1 left-1 z-50 w-6 h-6 rounded-full bg-green-500 bg-opacity-80 border-2 border-white shadow-lg hover:bg-green-600 hover:bg-opacity-90 hover:scale-110 active:scale-95 transition-all cursor-pointer focus:outline-none focus:ring-2 focus:ring-green-400 focus:ring-offset-1",style:{boxShadow:"0 0 0 2px white, 0 0 10px rgba(34, 197, 94, 0.5)",pointerEvents:"auto"},title:"Clique para ver quem quer essa carta",children:(0,kt.jsx)("span",{className:"sr-only",children:"Amigos querem essa carta"})}),(0,kt.jsxs)("div",{className:"relative rounded-lg overflow-hidden cursor-pointer focus:outline-none focus:ring-0",onMouseDown:A,onMouseUp:j,onMouseLeave:T,onTouchStart:A,onTouchEnd:j,onTouchCancel:T,children:[h&&(0,kt.jsx)("div",{className:"absolute top-2 left-2 z-20",children:(0,kt.jsx)(th,{type:"button",size:"icon",onClick:e=>{e.stopPropagation(),null===p||void 0===p||p(n.id)},"aria-pressed":f,"aria-label":f?"Desmarcar carta":"Selecionar carta para remo\xe7\xe3o",className:"w-7 h-7 rounded-full p-0 border-2 transition-all focus:ring-0 focus:ring-offset-0 ".concat(f?"bg-gray-500/60 border-gray-400":"bg-gray-500/20 border-gray-500"),children:(0,kt.jsx)("span",{className:"sr-only",children:f?"Selecionado":"N\xe3o selecionado"})})}),(0,kt.jsx)("img",{src:U||P,alt:D.name||n.card_name,className:"card-image w-full h-auto rounded-lg transition-opacity duration-300 ".concat(y?"opacity-50":"opacity-100"),draggable:!1,onContextMenu:e=>e.preventDefault(),loading:"lazy"},"".concat(n.id,"-").concat(k,"-").concat(null===(t=P)||void 0===t?void 0:t.split("/").pop(),"-").concat(n.updated_at||n.scryfall_id)),N&&(0,kt.jsxs)("button",{onClick:e=>{e.preventDefault(),e.stopPropagation(),console.log("\ud83d\udd18 Bot\xe3o de face clicado!"),(()=>{var e;if(console.log("\ud83d\udd04 toggleFace chamado",{hasMultipleFaces:N,currentFaceIndex:k,totalFaces:null===(e=n.card_faces)||void 0===e?void 0:e.length,cardName:n.card_name}),N){const e=(k+1)%n.card_faces.length;console.log("\ud83d\udd04 Mudando para face:",e),_(e)}})()},className:"absolute top-2 right-2 w-7 h-7 bg-orange-500/90 hover:bg-orange-500 text-white rounded-full shadow-lg flex items-center justify-center transition-all hover:scale-110 active:scale-95 z-10","aria-label":"Alternar face da carta",title:"Face ".concat(k+1,"/").concat(n.card_faces.length,": ").concat(D.name||"Face "+(k+1)),"data-card-id":n.id,"data-face-index":k,"data-testid":"dual-face-toggle",children:[(0,kt.jsx)("svg",{className:"w-3 h-3",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,kt.jsx)("path",{d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})}),(0,kt.jsx)("span",{className:"absolute -bottom-1 -right-1 w-3 h-3 bg-white text-orange-500 text-xs rounded-full flex items-center justify-center font-bold leading-none",children:k+1})]}),n.quantity>1&&(0,kt.jsxs)("div",{className:"absolute bottom-2 right-2 bg-black/80 text-white px-2 py-1 rounded-full text-xs font-bold",children:["x",n.quantity]})]})]})]})}const C_=(0,r.memo)(E_,(e,t)=>e.card.id===t.card.id&&e.card.quantity===t.card.quantity&&e.card.acquired===t.card.acquired&&e.card.image_url===t.card.image_url&&JSON.stringify(e.card.card_faces)===JSON.stringify(t.card.card_faces)&&e.isSelected===t.isSelected&&e.isSelectionMode===t.isSelectionMode&&e.hasGreenBorder===t.hasGreenBorder),A_=["className"],j_=["className"],T_=Rk,N_=r.forwardRef((e,t)=>{let{className:n}=e,r=i(e,A_);return(0,kt.jsxs)(Ik,{children:[(0,kt.jsx)(Mk,{className:"fixed inset-0 bg-black/60 backdrop-blur-sm"}),(0,kt.jsx)(Fk,(0,s.A)({ref:t,className:to("fixed left-1/2 top-1/2 z-50 w-full max-w-lg -translate-x-1/2 -translate-y-1/2 rounded-xl bg-gray-900 p-6 shadow-lg focus:outline-none",n)},r))]})});N_.displayName="DialogContent";const D_=e=>{let{children:t}=e;return(0,kt.jsx)("div",{className:"mb-4",children:t})},P_=Lk,O_=Uk,R_=e=>{let{className:t}=e,n=i(e,j_);return(0,kt.jsx)("div",(0,s.A)({className:"flex justify-end gap-2 border-t border-gray-700 p-4 ".concat(t||"")},n))},I_=$r("arrow-left-right",[["path",{d:"M8 3 4 7l4 4",key:"9rb6wj"}],["path",{d:"M4 7h16",key:"6tx8e3"}],["path",{d:"m16 21 4-4-4-4",key:"siv7j2"}],["path",{d:"M20 17H4",key:"h6l3hr"}]]);function M_(e){let{isOpen:t,onClose:n,card:r,onConfirm:o}=e;return(0,kt.jsx)(T_,{open:t,onOpenChange:n,children:(0,kt.jsxs)(N_,{className:"bg-gray-900 border-gray-800 text-white w-[95vw] max-w-[400px] px-5 py-5 rounded-xl m-auto",style:{borderRadius:18,boxShadow:"0 4px 24px rgba(0,0,0,0.4)",top:"50%",left:"50%",transform:"translate(-50%, -50%)",position:"fixed"},children:[(0,kt.jsxs)(D_,{children:[(0,kt.jsxs)(P_,{className:"flex items-center gap-2 text-xl",children:[(0,kt.jsx)(I_,{className:"w-5 h-5 text-purple-500"}),"Oferecer Trade"]}),(0,kt.jsx)(O_,{className:"text-sm text-gray-400",children:"Confirmar que tenho esta carta dispon\xedvel para trade?"})]}),(0,kt.jsx)("div",{className:"py-4",children:(0,kt.jsxs)("div",{className:"flex items-center gap-4 mb-4",children:[(0,kt.jsx)("img",{src:null===r||void 0===r?void 0:r.image_url,alt:null===r||void 0===r?void 0:r.card_name,className:"w-24 h-auto rounded-lg",loading:"lazy",decoding:"async",onContextMenu:e=>e.preventDefault(),draggable:!1}),(0,kt.jsxs)("div",{children:[(0,kt.jsx)("h3",{className:"font-semibold text-white mb-1",children:null===r||void 0===r?void 0:r.card_name}),(0,kt.jsx)("p",{className:"text-sm text-gray-400",children:null===r||void 0===r?void 0:r.type_line})]})]})}),(0,kt.jsxs)(R_,{className:"flex gap-2",children:[(0,kt.jsx)(th,{variant:"outline",onClick:n,className:"flex-1 border-gray-700 text-gray-300 hover:bg-gray-800",children:"N\xe3o"}),(0,kt.jsx)(th,{onClick:o,className:"flex-1 bg-purple-600 hover:bg-purple-700",children:"Sim, Oferecer"})]})]})})}const F_=$r("shopping-cart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]]),L_=e=>{var t,o,a;let{isOpen:i,onClose:s,card:l,deckOwnerId:c,deckOwnerName:u}=e;const[d]=St(),[h,f]=(0,r.useState)(!1),[p,m]=(0,r.useState)(null);if(!i||!l)return null;const g=l.image_url||(null===(t=l.card_faces)||void 0===t||null===(o=t[0])||void 0===o||null===(a=o.image_uris)||void 0===a?void 0:a.normal);return(0,kt.jsx)(Rh,{children:i&&(0,kt.jsx)(Tw.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center bg-black/80 backdrop-blur-sm",onClick:s,children:(0,kt.jsxs)(Tw.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},transition:{type:"spring",damping:25,stiffness:300},className:"bg-gray-900 border border-gray-700 rounded-xl p-6 max-w-md w-full mx-4 shadow-2xl",onClick:e=>e.stopPropagation(),children:[(0,kt.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,kt.jsxs)("div",{className:"flex items-center gap-2",children:[(0,kt.jsx)(F_,{className:"w-5 h-5 text-blue-500"}),(0,kt.jsx)("h2",{className:"text-xl font-bold text-white",children:"Interesse em Comprar"})]}),(0,kt.jsx)(th,{variant:"ghost",size:"icon",onClick:s,className:"text-gray-400 hover:text-white",children:(0,kt.jsx)(Ix,{className:"w-5 h-5"})})]}),(0,kt.jsx)("div",{className:"mb-4 flex justify-center",children:(0,kt.jsx)("img",{src:g,alt:l.card_name,className:"rounded-lg max-h-64 w-auto shadow-lg"})}),(0,kt.jsx)("h3",{className:"text-lg font-semibold text-white text-center mb-4",children:l.card_name}),(0,kt.jsxs)("div",{className:"bg-gray-800 rounded-lg p-4 mb-4",children:[(0,kt.jsx)("p",{className:"text-sm text-gray-400 mb-2",children:"Esta carta pertence a:"}),(0,kt.jsxs)("div",{className:"flex items-center gap-2 p-2 bg-gray-700 rounded-lg",children:[(0,kt.jsx)("div",{className:"w-8 h-8 rounded-full bg-blue-500/20 flex items-center justify-center",children:(0,kt.jsx)(F_,{className:"w-4 h-4 text-blue-500"})}),(0,kt.jsx)("span",{className:"text-white font-medium",children:u})]}),(0,kt.jsx)("p",{className:"text-xs text-gray-500 mt-3",children:"Uma mensagem ser\xe1 enviada informando seu interesse em comprar esta carta."})]}),p&&(0,kt.jsx)("div",{className:"mb-3 p-2 bg-red-900/20 border border-red-800 rounded-lg",children:(0,kt.jsx)("p",{className:"text-sm text-red-400 text-center",children:p})}),(0,kt.jsxs)("div",{className:"flex gap-3",children:[(0,kt.jsx)(th,{onClick:s,variant:"outline",className:"flex-1 border-gray-600 text-gray-300 hover:bg-gray-800",disabled:h,children:"Cancelar"}),(0,kt.jsx)(th,{onClick:async()=>{f(!0),m(null);try{const{messageOperations:e,userOperations:t}=await Promise.resolve().then(n.bind(n,54));let r="";try{const e=await t.getUser(d.id);r=(null===e||void 0===e?void 0:e.display_name)||""}catch(MA){console.error("[BUY REQUEST] Erro ao buscar display_name:",MA)}const o="".concat(r," tem interesse em comprar: ").concat(l.card_name),a={recipient_id:c,sender_id:null===d||void 0===d?void 0:d.id,sender_name:r,card_id:l.id,card_name:l.card_name,type:"buy_request",content:o,created_at:(new Date).toISOString()};await e.sendMessage(a),s()}catch(MA){console.error("[BUY REQUEST] Erro ao enviar mensagem:",MA),m("Erro ao enviar interesse de compra")}finally{f(!1)}},disabled:h,className:"flex-1 bg-blue-500 hover:bg-blue-600 text-white disabled:opacity-50 disabled:cursor-not-allowed",children:h?"Enviando...":"Enviar Interesse"})]})]})})})},U_=$r("plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);function z_(e){let{isOpen:t,onClose:n,card:o,onSelectArt:a,onAddCard:i,onUpdateCard:s,deckId:l}=e;const[c,u]=(0,r.useState)([]),[d,h]=(0,r.useState)(!1),[f,p]=(0,r.useState)(null),m=(Et(),(0,r.useCallback)(async()=>{if(o){h(!0);try{const e=await fetch('https://api.scryfall.com/cards/search?q=!"'.concat(encodeURIComponent(o.card_name),'"&unique=prints')),t=await e.json();if(t.data){const e=t.data.filter(e=>{var t,n,r,o;return(null===(t=e.image_uris)||void 0===t?void 0:t.normal)||(null===(n=e.card_faces)||void 0===n||null===(r=n[0])||void 0===r||null===(o=r.image_uris)||void 0===o?void 0:o.normal)});u(e),p(o.scryfall_id)}}catch(e){console.error("Erro ao buscar vers\xf5es:",e)}finally{h(!1)}}},[o]));(0,r.useEffect)(()=>{t&&o&&m()},[t,o,m]);return(0,kt.jsx)(T_,{open:t,onOpenChange:n,children:(0,kt.jsxs)(N_,{className:"bg-gray-900 border-gray-800 text-white max-w-5xl max-h-[90vh] overflow-hidden",children:[(0,kt.jsxs)(D_,{children:[(0,kt.jsxs)(P_,{className:"text-xl font-bold",children:["Escolher Arte - ",null===o||void 0===o?void 0:o.card_name]}),(0,kt.jsxs)(O_,{className:"text-sm text-gray-400",children:[c.length," ",1===c.length?"vers\xe3o dispon\xedvel":"vers\xf5es dispon\xedveis"]})]}),d?(0,kt.jsx)("div",{className:"flex items-center justify-center py-20",children:(0,kt.jsx)(VS,{className:"w-8 h-8 animate-spin text-orange-500"})}):(0,kt.jsxs)(kt.Fragment,{children:[(0,kt.jsx)("div",{className:"overflow-y-auto max-h-[60vh] pr-2",children:(0,kt.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4",children:c.map(e=>{var t,n,r,o;const a=(null===(t=e.image_uris)||void 0===t?void 0:t.normal)||(null===(n=e.card_faces)||void 0===n||null===(r=n[0])||void 0===r||null===(o=r.image_uris)||void 0===o?void 0:o.normal),i=f===e.id;return(0,kt.jsxs)(Tw.div,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>p(e.id),className:"relative cursor-pointer rounded-lg overflow-hidden border-2 transition-all ".concat(i?"border-orange-500 shadow-lg shadow-orange-500/50":"border-gray-700 hover:border-gray-600"),children:[(0,kt.jsx)("img",{src:a,alt:e.name,className:"w-full h-auto select-none",onContextMenu:e=>e.preventDefault(),draggable:!1}),i&&(0,kt.jsx)("div",{className:"absolute top-2 right-2 w-8 h-8 bg-orange-500 rounded-full flex items-center justify-center",children:(0,kt.jsx)(hh,{className:"w-5 h-5 text-white"})}),(0,kt.jsxs)("div",{className:"absolute bottom-0 left-0 right-0 bg-gradient-to-t from-black/80 to-transparent p-2",children:[(0,kt.jsx)("p",{className:"text-xs text-white font-medium truncate",children:e.set_name}),(0,kt.jsxs)("p",{className:"text-xs text-gray-300",children:[e.set.toUpperCase()," \u2022 ",e.collector_number]})]})]},e.id)})})}),(0,kt.jsxs)("div",{className:"space-y-3 pt-4 border-t border-gray-800",children:[(0,kt.jsxs)("div",{className:"grid grid-cols-2 gap-3",children:[(0,kt.jsxs)(th,{onClick:async()=>{var e,t,r,o;if(!f||!l||!i)return;const a=c.find(e=>e.id===f);if(!a)return;const s=(null===(e=a.image_uris)||void 0===e?void 0:e.normal)||(null===(t=a.card_faces)||void 0===t||null===(r=t[0])||void 0===r||null===(o=r.image_uris)||void 0===o?void 0:o.normal);try{await i({scryfall_id:a.id,card_name:a.name,image_url:s,mana_cost:a.mana_cost||"",type_line:a.type_line||"",quantity:1,acquired:!1,card_faces:a.card_faces||null}),n()}catch(u){console.error("Erro ao adicionar carta com arte diferente:",u)}},disabled:!f||f===(null===o||void 0===o?void 0:o.scryfall_id),variant:"outline",className:"border-purple-600 text-purple-400 hover:bg-purple-600/20 hover:text-purple-300 h-12",children:[(0,kt.jsx)(U_,{className:"w-5 h-5 mr-2"}),"Adicionar Arte Diferente"]}),(0,kt.jsxs)(th,{onClick:async()=>{if(o&&s)try{await s({cardId:o.id,updates:{quantity:(o.quantity||1)+1}}),n()}catch(e){console.error("Erro ao adicionar mais c\xf3pias:",e)}},variant:"outline",className:"border-blue-600 text-blue-400 hover:bg-blue-600/20 hover:text-blue-300 h-12",children:[(0,kt.jsx)(fh,{className:"w-5 h-5 mr-2"}),"Adicionar Mais C\xf3pias"]})]}),(0,kt.jsxs)("div",{className:"flex justify-end gap-3",children:[(0,kt.jsx)(th,{variant:"outline",onClick:n,className:"border-gray-700 text-gray-300 hover:bg-gray-800",children:"Cancelar"}),(0,kt.jsx)(th,{onClick:async()=>{if(f&&f!==o.scryfall_id){const s=c.find(e=>e.id===f);if(s){var e,t,r,i;const l=(null===(e=s.image_uris)||void 0===e?void 0:e.normal)||(null===(t=s.card_faces)||void 0===t||null===(r=t[0])||void 0===r||null===(i=r.image_uris)||void 0===i?void 0:i.normal);return console.log("\ud83c\udfa8 ArtSelector: Selecionada nova arte",{card:o.card_name,oldImage:o.image_url,newImage:l}),null===a||void 0===a||a({scryfall_id:s.id,image_url:l}),void n()}}n()},disabled:!f||f===(null===o||void 0===o?void 0:o.scryfall_id),className:"bg-orange-500 hover:bg-orange-600",children:"Trocar Arte"})]})]})]})]})})}const B_=$r("minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]);function q_(e){let{isOpen:t,onClose:n,cards:o=[],deckId:a,onConfirm:i,isLoading:l=!1}=e;const c=Et(),[u,d]=(0,r.useState)({}),[h,f]=(0,r.useState)({});(0,r.useEffect)(()=>{if(t){const e={},t={};o.forEach(n=>{e[n.id]=!0,t[n.id]=n.quantity||1}),d(e),f(t)}},[t,o]);const p=(e,t)=>{f(n=>{const r=o.find(t=>t.id===e),a=(null===r||void 0===r?void 0:r.quantity)||1,i=Math.min(Math.max(1,(n[e]||1)+t),a);return(0,s.A)((0,s.A)({},n),{},{[e]:i})})},m=o.reduce((e,t)=>u[t.id]?e+(h[t.id]||0):e,0)||0,g=o.every(e=>!u[e.id]);return(0,kt.jsx)(T_,{open:t,onOpenChange:n,children:(0,kt.jsxs)(N_,{className:"bg-gray-900 border-gray-800 text-white max-w-md",children:[(0,kt.jsxs)(D_,{children:[(0,kt.jsxs)(P_,{className:"flex items-center gap-2 text-xl",children:[(0,kt.jsx)(Rx,{className:"w-5 h-5 text-red-500"}),"Remover cartas"]}),(0,kt.jsx)(O_,{className:"text-sm text-gray-400",children:"Selecione as cartas (bolinha) e ajuste quantas c\xf3pias remover"})]}),(0,kt.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,kt.jsx)("div",{className:"text-sm text-gray-300",children:"A\xe7\xf5es:"}),(0,kt.jsx)("button",{onClick:()=>{if(o.every(e=>u[e.id])){const e={},t={};o.forEach(n=>{e[n.id]=!1,t[n.id]=1}),d(e),f(t)}else{const e={},t={};o.forEach(n=>{e[n.id]=!0,t[n.id]=n.quantity||1}),d(e),f(t)}},className:"text-sm text-orange-400 hover:underline",type:"button",children:o.every(e=>u[e.id])?"Desmarcar todas":"Remover todas"})]}),(0,kt.jsx)("div",{className:"space-y-4 max-h-96 overflow-y-auto pr-2",children:o.map(e=>{const t=(e.quantity||1)>1,n=!!u[e.id];return(0,kt.jsxs)("div",{className:"flex items-center gap-4 p-3 rounded-lg border ".concat(n?"bg-gray-700 border-gray-600":"bg-gray-800 border-gray-700"),children:[(0,kt.jsx)(th,{variant:"ghost",size:"icon","aria-label":n?"Selecionado":"N\xe3o Selecionado",onClick:()=>{return t=e.id,void d(e=>(0,s.A)((0,s.A)({},e),{},{[t]:!e[t]}));var t},className:"flex-shrink-0 w-5 h-5 rounded-full p-0 border ".concat(n?"border-orange-500 bg-orange-500":"border-gray-500 bg-gray-600/30")}),(0,kt.jsx)("img",{src:e.image_url||null,alt:e.card_name,className:"w-16 h-auto rounded",loading:"lazy",decoding:"async",onContextMenu:e=>e.preventDefault(),draggable:!1}),(0,kt.jsxs)("div",{className:"flex-1",children:[(0,kt.jsx)("p",{className:"font-medium text-white line-clamp-1",children:e.card_name}),(0,kt.jsx)("p",{className:"text-sm text-gray-400",children:t?"".concat(e.quantity," c\xf3pias"):"1 c\xf3pia"})]}),n&&(0,kt.jsxs)("div",{className:"flex items-center gap-2",children:[(0,kt.jsx)(th,{variant:"outline",size:"icon",onClick:()=>p(e.id,-1),disabled:(h[e.id]||1)<=1,className:"h-8 w-8 bg-gray-700 border-gray-600",children:(0,kt.jsx)(B_,{className:"w-3 h-3"})}),(0,kt.jsx)("span",{className:"w-8 text-center font-bold",children:h[e.id]}),(0,kt.jsx)(th,{variant:"outline",size:"icon",onClick:()=>p(e.id,1),disabled:(h[e.id]||1)>=(e.quantity||1),className:"h-8 w-8 bg-gray-700 border-gray-600",children:(0,kt.jsx)(U_,{className:"w-3 h-3"})})]})]},e.id)})}),(0,kt.jsxs)(R_,{className:"flex items-center justify-between pt-4 border-t border-gray-800",children:[(0,kt.jsxs)("p",{className:"text-sm text-gray-400",children:["Remover ",m," ",1===m?"carta":"cartas"]}),(0,kt.jsxs)("div",{className:"flex gap-2",children:[(0,kt.jsx)(th,{variant:"outline",onClick:n,className:"border-gray-700 text-gray-300 hover:bg-gray-800",children:"Cancelar"}),(0,kt.jsxs)(th,{onClick:async()=>{try{const e={};o.forEach(t=>{u[t.id]&&(e[t.id]=h[t.id]||1)});try{c.setQueryData(["cards",a],function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return t&&0!==t.length?t.map(t=>{const n=e[t.id];if(!n)return t;const r=(t.quantity||1)-n;return r<=0?null:(0,s.A)((0,s.A)({},t),{},{quantity:r})}).filter(Boolean):t})}catch(MA){console.error("Erro na atualiza\xe7\xe3o otimista do cache:",MA)}if(i)try{i(e)}catch(MA){console.error("Erro no onConfirm:",MA),c.invalidateQueries({queryKey:["cards",a]})}}catch(e){console.error("Erro ao confirmar remo\xe7\xe3o:",e)}finally{n()}},disabled:g||l,className:"".concat(g?"bg-red-600/60":"bg-red-600 hover:bg-red-700"),children:[(0,kt.jsx)(Rx,{className:"w-4 h-4 mr-2"}),l?"Removendo...":"Remover"]})]})]})]})})}const V_=()=>{var e;const{id:t}=fe(),o=he(),a=ce(),[i]=St(),{isOnline:l,canSaveData:c}=Fr(),{decks:u=[],isLoading:d,error:h,updateDeck:f,refetch:p}=Br(),{cards:m=[],isLoading:g,error:v,addCard:y,updateCard:b,deleteCard:w,canEdit:x}=qr(t),{refetch:S}=qr(t),k=function(e,t){return(0,r.useCallback)(async(n,r)=>{const o=!0===n.is_transparent||"true"===n.is_transparent;console.log("[DoubleClick] Antes do update:",{cardId:n.id,is_transparent:n.is_transparent,transparent:o,updatePayload:{is_transparent:!o}}),await e({cardId:n.id,updates:{is_transparent:!o}}),console.log("[DoubleClick] updateCard chamado, aguardando refetch..."),setTimeout(async()=>{"function"===typeof t&&(await t(),console.log("[DoubleClick] refetchCards chamado, aguardando atualiza\xe7\xe3o dos dados..."),setTimeout(()=>{const e=r.find(e=>e.id===n.id);console.log("[DoubleClick] Depois do update (refetch):",{cardId:n.id,is_transparent:null===e||void 0===e?void 0:e.is_transparent,typeof:typeof(null===e||void 0===e?void 0:e.is_transparent),deckCards:r.map(e=>({id:e.id,is_transparent:e.is_transparent}))})},300))},400)},[e,t])}(b,S),[_,E]=(0,r.useState)(!1),[C,A]=(0,r.useState)(null),[j,T]=(0,r.useState)(!1),[N,D]=(0,r.useState)(null),[P,O]=(0,r.useState)(!1),[R,I]=(0,r.useState)(!1),[M,F]=(0,r.useState)([]),[L,U]=(0,r.useState)(!1),[z,B]=(0,r.useState)(null),[q,V]=(0,r.useState)(!1),[W,H]=(0,r.useState)([]),[K,G]=(0,r.useState)(!1),[Q,Y]=(0,r.useState)(null),[$,X]=(0,r.useState)("");(0,r.useEffect)(()=>{t&&t.startsWith("local_")&&o("/",{state:{message:"Sistema migrado: decks locais n\xe3o s\xe3o mais suportados. Use apenas decks online.",type:"warning"}})},[t,o]),(0,r.useEffect)(()=>{if(!t||d)return void T(!1);console.log("\ud83d\udd0d Iniciando timer para busca do deck:",t);const e=setTimeout(async()=>{if(null===u||void 0===u||!u.find(e=>e.id===t)){console.log("\ud83d\udd04 Deck n\xe3o encontrado, tentando refetch...");try{await p()}catch(N){console.error("\u274c Erro no refetch:",N)}}},2e3),n=setTimeout(()=>{console.log("\u23f0 Timeout atingido - deck ainda n\xe3o encontrado"),T(!0)},5e3);return()=>{console.log("\ud83d\uded1 Limpando timers de busca"),clearTimeout(e),clearTimeout(n)}},[t,d,u,p]);const[J,Z]=(0,r.useState)(null);(0,r.useEffect)(()=>{null!==u&&void 0!==u&&u.find(e=>e.id===t)?Z(null):Promise.resolve().then(n.bind(n,54)).then(e=>{let{deckOperations:n}=e;n.getDeck(t).then(e=>{e?(Z(e),console.log("\u2705 Deck encontrado remotamente:",e.name)):(Z(null),console.log("\u274c Deck n\xe3o encontrado remotamente"))}).catch(e=>{Z(null),console.error("\u274c Erro ao buscar deck remotamente:",e)})})},[u,t]);const ee=(0,r.useMemo)(()=>{const e=(null===u||void 0===u?void 0:u.find(e=>e.id===t))||J;return e?console.log("\u2705 Deck encontrado:",e.name):console.log("\u274c Deck n\xe3o encontrado na lista nem remotamente"),e},[u,t,J]),te=d||g,ne=h||v,re=!x||ee&&(null===i||void 0===i?void 0:i.id)!==ee.owner_id,oe=(0,r.useMemo)(()=>{const e=re&&ee&&("Trade"===ee.format||"Trades"===ee.format);return console.log("\ud83d\udd0d isFriendTradeDeck:",{result:e,isViewOnly:re,currentDeck:null===ee||void 0===ee?void 0:ee.deck_name,format:null===ee||void 0===ee?void 0:ee.format,ownerId:null===ee||void 0===ee?void 0:ee.owner_id,userId:null===i||void 0===i?void 0:i.id}),e},[re,ee,null===i||void 0===i?void 0:i.id]);(0,r.useEffect)(()=>{(async()=>{if(null!==ee&&void 0!==ee&&ee.owner_id&&re)try{const{userOperations:e}=await Promise.resolve().then(n.bind(n,54)),t=await e.getUser(ee.owner_id);X((null===t||void 0===t?void 0:t.display_name)||"Amigo")}catch(MA){console.error("Erro ao buscar nome do dono:",MA),X("Amigo")}})()},[null===ee||void 0===ee?void 0:ee.owner_id,re]);const ae=r.useRef(!1);(0,r.useEffect)(()=>{var e,n;if(null!==(e=a.state)&&void 0!==e&&e.addCard&&!ae.current){ae.current=!0;const e=async()=>{if(!t||!x)return void o(a.pathname,{state:(0,s.A)((0,s.A)({},a.state),{},{addCard:null}),replace:!0});const e=a.state.addCard;try{var n,r,i,l;const t=await fetch("https://api.scryfall.com/cards/named?exact=".concat(encodeURIComponent(e.name))),c=await t.json(),u=(null===(n=c.image_uris)||void 0===n?void 0:n.normal)||(null===(r=c.card_faces)||void 0===r||null===(i=r[0])||void 0===i||null===(l=i.image_uris)||void 0===l?void 0:l.normal);await y({scryfall_id:c.id,card_name:c.name,image_url:u,mana_cost:c.mana_cost||"",type_line:c.type_line||"",quantity:1,acquired:!1,card_faces:c.card_faces||null}),o(a.pathname,{state:(0,s.A)((0,s.A)({},a.state),{},{addCard:null}),replace:!0})}catch(N){D(N.message||"Erro ao adicionar carta"),o(a.pathname,{state:(0,s.A)((0,s.A)({},a.state),{},{addCard:null}),replace:!0})}};e()}null!==(n=a.state)&&void 0!==n&&n.addCard||(ae.current=!1)},[null===(e=a.state)||void 0===e?void 0:e.addCard,t,x,y,o,a.pathname,a.state]);const ie=e=>{F(t=>t.includes(e)?t.filter(t=>t!==e):[...t,e])},se=e=>{console.log("[DEBUG] handleShowArtSelector chamado",{card:e,isViewOnly:re}),re?console.log("[DEBUG] N\xe3o abrindo modal - modo view only"):(console.log("[DEBUG] Abrindo ArtSelector modal"),B(e),U(!0))},le=m.reduce((e,t)=>e+(t.quantity||1),0);return te||!ee&&!j?(0,kt.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-gray-950 via-gray-900 to-purple-950 flex items-center justify-center",children:(0,kt.jsxs)("div",{className:"text-center",children:[(0,kt.jsx)("p",{className:"text-blue-400 mb-4",children:te?"Carregando deck...":"Procurando deck rec\xe9m-criado..."}),(0,kt.jsx)("p",{className:"text-gray-400 mb-4 text-sm",children:!te&&"Aguarde alguns segundos para a sincroniza\xe7\xe3o"}),(0,kt.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-400 mx-auto"})]})}):ne?(0,kt.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-gray-950 via-gray-900 to-purple-950 flex items-center justify-center",children:(0,kt.jsxs)("div",{className:"text-center",children:[(0,kt.jsxs)("p",{className:"text-red-400 mb-4",children:["Erro ao carregar deck: ",ne]}),(0,kt.jsx)(th,{onClick:()=>o("/"),className:"bg-blue-600 hover:bg-blue-700",children:"Voltar para Home"})]})}):!ee&&j?(0,kt.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-gray-950 via-gray-900 to-purple-950 flex items-center justify-center",children:(0,kt.jsxs)("div",{className:"text-center",children:[(0,kt.jsx)("p",{className:"text-yellow-400 mb-4",children:"Deck n\xe3o encontrado"}),(0,kt.jsx)(th,{onClick:()=>o("/"),className:"bg-blue-600 hover:bg-blue-700",children:"Voltar para Home"})]})}):(0,kt.jsxs)("div",{className:"min-h-screen bg-gradient-to-br from-gray-950 via-gray-900 to-purple-950",children:[(0,kt.jsx)("div",{className:"sticky top-0 z-30 bg-gray-900 border-b border-gray-800 shadow-lg",children:(0,kt.jsxs)("div",{className:"flex items-center justify-between px-4 py-3",children:[(0,kt.jsx)(th,{variant:"ghost",size:"icon",onClick:()=>o("/"),className:"text-gray-400 hover:text-white",children:(0,kt.jsx)(Ix,{className:"w-6 h-6"})}),(0,kt.jsxs)("div",{className:"text-center flex-1",children:[(0,kt.jsxs)("div",{className:"flex items-center justify-center gap-2",children:[(0,kt.jsx)("h1",{className:"text-lg font-bold text-white",children:null===ee||void 0===ee?void 0:ee.name}),re&&(0,kt.jsx)(d_,{className:"w-4 h-4 text-blue-400"})]}),(0,kt.jsxs)("p",{className:"text-sm text-gray-400",children:[null===ee||void 0===ee?void 0:ee.format," \u2022 ",le," cartas"]})]}),!re&&(0,kt.jsx)(th,{variant:"ghost",size:"icon",onClick:()=>{R&&M.length>0?(async()=>{if(M.length>0&&x){const e=m.filter(e=>M.includes(e.id));H(e),V(!0)}})():(I(!R),F([]))},className:"".concat(R&&M.length>0?"text-red-500 hover:text-red-400":"text-gray-400 hover:text-white"),children:(0,kt.jsx)(Rx,{className:"w-5 h-5"})}),re&&(0,kt.jsx)("div",{className:"w-10"})]})}),!re&&(0,kt.jsx)(h_,{deckId:t,isSearching:P,setIsSearching:O}),N&&(0,kt.jsx)("div",{className:"px-4 pt-4",children:(0,kt.jsxs)(oo,{className:N.includes("sucesso")?"bg-green-900/20 border-green-800":"bg-red-900/20 border-red-800",children:[(0,kt.jsx)(Jr,{className:"h-4 w-4"}),(0,kt.jsx)(ao,{className:N.includes("sucesso")?"text-green-400":"text-red-400",children:N})]})}),(0,kt.jsx)("div",{className:"p-4",children:0!==m.length||te?(0,kt.jsx)("div",{className:"grid grid-cols-3 gap-4",children:(0,kt.jsx)(Rh,{mode:"popLayout",children:m.map(e=>{console.log("[DEBUG] Renderizando card:",{cardId:e.id,is_transparent:e.is_transparent,typeof:typeof e.is_transparent});const t=!0===e.is_transparent||"true"===e.is_transparent;let n=null,r=0;return(0,kt.jsx)("div",{onDoubleClick:async()=>{console.log("\ud83d\uddb1\ufe0f Duplo clique detectado!",{isFriendTradeDeck:oe,cardName:e.card_name,isViewOnly:re,transparent:t}),oe?(console.log("\ud83d\uded2 Abrindo BuyRequestModal via double click"),Y(e),G(!0)):re&&t?(A(e),E(!0)):re||await k(e,m)},onTouchStart:t=>{n&&clearTimeout(n),n=setTimeout(()=>{console.log("\u23f1\ufe0f Long press detectado!",{isFriendTradeDeck:oe,cardName:e.card_name,isViewOnly:re}),oe?(console.log("\ud83d\uded2 Abrindo BuyRequestModal via long press"),Y(e),G(!0)):re||(console.log("\ud83c\udfa8 Abrindo ArtSelector via long press"),se(e))},500)},onTouchEnd:async o=>{n&&(clearTimeout(n),n=null);const a=Date.now();a-r<400&&(oe?(Y(e),G(!0)):re&&t?(A(e),E(!0)):re||await k(e,m)),r=a},onTouchCancel:()=>{n&&(clearTimeout(n),n=null)},style:{opacity:t?.5:1,transition:"opacity 0.3s"},children:(0,kt.jsx)(C_,{card:e,isSelectionMode:R&&!re,isSelected:M.includes(e.id),onToggleSelect:ie,onShowArtSelector:se,isViewOnly:re,currentUserId:null===i||void 0===i?void 0:i.id,deckOwnerId:null===ee||void 0===ee?void 0:ee.user_id})},e.id)})})}):(0,kt.jsxs)("div",{className:"flex flex-col items-center justify-center py-20 text-center",children:[(0,kt.jsx)("p",{className:"text-gray-400 text-lg mb-2",children:re?"Este deck ainda n\xe3o tem cartas":"Nenhuma carta adicionada ainda"}),!re&&(0,kt.jsx)("p",{className:"text-gray-500 text-sm",children:"Use a barra de busca para adicionar cartas"})]})}),R&&!re&&(0,kt.jsx)(Tw.div,{initial:{y:100},animate:{y:0},exit:{y:100},className:"fixed bottom-6 left-1/2 -translate-x-1/2 bg-gray-800 border border-gray-700 rounded-full px-6 py-3 shadow-2xl",children:(0,kt.jsx)("p",{className:"text-white font-medium",children:M.length>0?"".concat(M.length," carta").concat(M.length>1?"s":""," selecionada").concat(M.length>1?"s":""):"Selecione cartas para remover"})}),(0,kt.jsx)(z_,{isOpen:L,onClose:()=>{U(!1),B(null)},card:z,onSelectArt:async e=>{let t=(0,s.A)({},e);if(z.card_faces&&Array.isArray(z.card_faces)){const n=z.card_faces.map(t=>(0,s.A)((0,s.A)({},t),{},{image_url:e.image_url,image_uris:(0,s.A)((0,s.A)({},t.image_uris),{},{normal:e.image_url})}));t.card_faces=n}if(console.log("[DEBUG] handleSelectArt - updates:",t),z&&!re){var n;if(null!==(n=a.state)&&void 0!==n&&n.addCard)return U(!1),void B(null);try{let t=(0,s.A)({},e);if(z.card_faces&&Array.isArray(z.card_faces)){const n=z.card_faces.map(t=>(0,s.A)((0,s.A)({},t),{},{image_url:e.image_url,image_uris:(0,s.A)((0,s.A)({},t.image_uris),{},{normal:e.image_url})}));t.card_faces=n}await b({cardId:z.id,updates:t}),U(!1),B(null)}catch(N){D("Erro ao alterar arte da carta")}}},onAddCard:y,onUpdateCard:b,deckId:t}),(0,kt.jsx)(q_,{isOpen:q,onClose:()=>{V(!1),H([])},cards:W,deckId:t,onConfirm:async e=>{try{const t=Object.entries(e).map(e=>{let[t,n]=e;return{cardId:t,quantityToDelete:n}});for(const e of t){const t=m.find(t=>t.id===e.cardId);if(t)if(e.quantityToDelete>=t.quantity)await w(e.cardId);else{const n=t.quantity-e.quantityToDelete;await b({cardId:e.cardId,updates:{quantity:n}})}}F([]),I(!1),V(!1),H([])}catch(N){D("Erro ao remover cartas selecionadas")}},isLoading:!1}),_&&C&&(0,kt.jsx)(M_,{isOpen:_,onClose:()=>E(!1),card:C,onConfirm:async()=>{var e;console.log("[TRADE DEBUG] user:",i),console.log("[TRADE DEBUG] user.user_metadata:",null===i||void 0===i?void 0:i.user_metadata),console.log("[TRADE DEBUG] user.user_metadata.full_name:",null===i||void 0===i||null===(e=i.user_metadata)||void 0===e?void 0:e.full_name);try{const e=null===ee||void 0===ee?void 0:ee.owner_id,t="Oferta de trade: ".concat(C.card_name),r={recipient_id:e,sender_id:null===i||void 0===i?void 0:i.id,card_id:C.id,card_name:C.card_name,type:"trade_offer",text:t,created_at:(new Date).toISOString()},{messageOperations:o}=await Promise.resolve().then(n.bind(n,54)),a=(0,s.A)({},r);a.text&&(a.content=a.text,delete a.text);let l="";try{const{userOperations:e}=await Promise.resolve().then(n.bind(n,54)),t=await e.getUser(i.id);l=(null===t||void 0===t?void 0:t.display_name)||"",console.log("[TRADE DEBUG] display_name do usu\xe1rio:",l)}catch(MA){console.error("[TRADE DEBUG] Erro ao buscar display_name:",MA)}a.sender_name||(a.sender_name=l),await o.sendMessage(a),E(!1),A(null),D("Mensagem de trade enviada com sucesso!")}catch(MA){console.error("[TRADE] Erro ao enviar mensagem:",MA),D("Erro ao enviar mensagem de trade: "+((null===MA||void 0===MA?void 0:MA.message)||MA))}}}),(0,kt.jsx)(L_,{isOpen:K,onClose:()=>{G(!1),Y(null)},card:Q,deckOwnerId:null===ee||void 0===ee?void 0:ee.owner_id,deckOwnerName:$||"Amigo"})]})};var W_=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),H_=r.forwardRef((e,t)=>(0,kt.jsx)(Co.span,(0,s.A)((0,s.A)({},e),{},{ref:t,style:(0,s.A)((0,s.A)({},W_),e.style)})));H_.displayName="VisuallyHidden";const K_=["__scopeSelect","disabled"],G_=["__scopeSelect","className","style","children","placeholder"],Q_=["__scopeSelect","children"],Y_=["__scopeSelect","position","onCloseAutoFocus","onEscapeKeyDown","onPointerDownOutside","side","sideOffset","align","alignOffset","arrowPadding","collisionBoundary","collisionPadding","sticky","hideWhenDetached","avoidCollisions"],$_=["__scopeSelect","onPlaced"],X_=["__scopeSelect","align","collisionPadding"],J_=["__scopeSelect","nonce"],Z_=["__scopeSelect"],eE=["__scopeSelect"],tE=["__scopeSelect","value","disabled","textValue"],nE=["__scopeSelect","className","style"],rE=["__scopeSelect"],oE=["__scopeSelect","onAutoScroll"],aE=["__scopeSelect"],iE=["__scopeSelect"],sE=["__scopeSelect","value"];var lE=[" ","Enter","ArrowUp","ArrowDown"],cE=[" ","Enter"],uE="Select",[dE,hE,fE]=No(uE),[pE,mE]=fo(uE,[fE,us]),gE=us(),[vE,yE]=pE(uE),[bE,wE]=pE(uE),xE=e=>{const{__scopeSelect:t,children:n,open:o,defaultOpen:a,onOpenChange:i,value:l,defaultValue:c,onValueChange:u,dir:d,name:h,autoComplete:f,disabled:p,required:m,form:g}=e,v=gE(t),[y,b]=r.useState(null),[w,x]=r.useState(null),[S,k]=r.useState(!1),_=Io(d),[E,C]=vo({prop:o,defaultProp:null!==a&&void 0!==a&&a,onChange:i,caller:uE}),[A,j]=vo({prop:l,defaultProp:c,onChange:u,caller:uE}),T=r.useRef(null),N=!y||(g||!!y.closest("form")),[D,P]=r.useState(new Set),O=Array.from(D).map(e=>e.props.value).join(";");return(0,kt.jsx)(Cs,(0,s.A)((0,s.A)({},v),{},{children:(0,kt.jsxs)(vE,{required:m,scope:t,trigger:y,onTriggerChange:b,valueNode:w,onValueNodeChange:x,valueNodeHasChildren:S,onValueNodeHasChildrenChange:k,contentId:ca(),value:A,onValueChange:j,open:E,onOpenChange:C,dir:_,triggerPointerDownPosRef:T,disabled:p,children:[(0,kt.jsx)(dE.Provider,{scope:t,children:(0,kt.jsx)(bE,{scope:e.__scopeSelect,onNativeOptionAdd:r.useCallback(e=>{P(t=>new Set(t).add(e))},[]),onNativeOptionRemove:r.useCallback(e=>{P(t=>{const n=new Set(t);return n.delete(e),n})},[]),children:n})}),N?(0,kt.jsxs)(cC,{"aria-hidden":!0,required:m,tabIndex:-1,name:h,autoComplete:f,value:A,onChange:e=>j(e.target.value),disabled:p,form:g,children:[void 0===A?(0,kt.jsx)("option",{value:""}):null,Array.from(D)]},O):null]})}))};xE.displayName=uE;var SE="SelectTrigger",kE=r.forwardRef((e,t)=>{const{__scopeSelect:n,disabled:o=!1}=e,a=i(e,K_),l=gE(n),c=yE(SE,n),u=c.disabled||o,d=co(t,c.onTriggerChange),h=hE(n),f=r.useRef("touch"),[p,m,g]=dC(e=>{const t=h().filter(e=>!e.disabled),n=t.find(e=>e.value===c.value),r=hC(t,e,n);void 0!==r&&c.onValueChange(r.value)}),v=e=>{u||(c.onOpenChange(!0),g()),e&&(c.triggerPointerDownPosRef.current={x:Math.round(e.pageX),y:Math.round(e.pageY)})};return(0,kt.jsx)(As,(0,s.A)((0,s.A)({asChild:!0},l),{},{children:(0,kt.jsx)(Co.button,(0,s.A)((0,s.A)({type:"button",role:"combobox","aria-controls":c.contentId,"aria-expanded":c.open,"aria-required":c.required,"aria-autocomplete":"none",dir:c.dir,"data-state":c.open?"open":"closed",disabled:u,"data-disabled":u?"":void 0,"data-placeholder":uC(c.value)?"":void 0},a),{},{ref:d,onClick:io(a.onClick,e=>{e.currentTarget.focus(),"mouse"!==f.current&&v(e)}),onPointerDown:io(a.onPointerDown,e=>{f.current=e.pointerType;const t=e.target;t.hasPointerCapture(e.pointerId)&&t.releasePointerCapture(e.pointerId),0===e.button&&!1===e.ctrlKey&&"mouse"===e.pointerType&&(v(e),e.preventDefault())}),onKeyDown:io(a.onKeyDown,e=>{const t=""!==p.current;e.ctrlKey||e.altKey||e.metaKey||1!==e.key.length||m(e.key),t&&" "===e.key||lE.includes(e.key)&&(v(),e.preventDefault())})}))}))});kE.displayName=SE;var _E="SelectValue",EE=r.forwardRef((e,t)=>{const{__scopeSelect:n,className:r,style:o,children:a,placeholder:l=""}=e,c=i(e,G_),u=yE(_E,n),{onValueNodeHasChildrenChange:d}=u,h=void 0!==a,f=co(t,u.onValueNodeChange);return mo(()=>{d(h)},[d,h]),(0,kt.jsx)(Co.span,(0,s.A)((0,s.A)({},c),{},{ref:f,style:{pointerEvents:"none"},children:uC(u.value)?(0,kt.jsx)(kt.Fragment,{children:l}):a}))});EE.displayName=_E;var CE=r.forwardRef((e,t)=>{const{__scopeSelect:n,children:r}=e,o=i(e,Q_);return(0,kt.jsx)(Co.span,(0,s.A)((0,s.A)({"aria-hidden":!0},o),{},{ref:t,children:r||"\u25bc"}))});CE.displayName="SelectIcon";var AE=e=>(0,kt.jsx)(Ds,(0,s.A)({asChild:!0},e));AE.displayName="SelectPortal";var jE="SelectContent",TE=r.forwardRef((e,t)=>{const n=yE(jE,e.__scopeSelect),[o,a]=r.useState();if(mo(()=>{a(new DocumentFragment)},[]),!n.open){const t=o;return t?yo.createPortal((0,kt.jsx)(DE,{scope:e.__scopeSelect,children:(0,kt.jsx)(dE.Slot,{scope:e.__scopeSelect,children:(0,kt.jsx)("div",{children:e.children})})}),t):null}return(0,kt.jsx)(RE,(0,s.A)((0,s.A)({},e),{},{ref:t}))});TE.displayName=jE;var NE=10,[DE,PE]=pE(jE),OE=xo("SelectContent.RemoveScroll"),RE=r.forwardRef((e,t)=>{const{__scopeSelect:n,position:o="item-aligned",onCloseAutoFocus:a,onEscapeKeyDown:l,onPointerDownOutside:c,side:u,sideOffset:d,align:h,alignOffset:f,arrowPadding:p,collisionBoundary:m,collisionPadding:g,sticky:v,hideWhenDetached:y,avoidCollisions:b}=e,w=i(e,Y_),x=yE(jE,n),[S,k]=r.useState(null),[_,E]=r.useState(null),C=co(t,e=>k(e)),[A,j]=r.useState(null),[T,N]=r.useState(null),D=hE(n),[P,O]=r.useState(!1),R=r.useRef(!1);r.useEffect(()=>{if(S)return sl(S)},[S]),Qo();const I=r.useCallback(e=>{const[t,...n]=D().map(e=>e.ref.current),[r]=n.slice(-1),o=document.activeElement;for(const a of e){if(a===o)return;if(null===a||void 0===a||a.scrollIntoView({block:"nearest"}),a===t&&_&&(_.scrollTop=0),a===r&&_&&(_.scrollTop=_.scrollHeight),null===a||void 0===a||a.focus(),document.activeElement!==o)return}},[D,_]),M=r.useCallback(()=>I([A,S]),[I,A,S]);r.useEffect(()=>{P&&M()},[P,M]);const{onOpenChange:F,triggerPointerDownPosRef:L}=x;r.useEffect(()=>{if(S){let e={x:0,y:0};const t=t=>{var n,r,o,a;e={x:Math.abs(Math.round(t.pageX)-(null!==(n=null===(r=L.current)||void 0===r?void 0:r.x)&&void 0!==n?n:0)),y:Math.abs(Math.round(t.pageY)-(null!==(o=null===(a=L.current)||void 0===a?void 0:a.y)&&void 0!==o?o:0))}},n=n=>{e.x<=10&&e.y<=10?n.preventDefault():S.contains(n.target)||F(!1),document.removeEventListener("pointermove",t),L.current=null};return null!==L.current&&(document.addEventListener("pointermove",t),document.addEventListener("pointerup",n,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",t),document.removeEventListener("pointerup",n,{capture:!0})}}},[S,F,L]),r.useEffect(()=>{const e=()=>F(!1);return window.addEventListener("blur",e),window.addEventListener("resize",e),()=>{window.removeEventListener("blur",e),window.removeEventListener("resize",e)}},[F]);const[U,z]=dC(e=>{const t=D().filter(e=>!e.disabled),n=t.find(e=>e.ref.current===document.activeElement),r=hC(t,e,n);r&&setTimeout(()=>r.ref.current.focus())}),B=r.useCallback((e,t,n)=>{const r=!R.current&&!n;(void 0!==x.value&&x.value===t||r)&&(j(e),r&&(R.current=!0))},[x.value]),q=r.useCallback(()=>null===S||void 0===S?void 0:S.focus(),[S]),V=r.useCallback((e,t,n)=>{const r=!R.current&&!n;(void 0!==x.value&&x.value===t||r)&&N(e)},[x.value]),W="popper"===o?ME:IE,H=W===ME?{side:u,sideOffset:d,align:h,alignOffset:f,arrowPadding:p,collisionBoundary:m,collisionPadding:g,sticky:v,hideWhenDetached:y,avoidCollisions:b}:{};return(0,kt.jsx)(DE,{scope:n,content:S,viewport:_,onViewportChange:E,itemRefCallback:B,selectedItem:A,onItemLeave:q,itemTextRefCallback:V,focusSelectedItem:M,selectedItemText:T,position:o,isPositioned:P,searchRef:U,children:(0,kt.jsx)($l,{as:OE,allowPinchZoom:!0,children:(0,kt.jsx)(ea,{asChild:!0,trapped:x.open,onMountAutoFocus:e=>{e.preventDefault()},onUnmountAutoFocus:io(a,e=>{var t;null===(t=x.trigger)||void 0===t||t.focus({preventScroll:!0}),e.preventDefault()}),children:(0,kt.jsx)(Vo,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:l,onPointerDownOutside:c,onFocusOutside:e=>e.preventDefault(),onDismiss:()=>x.onOpenChange(!1),children:(0,kt.jsx)(W,(0,s.A)((0,s.A)((0,s.A)({role:"listbox",id:x.contentId,"data-state":x.open?"open":"closed",dir:x.dir,onContextMenu:e=>e.preventDefault()},w),H),{},{onPlaced:()=>O(!0),ref:C,style:(0,s.A)({display:"flex",flexDirection:"column",outline:"none"},w.style),onKeyDown:io(w.onKeyDown,e=>{const t=e.ctrlKey||e.altKey||e.metaKey;if("Tab"===e.key&&e.preventDefault(),t||1!==e.key.length||z(e.key),["ArrowUp","ArrowDown","Home","End"].includes(e.key)){let t=D().filter(e=>!e.disabled).map(e=>e.ref.current);if(["ArrowUp","End"].includes(e.key)&&(t=t.slice().reverse()),["ArrowUp","ArrowDown"].includes(e.key)){const n=e.target,r=t.indexOf(n);t=t.slice(r+1)}setTimeout(()=>I(t)),e.preventDefault()}})}))})})})})});RE.displayName="SelectContentImpl";var IE=r.forwardRef((e,t)=>{const{__scopeSelect:n,onPlaced:o}=e,a=i(e,$_),l=yE(jE,n),c=PE(jE,n),[u,d]=r.useState(null),[h,f]=r.useState(null),p=co(t,e=>f(e)),m=hE(n),g=r.useRef(!1),v=r.useRef(!0),{viewport:y,selectedItem:b,selectedItemText:w,focusSelectedItem:x}=c,S=r.useCallback(()=>{if(l.trigger&&l.valueNode&&u&&h&&y&&b&&w){const e=l.trigger.getBoundingClientRect(),t=h.getBoundingClientRect(),n=l.valueNode.getBoundingClientRect(),r=w.getBoundingClientRect();if("rtl"!==l.dir){const o=r.left-t.left,a=n.left-o,i=e.left-a,s=e.width+i,l=Math.max(s,t.width),c=window.innerWidth-NE,d=Pw(a,[NE,Math.max(NE,c-l)]);u.style.minWidth=s+"px",u.style.left=d+"px"}else{const o=t.right-r.right,a=window.innerWidth-n.right-o,i=window.innerWidth-e.right-a,s=e.width+i,l=Math.max(s,t.width),c=window.innerWidth-NE,d=Pw(a,[NE,Math.max(NE,c-l)]);u.style.minWidth=s+"px",u.style.right=d+"px"}const a=m(),i=window.innerHeight-2*NE,s=y.scrollHeight,c=window.getComputedStyle(h),d=parseInt(c.borderTopWidth,10),f=parseInt(c.paddingTop,10),p=parseInt(c.borderBottomWidth,10),v=d+f+s+parseInt(c.paddingBottom,10)+p,x=Math.min(5*b.offsetHeight,v),S=window.getComputedStyle(y),k=parseInt(S.paddingTop,10),_=parseInt(S.paddingBottom,10),E=e.top+e.height/2-NE,C=i-E,A=b.offsetHeight/2,j=d+f+(b.offsetTop+A),T=v-j;if(j<=E){const e=a.length>0&&b===a[a.length-1].ref.current;u.style.bottom="0px";const t=h.clientHeight-y.offsetTop-y.offsetHeight,n=j+Math.max(C,A+(e?_:0)+t+p);u.style.height=n+"px"}else{const e=a.length>0&&b===a[0].ref.current;u.style.top="0px";const t=Math.max(E,d+y.offsetTop+(e?k:0)+A)+T;u.style.height=t+"px",y.scrollTop=j-E+y.offsetTop}u.style.margin="".concat(NE,"px 0"),u.style.minHeight=x+"px",u.style.maxHeight=i+"px",null===o||void 0===o||o(),requestAnimationFrame(()=>g.current=!0)}},[m,l.trigger,l.valueNode,u,h,y,b,w,l.dir,o]);mo(()=>S(),[S]);const[k,_]=r.useState();mo(()=>{h&&_(window.getComputedStyle(h).zIndex)},[h]);const E=r.useCallback(e=>{e&&!0===v.current&&(S(),null===x||void 0===x||x(),v.current=!1)},[S,x]);return(0,kt.jsx)(FE,{scope:n,contentWrapper:u,shouldExpandOnScrollRef:g,onScrollButtonChange:E,children:(0,kt.jsx)("div",{ref:d,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:k},children:(0,kt.jsx)(Co.div,(0,s.A)((0,s.A)({},a),{},{ref:p,style:(0,s.A)({boxSizing:"border-box",maxHeight:"100%"},a.style)}))})})});IE.displayName="SelectItemAlignedPosition";var ME=r.forwardRef((e,t)=>{const{__scopeSelect:n,align:r="start",collisionPadding:o=NE}=e,a=i(e,X_),l=gE(n);return(0,kt.jsx)(js,(0,s.A)((0,s.A)((0,s.A)({},l),a),{},{ref:t,align:r,collisionPadding:o,style:(0,s.A)((0,s.A)({boxSizing:"border-box"},a.style),{"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"})}))});ME.displayName="SelectPopperPosition";var[FE,LE]=pE(jE,{}),UE="SelectViewport",zE=r.forwardRef((e,t)=>{const{__scopeSelect:n,nonce:o}=e,a=i(e,J_),l=PE(UE,n),c=LE(UE,n),u=co(t,l.onViewportChange),d=r.useRef(0);return(0,kt.jsxs)(kt.Fragment,{children:[(0,kt.jsx)("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:o}),(0,kt.jsx)(dE.Slot,{scope:n,children:(0,kt.jsx)(Co.div,(0,s.A)((0,s.A)({"data-radix-select-viewport":"",role:"presentation"},a),{},{ref:u,style:(0,s.A)({position:"relative",flex:1,overflow:"hidden auto"},a.style),onScroll:io(a.onScroll,e=>{const t=e.currentTarget,{contentWrapper:n,shouldExpandOnScrollRef:r}=c;if(null!==r&&void 0!==r&&r.current&&n){const e=Math.abs(d.current-t.scrollTop);if(e>0){const r=window.innerHeight-2*NE,o=parseFloat(n.style.minHeight),a=parseFloat(n.style.height),i=Math.max(o,a);if(i<r){const o=i+e,a=Math.min(r,o),s=o-a;n.style.height=a+"px","0px"===n.style.bottom&&(t.scrollTop=s>0?s:0,n.style.justifyContent="flex-end")}}}d.current=t.scrollTop})}))})]})});zE.displayName=UE;var BE="SelectGroup",[qE,VE]=pE(BE),WE=r.forwardRef((e,t)=>{const{__scopeSelect:n}=e,r=i(e,Z_),o=ca();return(0,kt.jsx)(qE,{scope:n,id:o,children:(0,kt.jsx)(Co.div,(0,s.A)((0,s.A)({role:"group","aria-labelledby":o},r),{},{ref:t}))})});WE.displayName=BE;var HE="SelectLabel",KE=r.forwardRef((e,t)=>{const{__scopeSelect:n}=e,r=i(e,eE),o=VE(HE,n);return(0,kt.jsx)(Co.div,(0,s.A)((0,s.A)({id:o.id},r),{},{ref:t}))});KE.displayName=HE;var GE="SelectItem",[QE,YE]=pE(GE),$E=r.forwardRef((e,t)=>{const{__scopeSelect:n,value:o,disabled:a=!1,textValue:l}=e,c=i(e,tE),u=yE(GE,n),d=PE(GE,n),h=u.value===o,[f,p]=r.useState(null!==l&&void 0!==l?l:""),[m,g]=r.useState(!1),v=co(t,e=>{var t;return null===(t=d.itemRefCallback)||void 0===t?void 0:t.call(d,e,o,a)}),y=ca(),b=r.useRef("touch"),w=()=>{a||(u.onValueChange(o),u.onOpenChange(!1))};if(""===o)throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return(0,kt.jsx)(QE,{scope:n,value:o,disabled:a,textId:y,isSelected:h,onItemTextChange:r.useCallback(e=>{p(t=>{var n;return t||(null!==(n=null===e||void 0===e?void 0:e.textContent)&&void 0!==n?n:"").trim()})},[]),children:(0,kt.jsx)(dE.ItemSlot,{scope:n,value:o,disabled:a,textValue:f,children:(0,kt.jsx)(Co.div,(0,s.A)((0,s.A)({role:"option","aria-labelledby":y,"data-highlighted":m?"":void 0,"aria-selected":h&&m,"data-state":h?"checked":"unchecked","aria-disabled":a||void 0,"data-disabled":a?"":void 0,tabIndex:a?void 0:-1},c),{},{ref:v,onFocus:io(c.onFocus,()=>g(!0)),onBlur:io(c.onBlur,()=>g(!1)),onClick:io(c.onClick,()=>{"mouse"!==b.current&&w()}),onPointerUp:io(c.onPointerUp,()=>{"mouse"===b.current&&w()}),onPointerDown:io(c.onPointerDown,e=>{b.current=e.pointerType}),onPointerMove:io(c.onPointerMove,e=>{var t;(b.current=e.pointerType,a)?null===(t=d.onItemLeave)||void 0===t||t.call(d):"mouse"===b.current&&e.currentTarget.focus({preventScroll:!0})}),onPointerLeave:io(c.onPointerLeave,e=>{var t;e.currentTarget===document.activeElement&&(null===(t=d.onItemLeave)||void 0===t||t.call(d))}),onKeyDown:io(c.onKeyDown,e=>{var t;""!==(null===(t=d.searchRef)||void 0===t?void 0:t.current)&&" "===e.key||(cE.includes(e.key)&&w()," "===e.key&&e.preventDefault())})}))})})});$E.displayName=GE;var XE="SelectItemText",JE=r.forwardRef((e,t)=>{const{__scopeSelect:n,className:o,style:a}=e,l=i(e,nE),c=yE(XE,n),u=PE(XE,n),d=YE(XE,n),h=wE(XE,n),[f,p]=r.useState(null),m=co(t,e=>p(e),d.onItemTextChange,e=>{var t;return null===(t=u.itemTextRefCallback)||void 0===t?void 0:t.call(u,e,d.value,d.disabled)}),g=null===f||void 0===f?void 0:f.textContent,v=r.useMemo(()=>(0,kt.jsx)("option",{value:d.value,disabled:d.disabled,children:g},d.value),[d.disabled,d.value,g]),{onNativeOptionAdd:y,onNativeOptionRemove:b}=h;return mo(()=>(y(v),()=>b(v)),[y,b,v]),(0,kt.jsxs)(kt.Fragment,{children:[(0,kt.jsx)(Co.span,(0,s.A)((0,s.A)({id:d.textId},l),{},{ref:m})),d.isSelected&&c.valueNode&&!c.valueNodeHasChildren?yo.createPortal(l.children,c.valueNode):null]})});JE.displayName=XE;var ZE="SelectItemIndicator",eC=r.forwardRef((e,t)=>{const{__scopeSelect:n}=e,r=i(e,rE);return YE(ZE,n).isSelected?(0,kt.jsx)(Co.span,(0,s.A)((0,s.A)({"aria-hidden":!0},r),{},{ref:t})):null});eC.displayName=ZE;var tC="SelectScrollUpButton",nC=r.forwardRef((e,t)=>{const n=PE(tC,e.__scopeSelect),o=LE(tC,e.__scopeSelect),[a,i]=r.useState(!1),l=co(t,o.onScrollButtonChange);return mo(()=>{if(n.viewport&&n.isPositioned){let e=function(){const e=t.scrollTop>0;i(e)};const t=n.viewport;return e(),t.addEventListener("scroll",e),()=>t.removeEventListener("scroll",e)}},[n.viewport,n.isPositioned]),a?(0,kt.jsx)(aC,(0,s.A)((0,s.A)({},e),{},{ref:l,onAutoScroll:()=>{const{viewport:e,selectedItem:t}=n;e&&t&&(e.scrollTop=e.scrollTop-t.offsetHeight)}})):null});nC.displayName=tC;var rC="SelectScrollDownButton",oC=r.forwardRef((e,t)=>{const n=PE(rC,e.__scopeSelect),o=LE(rC,e.__scopeSelect),[a,i]=r.useState(!1),l=co(t,o.onScrollButtonChange);return mo(()=>{if(n.viewport&&n.isPositioned){let e=function(){const e=t.scrollHeight-t.clientHeight,n=Math.ceil(t.scrollTop)<e;i(n)};const t=n.viewport;return e(),t.addEventListener("scroll",e),()=>t.removeEventListener("scroll",e)}},[n.viewport,n.isPositioned]),a?(0,kt.jsx)(aC,(0,s.A)((0,s.A)({},e),{},{ref:l,onAutoScroll:()=>{const{viewport:e,selectedItem:t}=n;e&&t&&(e.scrollTop=e.scrollTop+t.offsetHeight)}})):null});oC.displayName=rC;var aC=r.forwardRef((e,t)=>{const{__scopeSelect:n,onAutoScroll:o}=e,a=i(e,oE),l=PE("SelectScrollButton",n),c=r.useRef(null),u=hE(n),d=r.useCallback(()=>{null!==c.current&&(window.clearInterval(c.current),c.current=null)},[]);return r.useEffect(()=>()=>d(),[d]),mo(()=>{var e;const t=u().find(e=>e.ref.current===document.activeElement);null===t||void 0===t||null===(e=t.ref.current)||void 0===e||e.scrollIntoView({block:"nearest"})},[u]),(0,kt.jsx)(Co.div,(0,s.A)((0,s.A)({"aria-hidden":!0},a),{},{ref:t,style:(0,s.A)({flexShrink:0},a.style),onPointerDown:io(a.onPointerDown,()=>{null===c.current&&(c.current=window.setInterval(o,50))}),onPointerMove:io(a.onPointerMove,()=>{var e;null===(e=l.onItemLeave)||void 0===e||e.call(l),null===c.current&&(c.current=window.setInterval(o,50))}),onPointerLeave:io(a.onPointerLeave,()=>{d()})}))}),iC=r.forwardRef((e,t)=>{const{__scopeSelect:n}=e,r=i(e,aE);return(0,kt.jsx)(Co.div,(0,s.A)((0,s.A)({"aria-hidden":!0},r),{},{ref:t}))});iC.displayName="SelectSeparator";var sC="SelectArrow",lC=r.forwardRef((e,t)=>{const{__scopeSelect:n}=e,r=i(e,iE),o=gE(n),a=yE(sC,n),l=PE(sC,n);return a.open&&"popper"===l.position?(0,kt.jsx)(Ts,(0,s.A)((0,s.A)((0,s.A)({},o),r),{},{ref:t})):null});lC.displayName=sC;var cC=r.forwardRef((e,t)=>{let{__scopeSelect:n,value:o}=e,a=i(e,sE);const l=r.useRef(null),c=co(t,l),u=function(e){const t=r.useRef({value:e,previous:e});return r.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}(o);return r.useEffect(()=>{const e=l.current;if(!e)return;const t=window.HTMLSelectElement.prototype,n=Object.getOwnPropertyDescriptor(t,"value").set;if(u!==o&&n){const t=new Event("change",{bubbles:!0});n.call(e,o),e.dispatchEvent(t)}},[u,o]),(0,kt.jsx)(Co.select,(0,s.A)((0,s.A)({},a),{},{style:(0,s.A)((0,s.A)({},W_),a.style),ref:c,defaultValue:o}))});function uC(e){return""===e||void 0===e}function dC(e){const t=Mo(e),n=r.useRef(""),o=r.useRef(0),a=r.useCallback(e=>{const r=n.current+e;t(r),function e(t){n.current=t,window.clearTimeout(o.current),""!==t&&(o.current=window.setTimeout(()=>e(""),1e3))}(r)},[t]),i=r.useCallback(()=>{n.current="",window.clearTimeout(o.current)},[]);return r.useEffect(()=>()=>window.clearTimeout(o.current),[]),[n,a,i]}function hC(e,t,n){const r=t.length>1&&Array.from(t).every(e=>e===t[0])?t[0]:t,o=n?e.indexOf(n):-1;let a=(i=e,s=Math.max(o,0),i.map((e,t)=>i[(s+t)%i.length]));var i,s;1===r.length&&(a=a.filter(e=>e!==n));const l=a.find(e=>e.textValue.toLowerCase().startsWith(r.toLowerCase()));return l!==n?l:void 0}cC.displayName="SelectBubbleInput";var fC=kE,pC=AE,mC=TE,gC=zE,vC=$E,yC=JE;function bC(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.filter(Boolean).join(" ")}const wC=["className"],xC=["className","children","position"],SC=["className","children"],kC=xE,_C=EE,EC=r.forwardRef((e,t)=>{let{className:n}=e,r=i(e,wC);return(0,kt.jsx)(fC,(0,s.A)({ref:t,className:bC("flex w-full items-center justify-between rounded-md border border-gray-700 bg-gray-800 px-3 py-2 text-sm text-white focus:outline-none focus:ring-2 focus:ring-orange-500",n)},r))});EC.displayName=fC.displayName;const CC=r.forwardRef((e,t)=>{let{className:n,children:r,position:o="popper"}=e,a=i(e,xC);return(0,kt.jsx)(pC,{children:(0,kt.jsx)(mC,(0,s.A)((0,s.A)({ref:t,position:o,className:bC("relative z-[9999] min-w-[8rem] overflow-hidden rounded-md border border-gray-700 bg-gray-800 text-white shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2","popper"===o&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",n)},a),{},{children:(0,kt.jsx)(gC,{className:bC("p-1","popper"===o&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:r})}))})});CC.displayName=mC.displayName;const AC=r.forwardRef((e,t)=>{let{className:n,children:r}=e,o=i(e,SC);return(0,kt.jsx)(vC,(0,s.A)((0,s.A)({ref:t,className:bC("relative flex w-full cursor-pointer select-none items-center rounded-sm px-3 py-2 text-sm text-white outline-none hover:bg-gray-700 focus:bg-gray-700",n)},o),{},{children:(0,kt.jsx)(yC,{children:r})}))});AC.displayName=vC.displayName;const jC=()=>{var e;const t=he(),n=ce(),[o]=St(),{isOnline:a,canSaveData:i}=Fr(),s=Et(),[l,c]=(0,r.useState)(""),[u,d]=(0,r.useState)("commander"),[h,f]=(0,r.useState)(""),[p,m]=(0,r.useState)(!1),g=null===(e=n.state)||void 0===e?void 0:e.cardToAdd;(0,r.useEffect)(()=>{f(i?"":"Cria\xe7\xe3o de decks n\xe3o dispon\xedvel offline. Conecte-se \xe0 internet.")},[i]),(0,r.useEffect)(()=>{h&&console.error("\u274c Erro na cria\xe7\xe3o:",h)},[h]);const[v,y]=(0,r.useState)(!1),[b,w]=(0,r.useState)(!1);return(0,r.useEffect)(()=>{(async()=>{const{data:{user:e}}=await xt.ND.auth.getUser();w(!!e),y(!0)})()},[]),v?b?(0,kt.jsxs)("div",{className:"h-screen w-screen bg-gradient-to-br from-gray-900 to-black text-white flex flex-col",children:[(0,kt.jsxs)("div",{className:"flex items-center justify-between gap-2 p-4",children:[(0,kt.jsx)("button",{onClick:()=>t(-1),className:"text-orange-500 hover:text-orange-400",children:"\u2190 Voltar"}),(0,kt.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,kt.jsx)("div",{className:"w-2 h-2 rounded-full ".concat(a?"bg-green-400":"bg-red-400")}),(0,kt.jsx)("span",{className:"text-sm",children:a?"Online":"Offline"})]})]}),(0,kt.jsxs)("div",{className:"flex flex-col items-center text-center px-6",children:[(0,kt.jsx)("h1",{className:"text-2xl font-bold",children:"Criar Novo Deck"}),(0,kt.jsx)("p",{className:"text-gray-400 mt-1",children:"Preencha as informa\xe7\xf5es do seu deck"}),g&&(0,kt.jsx)("div",{className:"mt-4 bg-orange-500/20 border border-orange-500 rounded-lg px-4 py-2",children:(0,kt.jsxs)("p",{className:"text-sm text-orange-300",children:["\ud83c\udfb4 A carta ",(0,kt.jsx)("span",{className:"font-bold",children:g.card_name})," ser\xe1 adicionada ao deck"]})}),!i&&(0,kt.jsx)("div",{className:"mt-4 bg-red-500/20 border border-red-500 rounded-lg px-4 py-2",children:(0,kt.jsx)("p",{className:"text-sm text-red-300",children:"\u26a0\ufe0f Cria\xe7\xe3o de decks indispon\xedvel offline. Conecte-se \xe0 internet."})}),h&&(0,kt.jsx)("div",{className:"mt-4 bg-red-900/50 border border-red-500 text-red-200 px-4 py-3 rounded",children:h})]}),(0,kt.jsx)("div",{className:"flex-1 flex items-center justify-center px-6",children:(0,kt.jsxs)("form",{onSubmit:async e=>{if(e.preventDefault(),l&&u)if(i){m(!0),f("");try{console.log("\ud83d\udd27 Criando deck online...");const{data:{user:e},error:r}=await xt.ND.auth.getUser();if(r||!e)throw new Error("Usu\xe1rio n\xe3o autenticado no Supabase. Fa\xe7a login novamente.");if(console.log("\ud83d\udc64 Usu\xe1rio autenticado:",e.email,"ID:",e.id),"Cole\xe7\xe3o de cartas"===u||"Trades"===u){console.log("\ud83d\udd0d Verificando duplicata de formato especial:",u);const{data:n,error:r}=await xt.ND.from("decks").select("id, name, format").eq("owner_id",e.id).eq("format",u);if(r&&console.error("\u274c Erro ao verificar duplicata:",r),n&&n.length>0){const e="Cole\xe7\xe3o de cartas"===u?"Voc\xea j\xe1 tem uma Cole\xe7\xe3o de cartas criada":"Voc\xea j\xe1 tem um deck de Trades criado";return console.log("\u26a0\ufe0f Formato especial duplicado detectado:",n[0]),void t("/",{state:{message:e,type:"warning"}})}}const o=await zr.deckOperations.createDeck({name:l,format:u,owner_id:e.id,cover_image_url:(n=null===g||void 0===g?void 0:g.image_url,(n?n.includes("/normal/")?n.replace("/normal/","/art_crop/"):n:null)||"")});if(console.log("\u2705 Deck criado online com sucesso:"),console.log("   ID:",o.id),console.log("   Nome:",o.name),console.log("   Formato:",o.format),console.log("   Owner ID:",o.owner_id),console.log("   Deck completo:",o),null!==g&&void 0!==g&&g.image_url&&console.log("\ud83c\udfa8 Capa do deck definida:",g.image_url),await s.invalidateQueries({queryKey:["decks"]}),console.log("\ud83d\udd04 Cache de decks invalidado"),await s.refetchQueries({queryKey:["decks"]}),console.log("\ud83d\udd04 Decks recarregados"),"Cole\xe7\xe3o de cartas"===u)return console.log("\ud83d\udcda Redirecionando para p\xe1gina Collection"),await new Promise(e=>setTimeout(e,2e3)),void t("/collection");if(g&&o.id){console.log("\ud83c\udfaf Redirecionando para deck com carta:",g.card_name);const e={id:g.scryfall_id,name:g.card_name,image_uris:g.image_url?{normal:g.image_url}:void 0,card_faces:g.card_faces||void 0,mana_cost:g.mana_cost||"",type_line:g.type_line||"",oracle_text:g.oracle_text||""};console.log("\ud83d\udce4 Dados enviados para Deckbuilder:",e),t("/deckbuilder/".concat(o.id),{state:{addCard:e}})}else t("/deckbuilder/".concat(o.id))}catch(h){console.error("\u274c Erro ao criar deck:",h),f(h.message||"Erro ao criar deck. Tente novamente.")}finally{m(!1)}var n}else f("N\xe3o \xe9 poss\xedvel criar decks offline. Conecte-se \xe0 internet.")},className:"w-full max-w-md space-y-6",children:[(0,kt.jsxs)("div",{children:[(0,kt.jsx)("label",{className:"block text-sm font-medium mb-2",children:"Nome do Deck"}),(0,kt.jsx)("input",{type:"text",value:l,onChange:e=>c(e.target.value),className:"w-full px-3 py-2 bg-gray-800 border border-gray-600 rounded-md text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-orange-500",placeholder:"Digite o nome do deck...",required:!0,disabled:!i||p})]}),(0,kt.jsxs)("div",{children:[(0,kt.jsx)("label",{className:"block text-sm font-medium mb-2",children:"Formato"}),(0,kt.jsxs)(kC,{value:u,onValueChange:d,disabled:!i||p,children:[(0,kt.jsx)(EC,{className:"w-full bg-gray-800 border-gray-600",children:(0,kt.jsx)(_C,{placeholder:"Selecione o formato"})}),(0,kt.jsxs)(CC,{className:"bg-gray-800 border-gray-600 max-h-[300px] overflow-y-auto",position:"popper",side:"bottom",align:"start",sideOffset:5,avoidCollisions:!1,children:[(0,kt.jsx)(AC,{value:"commander",children:"Commander"}),(0,kt.jsx)(AC,{value:"commander 300",children:"Commander 300"}),(0,kt.jsx)(AC,{value:"commander 500",children:"Commander 500"}),(0,kt.jsx)(AC,{value:"standard",children:"Standard"}),(0,kt.jsx)(AC,{value:"modern",children:"Modern"}),(0,kt.jsx)(AC,{value:"legacy",children:"Legacy"}),(0,kt.jsx)(AC,{value:"vintage",children:"Vintage"}),(0,kt.jsx)(AC,{value:"pauper",children:"Pauper"}),(0,kt.jsx)(AC,{value:"historic",children:"Historic"}),(0,kt.jsx)(AC,{value:"pioneer",children:"Pioneer"}),(0,kt.jsx)(AC,{value:"alchemy",children:"Alchemy"}),(0,kt.jsx)(AC,{value:"brawl",children:"Brawl"}),(0,kt.jsx)(AC,{value:"casual",children:"Casual"}),(0,kt.jsx)(AC,{value:"Cole\xe7\xe3o de cartas",children:"Cole\xe7\xe3o de cartas"}),(0,kt.jsx)(AC,{value:"Trades",children:"Trades"})]})]})]}),(0,kt.jsx)("button",{type:"submit",disabled:!l||!u||!i||p,className:"w-full bg-orange-600 hover:bg-orange-700 disabled:bg-gray-600 disabled:cursor-not-allowed text-white py-2 px-4 rounded-md font-medium transition-colors",children:p?"Criando...":"Criar Deck"})]})})]}):(0,kt.jsx)("div",{className:"h-screen w-screen bg-gradient-to-br from-gray-900 to-black text-white flex items-center justify-center",children:(0,kt.jsxs)("div",{className:"text-center",children:[(0,kt.jsx)("p",{className:"text-red-400 mb-4",children:"Voc\xea precisa estar logado para criar decks"}),(0,kt.jsx)("button",{onClick:()=>t("/"),className:"bg-blue-600 hover:bg-blue-700 px-4 py-2 rounded",children:"Voltar para Home"})]})}):(0,kt.jsx)("div",{className:"h-screen w-screen bg-gradient-to-br from-gray-900 to-black text-white flex items-center justify-center",children:(0,kt.jsxs)("div",{className:"text-center",children:[(0,kt.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-400 mx-auto mb-4"}),(0,kt.jsx)("p",{children:"Verificando autentica\xe7\xe3o..."})]})})},TC=()=>{const e=he(),[t,n]=St(),[o,a]=(0,r.useState)(""),[i,s]=(0,r.useState)(""),[l,c]=(0,r.useState)(""),[u,d]=(0,r.useState)(!1),[h,f]=(0,r.useState)(!1);if((0,r.useEffect)(()=>{if(new URLSearchParams(window.location.hash.substring(1)).get("access_token")){console.log("\ud83d\udd04 OAuth callback detectado em LoginPage"),f(!0);const e=setTimeout(()=>{console.log("\u23f1\ufe0f Timeout de OAuth - desativando loading"),f(!1)},5e3);return()=>clearTimeout(e)}},[]),(0,r.useEffect)(()=>{t&&!n&&(console.log("\u2705 Usu\xe1rio j\xe1 logado, redirecionando para home...",null===t||void 0===t?void 0:t.email),f(!1),e("/",{replace:!0}))},[t,n,e]),n||h)return(0,kt.jsx)("div",{className:"flex items-center justify-center h-screen bg-gray-900 text-white",children:(0,kt.jsxs)("div",{className:"text-center",children:[(0,kt.jsx)("img",{src:"/logo192.png",alt:"Logo",className:"mx-auto mb-6 w-24 h-24"}),(0,kt.jsx)("div",{className:"mb-4 text-xl font-bold",children:"Autenticando..."}),(0,kt.jsx)("div",{className:"text-sm text-gray-400",children:"Processando login..."})]})});return(0,kt.jsx)("div",{className:"min-h-screen bg-gray-900 flex items-center justify-center p-4",children:(0,kt.jsxs)("div",{className:"w-full max-w-md p-8 bg-gray-800 rounded-2xl shadow-2xl border border-gray-700",children:[(0,kt.jsxs)("div",{className:"flex flex-col items-center mb-6",children:[(0,kt.jsx)("img",{src:"/logo192.png",alt:"Logo",className:"w-16 h-16 mb-3"}),(0,kt.jsx)("h1",{className:"text-3xl font-bold text-white mb-1",children:"Entrar"}),(0,kt.jsx)("p",{className:"text-gray-400 text-sm",children:"Acesse sua conta"})]}),(0,kt.jsxs)("form",{onSubmit:async t=>{t.preventDefault(),c(""),d(!0);try{console.log("\ud83d\udd10 Iniciando login...");const t=await async function(e,t){console.log("\ud83d\udd10 Tentando fazer login com:",e);const{data:n,error:r}=await xt.ND.auth.signInWithPassword({email:e,password:t});if(r)throw console.error("\u274c Erro no login:",r),r;if(n.user){var o,a,i;return console.log("\u2705 Login realizado com sucesso:",n.user.email),{uid:n.user.id,email:n.user.email,displayName:(null===(o=n.user.user_metadata)||void 0===o?void 0:o.display_name)||(null===(a=n.user.user_metadata)||void 0===a?void 0:a.full_name)||"",photoURL:(null===(i=n.user.user_metadata)||void 0===i?void 0:i.avatar_url)||null}}throw new Error("Erro ao fazer login")}(o,i);console.log("\u2705 Login realizado:",t),setTimeout(()=>{e("/",{replace:!0})},500)}catch(MA){console.error("\u274c Erro no login:",MA),c("Falha no login: "+MA.message)}finally{d(!1)}},className:"space-y-4",children:[(0,kt.jsxs)("div",{children:[(0,kt.jsx)("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-300 mb-1",children:"E-mail"}),(0,kt.jsx)("input",{id:"email",type:"email",placeholder:"seu@email.com",value:o,onChange:e=>a(e.target.value),className:"w-full px-4 py-3 bg-gray-700 border border-gray-600 rounded-xl text-white placeholder-gray-400 focus:ring-2 focus:ring-blue-500 focus:border-transparent focus:outline-none transition"})]}),(0,kt.jsxs)("div",{children:[(0,kt.jsx)("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-300 mb-1",children:"Senha"}),(0,kt.jsx)("input",{id:"password",type:"password",placeholder:"\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022",value:i,onChange:e=>s(e.target.value),className:"w-full px-4 py-3 bg-gray-700 border border-gray-600 rounded-xl text-white placeholder-gray-400 focus:ring-2 focus:ring-blue-500 focus:border-transparent focus:outline-none transition"})]}),l&&(0,kt.jsx)("div",{className:"p-3 bg-red-900/20 border border-red-800 rounded-lg",children:(0,kt.jsx)("p",{className:"text-red-400 text-sm text-center",children:l})}),(0,kt.jsx)(th,{type:"submit",disabled:u,className:"w-full bg-blue-600 text-white font-semibold py-3 rounded-xl transition hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed",children:u?"Entrando...":"Entrar"}),(0,kt.jsxs)("div",{className:"relative my-6",children:[(0,kt.jsx)("div",{className:"absolute inset-0 flex items-center",children:(0,kt.jsx)("div",{className:"w-full border-t border-gray-600"})}),(0,kt.jsx)("div",{className:"relative flex justify-center text-sm",children:(0,kt.jsx)("span",{className:"px-2 bg-gray-800 text-gray-400",children:"ou"})})]}),(0,kt.jsxs)(th,{type:"button",onClick:async()=>{c(""),d(!0);try{console.log("\ud83d\udd04 Iniciando login com Google...");const e=await HS();console.log("\u2705 OAuth iniciado:",e)}catch(MA){console.error("\u274c Erro no login Google:",MA),c("Erro no login com Google: "+MA.message),d(!1)}},disabled:u,className:"w-full flex items-center justify-center gap-2 bg-gray-700 border border-gray-600 text-white py-3 rounded-xl transition hover:bg-gray-600",children:[(0,kt.jsx)("img",{src:"https://www.svgrepo.com/show/475656/google-color.svg",alt:"Google",className:"w-5 h-5"}),(0,kt.jsx)("span",{children:"Entrar com Google"})]})]}),(0,kt.jsx)("div",{className:"mt-6 text-center",children:(0,kt.jsxs)("p",{className:"text-gray-400 text-sm",children:["N\xe3o tem uma conta?"," ",(0,kt.jsx)(pt,{to:"/signup",className:"text-blue-400 hover:text-blue-300 font-medium transition",children:"Criar Conta"})]})})]})})},NC=()=>{const e=he(),[t,n]=St(),[o,a]=(0,r.useState)(""),[i,s]=(0,r.useState)(""),[l,c]=(0,r.useState)(""),[u,d]=(0,r.useState)(""),[h,f]=(0,r.useState)(""),[p,m]=(0,r.useState)(""),[g,v]=(0,r.useState)(!1);if((0,r.useEffect)(()=>{t&&!n&&(console.log("\u2705 Usu\xe1rio j\xe1 logado, redirecionando para home...",null===t||void 0===t?void 0:t.email),e("/",{replace:!0}))},[t,n,e]),n)return(0,kt.jsx)("div",{className:"flex items-center justify-center h-screen bg-gray-900 text-white",children:(0,kt.jsxs)("div",{className:"text-center",children:[(0,kt.jsx)("img",{src:"/logo192.png",alt:"Logo",className:"mx-auto mb-6 w-24 h-24"}),(0,kt.jsx)("div",{className:"mb-4 text-xl font-bold",children:"Carregando..."})]})});return(0,kt.jsx)("div",{className:"min-h-screen bg-gray-900 flex items-center justify-center p-4",children:(0,kt.jsxs)("div",{className:"w-full max-w-md p-8 bg-gray-800 rounded-2xl shadow-2xl border border-gray-700",children:[(0,kt.jsxs)("div",{className:"flex flex-col items-center mb-6",children:[(0,kt.jsx)("img",{src:"/logo192.png",alt:"Logo",className:"w-16 h-16 mb-3"}),(0,kt.jsx)("h1",{className:"text-3xl font-bold text-white mb-1",children:"Criar Conta"}),(0,kt.jsx)("p",{className:"text-gray-400 text-sm",children:"Junte-se ao DeckMaster"})]}),(0,kt.jsxs)("form",{onSubmit:async t=>{if(t.preventDefault(),f(""),m(""),o&&i&&u)if(i.length<6)f("A senha deve ter pelo menos 6 caracteres");else if(i===l){v(!0);try{console.log("\ud83d\udd10 Criando nova conta...");const{data:t,error:n}=await xt.ND.auth.signUp({email:o,password:i,options:{data:{display_name:u,full_name:u}}});if(n)throw n;if(t.user){console.log("\u2705 Conta criada no Auth:",t.user.email);const{error:n}=await xt.ND.from("users").insert({id:t.user.id,uuid:t.user.id,email:t.user.email,display_name:u,username:u,created_at:(new Date).toISOString(),updated_at:(new Date).toISOString()});n?console.error("\u26a0\ufe0f Erro ao criar perfil:",n):console.log("\u2705 Perfil criado na tabela users"),m("Conta criada com sucesso! Voc\xea pode fazer login agora."),setTimeout(()=>{e("/login",{replace:!0})},2e3)}}catch(MA){console.error("\u274c Erro ao criar conta:",MA),f(MA.message||"Erro ao criar conta. Tente novamente.")}finally{v(!1)}}else f("As senhas n\xe3o coincidem");else f("Por favor, preencha todos os campos obrigat\xf3rios")},className:"space-y-4",children:[(0,kt.jsxs)("div",{children:[(0,kt.jsx)("label",{htmlFor:"displayName",className:"block text-sm font-medium text-gray-300 mb-1",children:"Nome de Exibi\xe7\xe3o *"}),(0,kt.jsx)("input",{id:"displayName",type:"text",placeholder:"Como voc\xea quer ser chamado",value:u,onChange:e=>d(e.target.value),className:"w-full px-4 py-3 bg-gray-700 border border-gray-600 rounded-xl text-white placeholder-gray-400 focus:ring-2 focus:ring-blue-500 focus:border-transparent focus:outline-none transition",required:!0})]}),(0,kt.jsxs)("div",{children:[(0,kt.jsx)("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-300 mb-1",children:"E-mail *"}),(0,kt.jsx)("input",{id:"email",type:"email",placeholder:"seu@email.com",value:o,onChange:e=>a(e.target.value),className:"w-full px-4 py-3 bg-gray-700 border border-gray-600 rounded-xl text-white placeholder-gray-400 focus:ring-2 focus:ring-blue-500 focus:border-transparent focus:outline-none transition",required:!0})]}),(0,kt.jsxs)("div",{children:[(0,kt.jsxs)("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-300 mb-1",children:["Senha * ",(0,kt.jsx)("span",{className:"text-xs text-gray-500",children:"(m\xednimo 6 caracteres)"})]}),(0,kt.jsx)("input",{id:"password",type:"password",placeholder:"\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022",value:i,onChange:e=>s(e.target.value),className:"w-full px-4 py-3 bg-gray-700 border border-gray-600 rounded-xl text-white placeholder-gray-400 focus:ring-2 focus:ring-blue-500 focus:border-transparent focus:outline-none transition",required:!0,minLength:6})]}),(0,kt.jsxs)("div",{children:[(0,kt.jsx)("label",{htmlFor:"confirmPassword",className:"block text-sm font-medium text-gray-300 mb-1",children:"Confirmar Senha *"}),(0,kt.jsx)("input",{id:"confirmPassword",type:"password",placeholder:"\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022",value:l,onChange:e=>c(e.target.value),className:"w-full px-4 py-3 bg-gray-700 border border-gray-600 rounded-xl text-white placeholder-gray-400 focus:ring-2 focus:ring-blue-500 focus:border-transparent focus:outline-none transition",required:!0})]}),h&&(0,kt.jsx)("div",{className:"p-3 bg-red-900/20 border border-red-800 rounded-lg",children:(0,kt.jsx)("p",{className:"text-red-400 text-sm text-center",children:h})}),p&&(0,kt.jsx)("div",{className:"p-3 bg-green-900/20 border border-green-800 rounded-lg",children:(0,kt.jsx)("p",{className:"text-green-400 text-sm text-center",children:p})}),(0,kt.jsx)(th,{type:"submit",disabled:g,className:"w-full bg-blue-600 text-white font-semibold py-3 rounded-xl transition hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed",children:g?"Criando conta...":"Criar Conta"}),(0,kt.jsxs)("div",{className:"relative my-6",children:[(0,kt.jsx)("div",{className:"absolute inset-0 flex items-center",children:(0,kt.jsx)("div",{className:"w-full border-t border-gray-600"})}),(0,kt.jsx)("div",{className:"relative flex justify-center text-sm",children:(0,kt.jsx)("span",{className:"px-2 bg-gray-800 text-gray-400",children:"ou"})})]}),(0,kt.jsxs)(th,{type:"button",onClick:async()=>{f("");try{console.log("\ud83d\udd04 Iniciando cadastro com Google..."),await HS()}catch(MA){console.error("\u274c Erro no cadastro Google:",MA),f("Erro no cadastro com Google: "+MA.message)}},disabled:g,className:"w-full flex items-center justify-center gap-2 bg-gray-700 border border-gray-600 text-white py-3 rounded-xl transition hover:bg-gray-600",children:[(0,kt.jsx)("img",{src:"https://www.svgrepo.com/show/475656/google-color.svg",alt:"Google",className:"w-5 h-5"}),(0,kt.jsx)("span",{children:"Cadastrar com Google"})]})]}),(0,kt.jsx)("div",{className:"mt-6 text-center",children:(0,kt.jsxs)("p",{className:"text-gray-400 text-sm",children:["J\xe1 tem uma conta?"," ",(0,kt.jsx)(pt,{to:"/login",className:"text-blue-400 hover:text-blue-300 font-medium transition",children:"Fazer Login"})]})})]})})};const DC=function(){const{friendId:e}=fe(),t=he(),[n,o]=(0,r.useState)([]),[a,i]=(0,r.useState)(!0),[s,l]=(0,r.useState)(null);return(0,r.useEffect)(()=>{e&&async function(){i(!0),l(null);try{console.log("[FriendDecksPage] friendId recebido:",e);const t=await zr.deckOperations.getUserDecks(e);console.log("[FriendDecksPage] decks retornados:",t),o(t)}catch(MA){l("Erro ao carregar decks do amigo."),console.error("[FriendDecksPage] erro:",MA)}finally{i(!1)}}()},[e]),(0,kt.jsxs)("div",{className:"min-h-screen bg-gradient-to-br from-gray-950 via-gray-900 to-purple-950 flex flex-col items-center pt-20 px-4 text-white",children:[(0,kt.jsx)("button",{onClick:()=>t(-1),className:"absolute top-6 left-6 px-4 py-2 rounded bg-gray-700 text-white hover:bg-gray-600",children:"\u2190 Voltar"}),(0,kt.jsx)("h1",{className:"mb-6 text-3xl font-bold",children:"Decks do Amigo"}),a&&(0,kt.jsx)("p",{children:"Carregando decks..."}),s&&(0,kt.jsx)("div",{className:"mb-4 w-full max-w-md text-red-400",children:s}),!a&&0===n.length&&!s&&(0,kt.jsx)("p",{children:"Nenhum deck encontrado para este usu\xe1rio."}),n.length>0&&(0,kt.jsx)("div",{className:"w-full max-w-lg overflow-y-auto max-h-[calc(100vh-200px)] pb-24 scrollbar-hide space-y-6",children:n.map(e=>(0,kt.jsxs)("div",{className:"relative overflow-hidden rounded-xl shadow-lg min-h-[240px] flex-shrink-0 cursor-pointer",onClick:()=>t("/deckbuilder/".concat(e.id)),children:[(0,kt.jsx)("div",{className:"h-56 w-full bg-cover bg-center",style:{backgroundImage:"url(".concat(e.cover_image_url||"https://placehold.co/400x200",")")}}),(0,kt.jsxs)("div",{className:"absolute bottom-0 left-0 right-0 bg-gradient-to-t from-black/90 to-transparent p-5",children:[(0,kt.jsx)("h2",{className:"text-2xl font-bold",children:e.name}),(0,kt.jsx)("p",{className:"text-base text-gray-300",children:e.format})]})]},e.id))})]})},PC=$r("funnel",[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]]),OC=()=>{const e=he(),[t]=St(),{isOnline:n,canSaveData:o}=Fr(),a=Et(),{decks:i=[],isLoading:l}=Br(),c=(0,r.useMemo)(()=>null===i||void 0===i?void 0:i.find(e=>"Cole\xe7\xe3o de cartas"===e.format),[i]),u=null===c||void 0===c?void 0:c.id,{cards:d=[],isLoading:h,addCard:f,updateCard:p,deleteCard:m,canEdit:g}=qr(u),[v,y]=(0,r.useState)(!1),[b,w]=(0,r.useState)(null),[x,S]=(0,r.useState)(null),[k,_]=(0,r.useState)(!1),[E,C]=(0,r.useState)([]),[A,j]=(0,r.useState)(!1),[T,N]=(0,r.useState)([]),[D,P]=(0,r.useState)(""),[O,R]=(0,r.useState)([]),[I,M]=(0,r.useState)(!1),[F,L]=(0,r.useState)(!1),[U,z]=(0,r.useState)(!1),[B,q]=(0,r.useState)(-1),[V,W]=(0,r.useState)(!1),H=(0,r.useRef)(null),K=(0,r.useRef)(null),G=(0,r.useRef)(0),Q=(0,r.useRef)(0),Y=!g;(0,r.useEffect)(()=>{console.log("\ud83d\udcda Collection - Estado dos decks:",{decksLoading:l,decksCount:null===i||void 0===i?void 0:i.length,collectionDeck:c?{id:c.id,name:c.name,format:c.format}:null,allDecks:null===i||void 0===i?void 0:i.map(e=>({id:e.id,name:e.name,format:e.format}))})},[i,l,c]),(0,r.useEffect)(()=>{const t=setTimeout(()=>{console.log("\ud83d\udcda Collection - Verificando redirecionamento:",{decksLoading:l,collectionDeck:!!c}),l||c||(console.log("\u26a0\ufe0f Collection - Nenhuma cole\xe7\xe3o encontrada, redirecionando..."),e("/",{state:{message:"Voc\xea precisa criar uma Cole\xe7\xe3o de cartas primeiro.",type:"warning"}}))},3e3);return()=>clearTimeout(t)},[l,c,e]);const $=e=>{Y||(w(e),y(!0))},X=async e=>{if(!Y)try{await p({cardId:e.id,updates:{acquired:!e.acquired}})}catch(x){console.error("Erro ao atualizar carta:",x)}};(0,r.useEffect)(()=>{const e=setTimeout(async()=>{if(D.trim().length<2)return R([]),void M(!1);L(!0);try{if(V){const e=d.filter(e=>e.card_name.toLowerCase().includes(D.toLowerCase())).map(e=>e.card_name).slice(0,10);R(e),M(e.length>0)}else{const e=await fetch("https://api.scryfall.com/cards/autocomplete?q=".concat(encodeURIComponent(D))),t=await e.json();R(t.data||[]),M(!0)}q(-1)}catch(x){console.error("Erro ao buscar sugest\xf5es:",x),R([])}finally{L(!1)}},300);return()=>clearTimeout(e)},[D,V,d]);const J=async e=>{if(u&&!V){z(!0);try{var t,n,r,o,i;const l=await fetch("https://api.scryfall.com/cards/named?exact=".concat(encodeURIComponent(e))),c=await l.json(),d=(null===(t=c.image_uris)||void 0===t?void 0:t.normal)||(null===(n=c.card_faces)||void 0===n||null===(r=n[0])||void 0===r||null===(o=r.image_uris)||void 0===o?void 0:o.normal),h={deck_id:u,card_name:c.name,scryfall_id:c.id,image_url:d,mana_cost:c.mana_cost||"",type_line:c.type_line||"",acquired:!1,quantity:1,created_at:new Date,card_faces:c.card_faces||null},f=(a.getQueryData(["cards",u])||[]).find(e=>e.scryfall_id===c.id);if(f){const e=(f.quantity||1)+1;a.setQueryData(["cards",u],function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).map(t=>t.id===f.id?(0,s.A)((0,s.A)({},t),{},{quantity:e}):t)});try{await zr.CI.updateDeckCard(f.id,{quantity:e})}catch(MA){console.error("Erro ao incrementar:",MA),a.setQueryData(["cards",u],function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).map(e=>e.id===f.id?(0,s.A)((0,s.A)({},e),{},{quantity:f.quantity}):e)})}}else{const e="tmp-".concat(Date.now()),t=(0,s.A)((0,s.A)({id:e},h),{},{__optimistic:!0});a.setQueryData(["cards",u],function(){return[t,...arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]]});try{const t=await zr.CI.addCardToDeck(u,h);a.setQueryData(["cards",u],function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).map(n=>n&&n.id===e?(0,s.A)({id:t},h):n)})}catch(MA){console.error("Erro ao adicionar:",MA),a.setQueryData(["cards",u],function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).filter(t=>t.id!==e)}),alert("Erro ao adicionar carta: "+(MA.message||"Tente novamente"))}}P(""),R([]),M(!1),null===(i=K.current)||void 0===i||i.focus()}catch(x){console.error("Erro ao adicionar carta:",x)}finally{z(!1)}}},Z=(0,r.useMemo)(()=>V&&D.trim()?d.filter(e=>e.card_name.toLowerCase().includes(D.toLowerCase())):d,[d,V,D]),ee=Z.reduce((e,t)=>e+(t.quantity||1),0);return l||h?(0,kt.jsx)("div",{className:"h-screen w-screen bg-gradient-to-br from-gray-900 to-black flex items-center justify-center",children:(0,kt.jsx)(VS,{className:"w-8 h-8 animate-spin text-orange-500"})}):c?(0,kt.jsxs)("div",{className:"h-screen w-screen bg-gradient-to-br from-gray-900 to-black text-white flex flex-col overflow-hidden",children:[(0,kt.jsxs)("div",{className:"flex items-center justify-between px-4 py-3 border-b border-gray-800",children:[(0,kt.jsx)(th,{variant:"ghost",size:"icon",onClick:()=>e("/"),className:"text-gray-400 hover:text-white",children:(0,kt.jsx)(Ix,{className:"w-6 h-6"})}),(0,kt.jsxs)("div",{className:"text-center flex-1",children:[(0,kt.jsx)("div",{className:"flex items-center justify-center gap-2",children:(0,kt.jsx)("h1",{className:"text-lg font-bold text-white",children:"Cole\xe7\xe3o de Cartas"})}),(0,kt.jsxs)("p",{className:"text-sm text-gray-400",children:[ee," carta",1!==ee?"s":""]})]}),!Y&&(0,kt.jsx)(th,{variant:"ghost",size:"icon",onClick:()=>{k&&E.length>0?(async()=>{if(console.log("\ud83d\uddd1\ufe0f handleDeleteSelected chamado",{selectedCardsCount:E.length,canEdit:g,selectedCards:E}),E.length>0&&g){const e=d.filter(e=>E.includes(e.id));console.log("\ud83d\uddd1\ufe0f Cartas a serem removidas:",e),N(e),j(!0)}else console.log("\u26a0\ufe0f N\xe3o pode deletar:",{hasSelectedCards:E.length>0,canEdit:g})})():(_(!k),C([]))},className:"".concat(k&&E.length>0?"text-red-500 hover:text-red-400":"text-gray-400 hover:text-white"),children:(0,kt.jsx)(Rx,{className:"w-5 h-5"})}),Y&&(0,kt.jsx)("div",{className:"w-10"})]}),!n&&(0,kt.jsxs)(oo,{className:"mx-4 mt-4 bg-yellow-500/10 border-yellow-500/50",children:[(0,kt.jsx)(Jr,{className:"h-4 w-4 text-yellow-500"}),(0,kt.jsx)(ao,{className:"text-yellow-200",children:"Voc\xea est\xe1 offline. As altera\xe7\xf5es ser\xe3o sincronizadas quando voltar online."})]}),x&&(0,kt.jsxs)(oo,{className:"mx-4 mt-4 bg-red-500/10 border-red-500/50",children:[(0,kt.jsx)(Jr,{className:"h-4 w-4 text-red-500"}),(0,kt.jsx)(ao,{className:"text-red-200",children:x})]}),(0,kt.jsxs)(Tw.div,{initial:{y:-20,opacity:0},animate:{y:0,opacity:1},className:"sticky top-0 z-20 border-b border-gray-800 p-4 transition-colors duration-300 ".concat(V?"bg-blue-900/40":"bg-gray-900"),onTouchStart:e=>{G.current=e.touches[0].clientX,Q.current=e.touches[0].clientY},onTouchEnd:e=>{const t=e.changedTouches[0].clientX,n=e.changedTouches[0].clientY,r=Math.abs(t-G.current),o=Math.abs(n-Q.current);r>80&&r>o&&(W(e=>!e),console.log("[DEBUG] Modo filtro alternado:",!V))},children:[(0,kt.jsxs)("form",{onSubmit:e=>{e.preventDefault(),V||(B>=0&&O[B]?J(O[B]):D.trim()&&J(D.trim()))},className:"flex gap-2 relative",ref:H,children:[(0,kt.jsxs)("div",{className:"relative flex-1",children:[V?(0,kt.jsx)(PC,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-blue-400 z-10"}):(0,kt.jsx)(Zr,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400 z-10"}),(0,kt.jsx)(rh,{ref:K,value:D,onChange:e=>P(e.target.value),onKeyDown:e=>{I&&0!==O.length&&("ArrowDown"===e.key?(e.preventDefault(),q(e=>e<O.length-1?e+1:e)):"ArrowUp"===e.key?(e.preventDefault(),q(e=>e>0?e-1:-1)):"Escape"===e.key&&(M(!1),q(-1)))},placeholder:V?"Filtrar na cole\xe7\xe3o...":"Adicionar carta...",className:"pl-10 bg-gray-800 border-gray-700 text-white placeholder-gray-500 transition-colors ".concat(V?"border-blue-600":""),disabled:U||!o}),F&&(0,kt.jsx)(VS,{className:"absolute right-3 top-1/2 -translate-y-1/2 w-4 h-4 animate-spin text-gray-400"})]}),!V&&(0,kt.jsx)(th,{type:"submit",disabled:U||!D.trim()||!o,className:"bg-orange-500 hover:bg-orange-600 disabled:bg-gray-700",children:U?(0,kt.jsx)(VS,{className:"w-4 h-4 animate-spin"}):(0,kt.jsx)(Zr,{className:"w-4 h-4"})})]}),(0,kt.jsx)("p",{className:"text-xs text-center mt-2 text-gray-400",children:V?(0,kt.jsx)("span",{className:"text-blue-400",children:"\ud83d\udd0d Modo Filtro - Deslize para voltar \xe0 busca"}):(0,kt.jsx)("span",{className:"text-gray-400",children:"\ud83d\udd04 Deslize para filtrar sua cole\xe7\xe3o"})}),(0,kt.jsx)(Rh,{children:I&&O.length>0&&(0,kt.jsx)(Tw.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},className:"absolute left-4 right-4 top-full mt-2 bg-gray-800 border border-gray-700 rounded-lg shadow-xl max-h-60 overflow-y-auto z-30",children:O.map((e,t)=>(0,kt.jsx)("button",{type:"button",onClick:()=>(e=>{V?(P(e),M(!1)):J(e)})(e),className:"w-full text-left px-4 py-2 hover:bg-gray-700 transition-colors ".concat(t===B?"bg-gray-700":""," ").concat(0===t?"rounded-t-lg":""," ").concat(t===O.length-1?"rounded-b-lg":""),children:(0,kt.jsx)("span",{className:"text-white",children:e})},t))})})]}),(0,kt.jsx)("div",{className:"flex-1 overflow-y-auto px-4 py-6",children:0===Z.length?(0,kt.jsxs)("div",{className:"flex flex-col items-center justify-center h-full text-gray-400",children:[(0,kt.jsx)("p",{className:"text-lg",children:V&&D.trim()?"Nenhuma carta encontrada com esse nome":"Sua cole\xe7\xe3o est\xe1 vazia"}),!V&&(0,kt.jsx)("p",{className:"text-sm mt-2",children:"Use a barra de busca para adicionar cartas"})]}):(0,kt.jsx)("div",{className:"grid grid-cols-3 gap-3 pb-20",children:(0,kt.jsx)(Rh,{children:Z.map(e=>(0,kt.jsx)("div",{children:(0,kt.jsx)(C_,{card:e,onToggleAcquired:X,onShowArtSelector:$,isViewOnly:Y,currentUserId:null===t||void 0===t?void 0:t.id,deckOwnerId:null===c||void 0===c?void 0:c.user_id,isSelectionMode:k,isSelected:E.includes(e.id),onToggleSelect:()=>{return t=e.id,void C(e=>e.includes(t)?e.filter(e=>e!==t):[...e,t]);var t}})},e.id))})})}),k&&!Y&&(0,kt.jsx)(Tw.div,{initial:{y:100},animate:{y:0},exit:{y:100},className:"fixed bottom-6 left-1/2 -translate-x-1/2 bg-gray-800 border border-gray-700 rounded-full px-6 py-3 shadow-2xl",children:(0,kt.jsx)("p",{className:"text-white font-medium",children:E.length>0?"".concat(E.length," carta").concat(E.length>1?"s":""," selecionada").concat(E.length>1?"s":""):"Selecione cartas para remover"})}),(0,kt.jsx)(q_,{isOpen:A,onClose:()=>{j(!1),N([])},cards:T,onConfirm:async e=>{console.log("\ud83d\uddd1\ufe0f handleConfirmDelete chamado",{quantities:e});try{const t=Object.entries(e).map(e=>{let[t,n]=e;return{cardId:t,quantityToDelete:n}});console.log("\ud83d\uddd1\ufe0f Deletions array:",t);for(const e of t){const t=d.find(t=>t.id===e.cardId);if(console.log("\ud83d\uddd1\ufe0f Processando carta:",{cardId:e.cardId,card:t?{id:t.id,name:t.card_name,quantity:t.quantity}:null,quantityToDelete:e.quantityToDelete}),t)if(e.quantityToDelete>=t.quantity)console.log("\ud83d\uddd1\ufe0f Deletando carta completamente:",t.id),await m(e.cardId);else{const n=t.quantity-e.quantityToDelete;console.log("\ud83d\uddd1\ufe0f Reduzindo quantidade:",{oldQuantity:t.quantity,newQuantity:n}),await p({cardId:e.cardId,updates:{quantity:n}})}}console.log("\u2705 Dele\xe7\xf5es conclu\xeddas com sucesso"),C([]),_(!1),j(!1),N([])}catch(x){console.error("\u274c Erro ao remover cartas:",x),S("Erro ao remover cartas selecionadas")}}}),(0,kt.jsx)(z_,{isOpen:v,onClose:()=>{y(!1),w(null)},card:b,onSelectArt:async e=>{let t=(0,s.A)({},e);if(b.card_faces&&Array.isArray(b.card_faces)){const n=b.card_faces.map(t=>(0,s.A)((0,s.A)({},t),{},{image_url:e.image_url,image_uris:(0,s.A)((0,s.A)({},t.image_uris),{},{normal:e.image_url})}));t.card_faces=n}if(b&&!Y)try{await p({cardId:b.id,updates:t}),y(!1),w(null)}catch(x){S("Erro ao alterar arte da carta")}},onAddCard:f,onUpdateCard:p,deckId:u})]}):null},RC=e=>{var t,o,a;let{isOpen:i,onClose:s,card:l,friendsWhoWant:c=[]}=e;const[u]=St(),[d,h]=(0,r.useState)(!1),[f,p]=(0,r.useState)(null);if(!i||!l)return null;const m=l.image_url||(null===(t=l.card_faces)||void 0===t||null===(o=t[0])||void 0===o||null===(a=o.image_uris)||void 0===a?void 0:a.normal);return(0,kt.jsx)(Rh,{children:i&&(0,kt.jsx)(Tw.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center bg-black/80 backdrop-blur-sm",onClick:s,children:(0,kt.jsxs)(Tw.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},transition:{type:"spring",damping:25,stiffness:300},className:"bg-gray-900 border border-gray-700 rounded-xl p-6 max-w-md w-full mx-4 shadow-2xl",onClick:e=>e.stopPropagation(),children:[(0,kt.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,kt.jsxs)("div",{className:"flex items-center gap-2",children:[(0,kt.jsx)(uh,{className:"w-5 h-5 text-green-500"}),(0,kt.jsx)("h2",{className:"text-xl font-bold text-white",children:"Trade Dispon\xedvel"})]}),(0,kt.jsx)(th,{variant:"ghost",size:"icon",onClick:s,className:"text-gray-400 hover:text-white",children:(0,kt.jsx)(Ix,{className:"w-5 h-5"})})]}),(0,kt.jsx)("div",{className:"mb-4 flex justify-center",children:(0,kt.jsx)("img",{src:m,alt:l.card_name,className:"rounded-lg max-h-64 w-auto shadow-lg"})}),(0,kt.jsx)("h3",{className:"text-lg font-semibold text-white text-center mb-4",children:l.card_name}),(0,kt.jsxs)("div",{className:"bg-gray-800 rounded-lg p-4 mb-4",children:[(0,kt.jsx)("p",{className:"text-sm text-gray-400 mb-3",children:1===c.length?"Amigo interessado:":"Amigos interessados:"}),(0,kt.jsx)("div",{className:"space-y-2",children:c.map((e,t)=>(0,kt.jsxs)("div",{className:"flex items-center gap-2 p-2 bg-gray-700 rounded-lg",children:[(0,kt.jsx)("div",{className:"w-8 h-8 rounded-full bg-green-500/20 flex items-center justify-center",children:(0,kt.jsx)(uh,{className:"w-4 h-4 text-green-500"})}),(0,kt.jsx)("span",{className:"text-white font-medium",children:e.displayName})]},"friend-".concat(t,"-").concat(String((null===e||void 0===e?void 0:e.userId)||t))))})]}),f&&(0,kt.jsx)("div",{className:"mb-3 p-2 bg-red-900/20 border border-red-800 rounded-lg",children:(0,kt.jsx)("p",{className:"text-sm text-red-400 text-center",children:f})}),(0,kt.jsxs)("div",{className:"flex gap-3",children:[(0,kt.jsx)(th,{onClick:s,variant:"outline",className:"flex-1 border-gray-600 text-gray-300 hover:bg-gray-800",disabled:d,children:"Fechar"}),(0,kt.jsx)(th,{onClick:async()=>{h(!0),p(null);try{const{messageOperations:e,userOperations:t}=await Promise.resolve().then(n.bind(n,54));let r="";try{const e=await t.getUser(u.id);r=(null===e||void 0===e?void 0:e.display_name)||""}catch(MA){console.error("[TRADE] Erro ao buscar display_name:",MA)}const o=c.map(async t=>{const n="Oferta de trade: ".concat(l.card_name),o={recipient_id:t.userId,sender_id:null===u||void 0===u?void 0:u.id,sender_name:r,card_id:l.id,card_name:l.card_name,type:"trade_offer",content:n,created_at:(new Date).toISOString()};return e.sendMessage(o)});await Promise.all(o),s()}catch(MA){console.error("[TRADE] Erro ao enviar mensagens:",MA),p("Erro ao enviar proposta de trade")}finally{h(!1)}},disabled:d,className:"flex-1 bg-green-500 hover:bg-green-600 text-white disabled:opacity-50 disabled:cursor-not-allowed",children:d?"Enviando...":"Propor Trade"})]})]})})})},IC=()=>{const e=he(),[t]=St(),{isOnline:n,canSaveData:o}=Fr(),a=Et(),{decks:i=[],isLoading:l}=Br(),c=(0,r.useMemo)(()=>null===i||void 0===i?void 0:i.find(e=>"Trade"===e.format||"Trades"===e.format),[i]),u=null===c||void 0===c?void 0:c.id,{cards:d=[],isLoading:h,addCard:f,updateCard:p,deleteCard:m,canEdit:g}=qr(u),[v,y]=(0,r.useState)(!1),[b,w]=(0,r.useState)(null),[x,S]=(0,r.useState)(null),[k,_]=(0,r.useState)(!1),[E,C]=(0,r.useState)([]),[A,j]=(0,r.useState)(!1),[T,N]=(0,r.useState)([]),[D,P]=(0,r.useState)(""),[O,R]=(0,r.useState)([]),[I,M]=(0,r.useState)(!1),[F,L]=(0,r.useState)(!1),[U,z]=(0,r.useState)(!1),[B,q]=(0,r.useState)(-1),[V,W]=(0,r.useState)(!1),[H,K]=(0,r.useState)(new Map),[G,Q]=(0,r.useState)(!1),[Y,$]=(0,r.useState)(null),[X,J]=(0,r.useState)(!1),[Z,ee]=(0,r.useState)(null),[te,ne]=(0,r.useState)(""),re=(0,r.useRef)(null),oe=(0,r.useRef)(null),ae=(0,r.useRef)(0),ie=(0,r.useRef)(0),se=!g,le=(0,r.useMemo)(()=>{console.log("\ud83d\udd0d Trade.jsx - tradeDeck completo:",c);const e=(null===c||void 0===c?void 0:c.user_id)||(null===c||void 0===c?void 0:c.owner_id),n=se&&c&&e!==(null===t||void 0===t?void 0:t.id);return console.log("\ud83d\udd0d Trade.jsx - isFriendTradeDeck:",{result:n,isViewOnly:se,deckName:null===c||void 0===c?void 0:c.deck_name,deckOwnerId:e,userId:null===t||void 0===t?void 0:t.id,comparison:"".concat(e," !== ").concat(null===t||void 0===t?void 0:t.id)}),n},[se,c,null===t||void 0===t?void 0:t.id]);(0,r.useEffect)(()=>{(async()=>{const e=(null===c||void 0===c?void 0:c.user_id)||(null===c||void 0===c?void 0:c.owner_id);if(e&&le)try{const{data:t,error:n}=await xt.ND.from("users").select("display_name").eq("id",e).single();if(n)throw n;ne((null===t||void 0===t?void 0:t.display_name)||"Amigo")}catch(MA){console.error("Erro ao buscar nome do dono:",MA),ne("Amigo")}})()},[null===c||void 0===c?void 0:c.user_id,null===c||void 0===c?void 0:c.owner_id,le]),(0,r.useEffect)(()=>{null!==t&&void 0!==t&&t.id&&a.invalidateQueries(["decks",t.id])},[null===t||void 0===t?void 0:t.id,a]),(0,r.useEffect)(()=>{},[i,l,c]),(0,r.useEffect)(()=>{(async()=>{if(null!==t&&void 0!==t&&t.id)if(0!==d.length)try{const{data:e,error:n}=await xt.ND.from("friendships").select("friend_id").eq("user_id",t.id).eq("status","accepted");if(n)throw n;if(!e||0===e.length)return;const r=e.map(e=>e.friend_id),{data:o,error:a}=await xt.ND.from("users").select("id, display_name").in("id",r);if(a)throw a;const{data:i,error:s}=await xt.ND.from("deck_cards").select("scryfall_id, card_name, is_transparent, deck_id, decks!inner(owner_id)").in("decks.owner_id",r).eq("is_transparent",!0);if(s)throw s;const l=new Map;null===i||void 0===i||i.forEach(e=>{const t=e.scryfall_id,n=e.decks.owner_id,r=null===o||void 0===o?void 0:o.find(e=>e.id===n),a={userId:n,displayName:(null===r||void 0===r?void 0:r.display_name)||"Amigo"};l.has(t)?l.get(t).push(a):l.set(t,[a])}),K(l)}catch(x){console.error("\u274c Erro ao buscar cartas de amigos:",x)}else K(new Map)})()},[null===t||void 0===t?void 0:t.id,d.length]),(0,r.useEffect)(()=>{const t=setTimeout(()=>{l||c||e("/",{state:{message:"Voc\xea precisa criar um deck Trade primeiro.",type:"warning"}})},3e3);return()=>clearTimeout(t)},[l,c,e]);const ce=e=>{le?console.log("\ud83d\udeab Bloqueado: deck de amigo, use BuyRequestModal"):(console.log("\ud83c\udfa8 Abrindo ArtSelector - deck pr\xf3prio:",e.card_name),w(e),y(!0))},ue=async e=>{if(!se)try{await p({cardId:e.id,updates:{acquired:!e.acquired}})}catch(x){console.error("Erro ao atualizar carta:",x)}};(0,r.useEffect)(()=>{const e=setTimeout(async()=>{if(D.trim().length<2)return R([]),void M(!1);L(!0);try{if(V){const e=d.filter(e=>e.card_name.toLowerCase().includes(D.toLowerCase())).map(e=>e.card_name).slice(0,10);R(e),M(e.length>0)}else{const e=await fetch("https://api.scryfall.com/cards/autocomplete?q=".concat(encodeURIComponent(D))),t=await e.json();R(t.data||[]),M(!0)}q(-1)}catch(x){console.error("Erro ao buscar sugest\xf5es:",x),R([])}finally{L(!1)}},300);return()=>clearTimeout(e)},[D,V,d]);const de=async e=>{if(u&&!V){z(!0);try{var t,n,r,o,i;const l=await fetch("https://api.scryfall.com/cards/named?exact=".concat(encodeURIComponent(e))),c=await l.json(),d=(null===(t=c.image_uris)||void 0===t?void 0:t.normal)||(null===(n=c.card_faces)||void 0===n||null===(r=n[0])||void 0===r||null===(o=r.image_uris)||void 0===o?void 0:o.normal),h={deck_id:u,card_name:c.name,scryfall_id:c.id,image_url:d,mana_cost:c.mana_cost||"",type_line:c.type_line||"",acquired:!1,quantity:1,created_at:new Date,card_faces:c.card_faces||null},f=(a.getQueryData(["cards",u])||[]).find(e=>e.scryfall_id===c.id);if(f){const e=(f.quantity||1)+1;a.setQueryData(["cards",u],function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).map(t=>t.id===f.id?(0,s.A)((0,s.A)({},t),{},{quantity:e}):t)});try{await zr.CI.updateDeckCard(f.id,{quantity:e})}catch(MA){console.error("Erro ao incrementar:",MA),a.setQueryData(["cards",u],function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).map(e=>e.id===f.id?(0,s.A)((0,s.A)({},e),{},{quantity:f.quantity}):e)})}}else{const e="tmp-".concat(Date.now()),t=(0,s.A)((0,s.A)({id:e},h),{},{__optimistic:!0});a.setQueryData(["cards",u],function(){return[t,...arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]]});try{const t=await zr.CI.addCardToDeck(u,h);a.setQueryData(["cards",u],function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).map(n=>n&&n.id===e?(0,s.A)({id:t},h):n)})}catch(MA){console.error("Erro ao adicionar:",MA),a.setQueryData(["cards",u],function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).filter(t=>t.id!==e)}),alert("Erro ao adicionar carta: "+(MA.message||"Tente novamente"))}}P(""),R([]),M(!1),null===(i=oe.current)||void 0===i||i.focus()}catch(x){console.error("Erro ao adicionar carta:",x)}finally{z(!1)}}},fe=(0,r.useMemo)(()=>V&&D.trim()?d.filter(e=>e.card_name.toLowerCase().includes(D.toLowerCase())):d,[d,V,D]),pe=fe.reduce((e,t)=>e+(t.quantity||1),0);return l||h?(0,kt.jsx)("div",{className:"h-screen w-screen bg-gradient-to-br from-gray-900 to-black flex items-center justify-center",children:(0,kt.jsx)(VS,{className:"w-8 h-8 animate-spin text-orange-500"})}):c?(console.log("\ud83d\udd01 P\xc1GINA TRADE CARREGADA",{deckId:u,totalCards:d.length,friendsWantedSize:H.size,friendsWantedCards:Array.from(H.entries())}),(0,kt.jsxs)("div",{className:"h-screen w-screen bg-gradient-to-br from-gray-900 to-black text-white flex flex-col overflow-hidden",children:[(0,kt.jsxs)("div",{className:"flex items-center justify-between px-4 py-3 border-b border-gray-800 bg-green-900/20",children:[(0,kt.jsx)(th,{variant:"ghost",size:"icon",onClick:()=>e("/"),className:"text-gray-400 hover:text-white",children:(0,kt.jsx)(Ix,{className:"w-6 h-6"})}),(0,kt.jsxs)("div",{className:"text-center flex-1",children:[(0,kt.jsx)("h1",{className:"text-lg font-bold text-white",children:(null===c||void 0===c?void 0:c.deck_name)||"Trade"}),(0,kt.jsxs)("p",{className:"text-sm text-gray-400",children:[pe," carta",1!==pe?"s":""," \u2022 ",H.size," match",1!==H.size?"es":""]})]}),!se&&(0,kt.jsx)(th,{variant:"ghost",size:"icon",onClick:()=>{k&&E.length>0?(async()=>{if(console.log("\ud83d\uddd1\ufe0f handleDeleteSelected chamado",{selectedCardsCount:E.length,canEdit:g,selectedCards:E}),E.length>0&&g){const e=d.filter(e=>E.includes(e.id));console.log("\ud83d\uddd1\ufe0f Cartas a serem removidas:",e),N(e),j(!0)}else console.log("\u26a0\ufe0f N\xe3o pode deletar:",{hasSelectedCards:E.length>0,canEdit:g})})():(_(!k),C([]))},className:"".concat(k&&E.length>0?"text-red-500 hover:text-red-400":"text-gray-400 hover:text-white"),children:(0,kt.jsx)(Rx,{className:"w-5 h-5"})}),se&&(0,kt.jsx)("div",{className:"w-10"})]}),!n&&(0,kt.jsxs)(oo,{className:"mx-4 mt-4 bg-yellow-500/10 border-yellow-500/50",children:[(0,kt.jsx)(Jr,{className:"h-4 w-4 text-yellow-500"}),(0,kt.jsx)(ao,{className:"text-yellow-200",children:"Voc\xea est\xe1 offline. As altera\xe7\xf5es ser\xe3o sincronizadas quando voltar online."})]}),x&&(0,kt.jsxs)(oo,{className:"mx-4 mt-4 bg-red-500/10 border-red-500/50",children:[(0,kt.jsx)(Jr,{className:"h-4 w-4 text-red-500"}),(0,kt.jsx)(ao,{className:"text-red-200",children:x})]}),(0,kt.jsxs)(Tw.div,{initial:{y:-20,opacity:0},animate:{y:0,opacity:1},className:"sticky top-0 z-20 border-b border-gray-800 p-4 transition-colors duration-300 ".concat(V?"bg-blue-900/40":"bg-gray-900"),onTouchStart:e=>{ae.current=e.touches[0].clientX,ie.current=e.touches[0].clientY},onTouchEnd:e=>{const t=e.changedTouches[0].clientX,n=e.changedTouches[0].clientY,r=Math.abs(t-ae.current),o=Math.abs(n-ie.current);r>80&&r>o&&(W(e=>!e),console.log("[DEBUG] Modo filtro alternado:",!V))},children:[(0,kt.jsxs)("form",{onSubmit:e=>{e.preventDefault(),V||(B>=0&&O[B]?de(O[B]):D.trim()&&de(D.trim()))},className:"flex gap-2 relative",ref:re,children:[(0,kt.jsxs)("div",{className:"relative flex-1",children:[V?(0,kt.jsx)(PC,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-blue-400 z-10"}):(0,kt.jsx)(Zr,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400 z-10"}),(0,kt.jsx)(rh,{ref:oe,value:D,onChange:e=>P(e.target.value),onKeyDown:e=>{I&&0!==O.length&&("ArrowDown"===e.key?(e.preventDefault(),q(e=>e<O.length-1?e+1:e)):"ArrowUp"===e.key?(e.preventDefault(),q(e=>e>0?e-1:-1)):"Escape"===e.key&&(M(!1),q(-1)))},placeholder:V?"Filtrar no trade...":"Adicionar carta...",className:"pl-10 bg-gray-800 border-gray-700 text-white placeholder-gray-500 transition-colors ".concat(V?"border-blue-600":""),disabled:U||!o}),F&&(0,kt.jsx)(VS,{className:"absolute right-3 top-1/2 -translate-y-1/2 w-4 h-4 animate-spin text-gray-400"})]}),!V&&(0,kt.jsx)(th,{type:"submit",disabled:U||!D.trim()||!o,className:"bg-orange-500 hover:bg-orange-600 disabled:bg-gray-700",children:U?(0,kt.jsx)(VS,{className:"w-4 h-4 animate-spin"}):(0,kt.jsx)(Zr,{className:"w-4 h-4"})})]}),(0,kt.jsx)("p",{className:"text-xs text-center mt-2 text-gray-400",children:V?(0,kt.jsx)("span",{className:"text-blue-400",children:"\ud83d\udd0d Modo Filtro - Deslize para voltar \xe0 busca"}):(0,kt.jsx)("span",{className:"text-gray-400",children:"\ud83d\udd04 Deslize para filtrar seu trade"})}),(0,kt.jsx)(Rh,{children:I&&O.length>0&&(0,kt.jsx)(Tw.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},className:"absolute left-4 right-4 top-full mt-2 bg-gray-800 border border-gray-700 rounded-lg shadow-xl max-h-60 overflow-y-auto z-30",children:O.map((e,t)=>(0,kt.jsx)("button",{type:"button",onClick:()=>(e=>{V?(P(e),M(!1)):de(e)})(e),className:"w-full text-left px-4 py-2 hover:bg-gray-700 transition-colors ".concat(t===B?"bg-gray-700":""," ").concat(0===t?"rounded-t-lg":""," ").concat(t===O.length-1?"rounded-b-lg":""),children:(0,kt.jsx)("span",{className:"text-white",children:e})},t))})})]}),(0,kt.jsx)("div",{className:"flex-1 overflow-y-auto px-4 py-6",children:0===fe.length?(0,kt.jsxs)("div",{className:"flex flex-col items-center justify-center h-full text-gray-400",children:[(0,kt.jsx)("p",{className:"text-lg",children:V&&D.trim()?"Nenhuma carta encontrada com esse nome":"Seu deck de trade est\xe1 vazio"}),!V&&(0,kt.jsx)("p",{className:"text-sm mt-2",children:"Use a barra de busca para adicionar cartas"})]}):(0,kt.jsx)("div",{className:"grid grid-cols-3 gap-3 pb-20",children:(0,kt.jsx)(Rh,{children:fe.map(e=>{const n=H.has(e.scryfall_id);console.log("\ud83c\udfb4 Trade.jsx ANTES DE PASSAR PROP:",{cardName:e.card_name,scryfallId:e.scryfall_id,isWantedByFriends:n,isWantedByFriendsType:typeof n,mapSize:H.size,mapHas:H.has(e.scryfall_id)});return(0,kt.jsx)("div",{children:(0,kt.jsx)(C_,{card:e,onToggleAcquired:ue,onShowArtSelector:ce,isViewOnly:se,currentUserId:null===t||void 0===t?void 0:t.id,deckOwnerId:(null===c||void 0===c?void 0:c.user_id)||(null===c||void 0===c?void 0:c.owner_id),isSelectionMode:k,isSelected:E.includes(e.id),onToggleSelect:()=>{return t=e.id,void C(e=>e.includes(t)?e.filter(e=>e!==t):[...e,t]);var t},onDoubleClick:()=>{le?(console.log("\ud83d\uddb1\ufe0f Duplo clique no deck de amigo - abrindo BuyRequestModal"),ee(e),J(!0)):(e=>{!se&&H.has(e.scryfall_id)&&(console.log("\ud83d\udd01 Clique duplo na carta:",e.card_name),$(e),Q(!0))})(e)},onLongPress:le?e=>{le&&(console.log("\u23f1\ufe0f Long press no deck de amigo - abrindo BuyRequestModal"),ee(e),J(!0))}:void 0,hasGreenBorder:n})},"".concat(e.id,"-").concat(e.scryfall_id))})})})}),k&&!se&&(0,kt.jsx)(Tw.div,{initial:{y:100},animate:{y:0},exit:{y:100},className:"fixed bottom-6 left-1/2 -translate-x-1/2 bg-gray-800 border border-gray-700 rounded-full px-6 py-3 shadow-2xl",children:(0,kt.jsx)("p",{className:"text-white font-medium",children:E.length>0?"".concat(E.length," carta").concat(E.length>1?"s":""," selecionada").concat(E.length>1?"s":""):"Selecione cartas para remover"})}),(0,kt.jsx)(q_,{isOpen:A,onClose:()=>{j(!1),N([])},cards:T,onConfirm:async e=>{console.log("\ud83d\uddd1\ufe0f handleConfirmDelete chamado",{quantities:e});try{const t=Object.entries(e).map(e=>{let[t,n]=e;return{cardId:t,quantityToDelete:n}});console.log("\ud83d\uddd1\ufe0f Deletions array:",t);for(const e of t){const t=d.find(t=>t.id===e.cardId);if(console.log("\ud83d\uddd1\ufe0f Processando carta:",{cardId:e.cardId,card:t?{id:t.id,name:t.card_name,quantity:t.quantity}:null,quantityToDelete:e.quantityToDelete}),t)if(e.quantityToDelete>=t.quantity)console.log("\ud83d\uddd1\ufe0f Deletando carta completamente:",t.id),await m(e.cardId);else{const n=t.quantity-e.quantityToDelete;console.log("\ud83d\uddd1\ufe0f Reduzindo quantidade:",{oldQuantity:t.quantity,newQuantity:n}),await p({cardId:e.cardId,updates:{quantity:n}})}}console.log("\u2705 Dele\xe7\xf5es conclu\xeddas com sucesso"),C([]),_(!1),j(!1),N([])}catch(x){console.error("\u274c Erro ao remover cartas:",x),S("Erro ao remover cartas selecionadas")}}}),(0,kt.jsx)(RC,{isOpen:G,onClose:()=>{Q(!1),$(null)},card:Y,friendsWhoWant:Y&&H.get(Y.scryfall_id)||[]}),(0,kt.jsx)(L_,{isOpen:X,onClose:()=>{J(!1),ee(null)},card:Z,deckOwnerId:(null===c||void 0===c?void 0:c.user_id)||(null===c||void 0===c?void 0:c.owner_id),deckOwnerName:te||"Amigo"}),(0,kt.jsx)(z_,{isOpen:v,onClose:()=>{y(!1),w(null)},card:b,onSelectArt:async e=>{console.log("\ud83c\udfa8 handleSelectArt chamado:",{artData:e,selectedCard:null===b||void 0===b?void 0:b.card_name,hasCardFaces:!(null===b||void 0===b||!b.card_faces),isViewOnly:se});let t=(0,s.A)({},e);if(b.card_faces&&Array.isArray(b.card_faces)){console.log("\ud83c\udfa8 Atualizando card_faces...");const n=b.card_faces.map(t=>(0,s.A)((0,s.A)({},t),{},{image_url:e.image_url,image_uris:(0,s.A)((0,s.A)({},t.image_uris),{},{normal:e.image_url})}));t.card_faces=n,console.log("\ud83c\udfa8 Novos card_faces:",n)}if(console.log("\ud83c\udfa8 Updates finais:",t),b&&!se)try{console.log("\ud83c\udfa8 Chamando updateCard..."),await p({cardId:b.id,updates:t}),console.log("\ud83c\udfa8 Update bem-sucedido!"),y(!1),w(null)}catch(x){console.error("\u274c Erro ao alterar arte:",x),S("Erro ao alterar arte da carta")}else console.warn("\u26a0\ufe0f N\xe3o pode atualizar:",{hasCard:!!b,isViewOnly:se})},onAddCard:f,onUpdateCard:p,deckId:u})]})):null};const MC="user_profile",FC="decks",LC="cards",UC="sync_queue",zC="sync_log";const BC=new class{constructor(){this.db=null,this.isReady=!1,this.initPromise=this.init()}async init(){return this.isReady?this.db:new Promise((e,t)=>{const n=indexedDB.open("deckmaster_unified",1);n.onerror=()=>{console.error("\u274c Erro ao abrir IndexedDB:",n.error),t(n.error)},n.onsuccess=()=>{this.db=n.result,this.isReady=!0,console.log("\u2705 UnifiedStorage inicializado"),e(this.db)},n.onupgradeneeded=e=>{const t=e.target.result;if(!t.objectStoreNames.contains(MC)){t.createObjectStore(MC,{keyPath:"userId"}).createIndex("email","email",{unique:!1}),console.log("\u2705 Store user_profile criado")}if(!t.objectStoreNames.contains(FC)){const e=t.createObjectStore(FC,{keyPath:"id"});e.createIndex("userId","userId",{unique:!1}),e.createIndex("_synced","_synced",{unique:!1}),e.createIndex("_lastSync","_lastSync",{unique:!1}),console.log("\u2705 Store decks criado")}if(!t.objectStoreNames.contains(LC)){const e=t.createObjectStore(LC,{keyPath:"id"});e.createIndex("deck_id","deck_id",{unique:!1}),e.createIndex("_synced","_synced",{unique:!1}),console.log("\u2705 Store cards criado")}if(!t.objectStoreNames.contains(UC)){const e=t.createObjectStore(UC,{keyPath:"id"});e.createIndex("timestamp","timestamp",{unique:!1}),e.createIndex("entityType","entityType",{unique:!1}),e.createIndex("status","status",{unique:!1}),console.log("\u2705 Store sync_queue criado")}if(!t.objectStoreNames.contains(zC)){t.createObjectStore(zC,{keyPath:"id",autoIncrement:!0}).createIndex("timestamp","timestamp",{unique:!1}),console.log("\u2705 Store sync_log criado")}}})}async ensureReady(){return this.isReady||await this.initPromise,this.db}async saveUserProfile(e){const t=(await this.ensureReady()).transaction(MC,"readwrite").objectStore(MC),n=(0,s.A)({userId:e.userId||e.uid,username:e.username||e.displayName,email:e.email,photoURL:e.photoURL||null,_synced:!0,_lastSync:Date.now(),_version:(e._version||0)+1},e);return new Promise((e,r)=>{const o=t.put(n);o.onsuccess=()=>{console.log("\u2705 Perfil salvo:",n.userId),e(n)},o.onerror=()=>{console.error("\u274c Erro ao salvar perfil:",o.error),r(o.error)}})}async getUserProfile(e){const t=(await this.ensureReady()).transaction(MC,"readonly").objectStore(MC);return new Promise((n,r)=>{const o=t.get(e);o.onsuccess=()=>n(o.result||null),o.onerror=()=>r(o.error)})}async saveDeck(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=(await this.ensureReady()).transaction(FC,"readwrite").objectStore(FC),r=(0,s.A)((0,s.A)({},e),{},{_synced:void 0!==t.synced&&t.synced,_pending:t.pending||[],_lastSync:t.synced?Date.now():e._lastSync||0,_localChanges:t.localChanges||{},_version:(e._version||0)+1,_updatedAt:Date.now()});return new Promise((e,t)=>{const o=n.put(r);o.onsuccess=()=>{console.log("\u2705 Deck salvo:",r.id),e(r)},o.onerror=()=>{console.error("\u274c Erro ao salvar deck:",o.error),t(o.error)}})}async getDeck(e){const t=(await this.ensureReady()).transaction(FC,"readonly").objectStore(FC);return new Promise((n,r)=>{const o=t.get(e);o.onsuccess=()=>n(o.result||null),o.onerror=()=>r(o.error)})}async getUserDecks(e){const t=(await this.ensureReady()).transaction(FC,"readonly").objectStore(FC).index("userId");return new Promise((n,r)=>{const o=t.getAll(e);o.onsuccess=()=>n(o.result||[]),o.onerror=()=>r(o.error)})}async deleteDeck(e){const t=(await this.ensureReady()).transaction([FC,LC],"readwrite"),n=t.objectStore(FC),r=t.objectStore(LC).index("deck_id");return new Promise((o,a)=>{n.delete(e);r.openCursor(IDBKeyRange.only(e)).onsuccess=e=>{const t=e.target.result;t&&(t.delete(),t.continue())},t.oncomplete=()=>{console.log("\u2705 Deck deletado:",e),o()},t.onerror=()=>{console.error("\u274c Erro ao deletar deck:",t.error),a(t.error)}})}async saveCard(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=(await this.ensureReady()).transaction(LC,"readwrite").objectStore(LC),r=(0,s.A)((0,s.A)({},e),{},{_synced:void 0!==t.synced&&t.synced,_pending:t.pending||[],_lastSync:t.synced?Date.now():e._lastSync||0,_version:(e._version||0)+1,_updatedAt:Date.now()});return new Promise((e,t)=>{const o=n.put(r);o.onsuccess=()=>{console.log("\u2705 Carta salva:",r.id),e(r)},o.onerror=()=>{console.error("\u274c Erro ao salvar carta:",o.error),t(o.error)}})}async getCard(e){const t=(await this.ensureReady()).transaction(LC,"readonly").objectStore(LC);return new Promise((n,r)=>{const o=t.get(e);o.onsuccess=()=>n(o.result||null),o.onerror=()=>r(o.error)})}async getDeckCards(e){const t=(await this.ensureReady()).transaction(LC,"readonly").objectStore(LC).index("deck_id");return new Promise((n,r)=>{const o=t.getAll(e);o.onsuccess=()=>n(o.result||[]),o.onerror=()=>r(o.error)})}async deleteCard(e){const t=(await this.ensureReady()).transaction(LC,"readwrite").objectStore(LC);return new Promise((n,r)=>{const o=t.delete(e);o.onsuccess=()=>{console.log("\u2705 Carta deletada:",e),n()},o.onerror=()=>{console.error("\u274c Erro ao deletar carta:",o.error),r(o.error)}})}async addToSyncQueue(e){const t=(await this.ensureReady()).transaction(UC,"readwrite").objectStore(UC),n=(0,s.A)({id:"sync_".concat(Date.now(),"_").concat(Math.random().toString(36).substr(2,9)),timestamp:Date.now(),status:"pending",retries:0},e);return new Promise((e,r)=>{const o=t.add(n);o.onsuccess=()=>{console.log("\u2705 Adicionado \xe0 fila de sync:",n.id),e(n)},o.onerror=()=>{console.error("\u274c Erro ao adicionar \xe0 fila:",o.error),r(o.error)}})}async getPendingSyncOperations(){const e=(await this.ensureReady()).transaction(UC,"readonly").objectStore(UC).index("status");return new Promise((t,n)=>{const r=e.getAll("pending");r.onsuccess=()=>t(r.result||[]),r.onerror=()=>n(r.error)})}async updateSyncOperation(e,t){const n=(await this.ensureReady()).transaction(UC,"readwrite").objectStore(UC);return new Promise((r,o)=>{const a=n.get(e);a.onsuccess=()=>{const e=a.result;if(!e)return void o(new Error("Opera\xe7\xe3o n\xe3o encontrada"));const i=(0,s.A)((0,s.A)({},e),t),l=n.put(i);l.onsuccess=()=>r(i),l.onerror=()=>o(l.error)},a.onerror=()=>o(a.error)})}async removeSyncOperation(e){const t=(await this.ensureReady()).transaction(UC,"readwrite").objectStore(UC);return new Promise((n,r)=>{const o=t.delete(e);o.onsuccess=()=>n(),o.onerror=()=>r(o.error)})}async addSyncLog(e){const t=(await this.ensureReady()).transaction(zC,"readwrite").objectStore(zC),n=(0,s.A)({timestamp:Date.now()},e);return new Promise((e,r)=>{const o=t.add(n);o.onsuccess=()=>e(n),o.onerror=()=>r(o.error)})}async getSyncLogs(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:50;const t=(await this.ensureReady()).transaction(zC,"readonly").objectStore(zC).index("timestamp");return new Promise((n,r)=>{const o=[],a=t.openCursor(null,"prev");a.onsuccess=t=>{const r=t.target.result;r&&o.length<e?(o.push(r.value),r.continue()):n(o)},a.onerror=()=>r(a.error)})}async clearAll(){const e=await this.ensureReady(),t=[MC,FC,LC,UC,zC],n=e.transaction(t,"readwrite");return new Promise((e,r)=>{t.forEach(e=>{n.objectStore(e).clear()}),n.oncomplete=()=>{console.log("\ud83d\uddd1\ufe0f Todos os dados limpos"),e()},n.onerror=()=>r(n.error)})}async getStats(){const e=(await this.ensureReady()).transaction([FC,LC,UC],"readonly"),t=e.objectStore(FC),n=e.objectStore(LC),r=e.objectStore(UC),o=await Promise.all([new Promise(e=>{const n=t.count();n.onsuccess=()=>e(n.result)}),new Promise(e=>{const t=n.count();t.onsuccess=()=>e(t.result)}),new Promise(e=>{const t=r.count();t.onsuccess=()=>e(t.result)})]);return{totalDecks:o[0],totalCards:o[1],pendingSync:o[2]}}};"undefined"!==typeof window&&(window.unifiedStorage=BC,console.log("\ud83d\uddc4\ufe0f UnifiedStorage dispon\xedvel em window.unifiedStorage"));const qC=BC;function VC(e,t){return{path:t}}function WC(e,t,n){return{id:n,path:"".concat(t,"/").concat(n)}}async function HC(e){try{let t=e.path||e.tableName;t={users:"users",decks:"decks",cards:"deck_cards",messages:"messages",friendships:"friendships",usernames:"usernames"}[t]||t;let n=xt.ND.from(t).select("*");e.whereFilters&&e.whereFilters.forEach(e=>{const[t,r,o]=e;switch(r){case"==":n=n.eq(t,o);break;case"!=":n=n.neq(t,o);break;case">":n=n.gt(t,o);break;case">=":n=n.gte(t,o);break;case"<":n=n.lt(t,o);break;case"<=":n=n.lte(t,o);break;case"in":n=n.in(t,o);break;case"array-contains":n=n.contains(t,[o])}}),e.orderByField&&(n=n.order(e.orderByField,{ascending:"desc"!==e.orderByDirection})),e.limitValue&&(n=n.limit(e.limitValue));const{data:r,error:o}=await n;if(o)throw o;const a=(r||[]).map(e=>({id:e.id,exists:()=>!0,data:()=>{const t=(0,s.A)({},e);return t.created_at&&(t.createdAt={toDate:()=>new Date(t.created_at)}),t.updated_at&&(t.updatedAt={toDate:()=>new Date(t.updated_at)}),t}}));return{docs:a,empty:0===a.length,size:a.length}}catch(t){throw console.error("Erro em getDocs:",t),t}}async function KC(e){try{const[t,n]=e.path.split("/"),r={users:"users",decks:"decks",cards:"deck_cards",messages:"messages",friendships:"friendships",usernames:"usernames"}[t]||t,{data:o,error:a}=await xt.ND.from(r).select("*").eq("id",n).single();if(a&&"PGRST116"!==a.code)throw a;return{id:n,exists:()=>!!o,data:()=>{if(!o)return;const e=(0,s.A)({},o);return e.created_at&&(e.createdAt={toDate:()=>new Date(e.created_at)}),e.updated_at&&(e.updatedAt={toDate:()=>new Date(e.updated_at)}),e}}}catch(t){throw console.error("Erro em getDoc:",t),t}}async function GC(e,t){try{const n=e.path,r={users:"users",decks:"decks",cards:"deck_cards",messages:"messages",friendships:"friendships",usernames:"usernames"}[n]||n,o=(0,s.A)({},t);o.createdAt&&(o.created_at=(new Date).toISOString(),delete o.createdAt),o.updatedAt&&(o.updated_at=(new Date).toISOString(),delete o.updatedAt),"decks"===r&&o.ownerId&&(o.owner_id=o.ownerId,delete o.ownerId);const{data:a,error:i}=await xt.ND.from(r).insert(o).select().single();if(i)throw i;return{id:a.id,path:"".concat(n,"/").concat(a.id)}}catch(n){throw console.error("Erro em addDoc:",n),n}}async function QC(e,t){try{const[n,r]=e.path.split("/"),o={users:"users",decks:"decks",cards:"deck_cards",messages:"messages",friendships:"friendships",usernames:"usernames"}[n]||n,a=(0,s.A)({},t);for(const[e,t]of Object.entries(a))if(t&&"object"===typeof t&&"arrayUnion"===t.type){const{data:n}=await xt.ND.from(o).select(e).eq("id",r).single(),i=(null===n||void 0===n?void 0:n[e])||[],s=t.elements,l=Array.from(new Set([...i,...s]));a[e]=l}else if(t&&"object"===typeof t&&"arrayRemove"===t.type){const{data:n}=await xt.ND.from(o).select(e).eq("id",r).single(),i=(null===n||void 0===n?void 0:n[e])||[],s=t.elements,l=i.filter(e=>!s.includes(e));a[e]=l}a.updatedAt&&(a.updated_at=(new Date).toISOString(),delete a.updatedAt),"decks"===o&&a.ownerId&&(a.owner_id=a.ownerId,delete a.ownerId);const{error:i}=await xt.ND.from(o).update(a).eq("id",r);if(i)throw i}catch(n){throw console.error("Erro em updateDoc:",n),n}}async function YC(e){try{const[t,n]=e.path.split("/"),r={users:"users",decks:"decks",cards:"deck_cards",messages:"messages",friendships:"friendships",usernames:"usernames"}[t]||t,{error:o}=await xt.ND.from(r).delete().eq("id",n);if(o)throw o}catch(t){throw console.error("Erro em deleteDoc:",t),t}}function $C(e){const t=(0,s.A)((0,s.A)({},e),{},{whereFilters:[],orderByField:null,orderByDirection:"asc",limitValue:null,tableName:e.path});for(var n=arguments.length,r=new Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];return r.forEach(e=>{"where"===e.type?t.whereFilters.push([e.field,e.operator,e.value]):"orderBy"===e.type?(t.orderByField=e.field,t.orderByDirection=e.direction):"limit"===e.type&&(t.limitValue=e.value)}),t}function XC(e,t,n){return{type:"where",field:e,operator:t,value:n}}function JC(){return(new Date).toISOString()}const ZC=["_synced","_pending","_localChanges","_version","_updatedAt"],eA=["_synced","_pending","_localChanges","_version","_updatedAt"],tA=["_synced","_pending","_version","_updatedAt"],nA=["_synced","_pending","_version","_updatedAt"];const rA=new class{constructor(){this.isSyncing=!1,this.syncIntervalId=null,this.listeners=new Set,this.setupConnectivityMonitor(),this.startAutoSync(),console.log("\ud83d\udd04 SyncManager inicializado")}setupConnectivityMonitor(){window.addEventListener("online",()=>{console.log("\ud83c\udf10 Online! Iniciando sincroniza\xe7\xe3o..."),this.emit("online"),this.syncNow()}),window.addEventListener("offline",()=>{console.log("\ud83d\udcf4 Offline - Modo local ativado"),this.emit("offline")})}startAutoSync(){this.syncIntervalId||(this.syncIntervalId=setInterval(()=>{navigator.onLine&&!this.isSyncing&&this.syncPending()},3e4),console.log("\u2705 Auto-sync ativado (30s)"))}stopAutoSync(){this.syncIntervalId&&(clearInterval(this.syncIntervalId),this.syncIntervalId=null,console.log("\u23f8\ufe0f Auto-sync desativado"))}on(e,t){this.listeners.add({event:e,callback:t})}emit(e,t){this.listeners.forEach(n=>{n.event===e&&n.callback(t)})}async syncNow(){this.isSyncing?console.log("\u23f3 Sincroniza\xe7\xe3o j\xe1 em andamento..."):navigator.onLine?(console.log("\ud83d\udd04 Iniciando sincroniza\xe7\xe3o manual..."),await this.syncPending()):console.log("\ud83d\udcf4 Offline - sincroniza\xe7\xe3o adiada")}async syncPending(){if(!this.isSyncing){this.isSyncing=!0,this.emit("syncStart");try{const t=await qC.getPendingSyncOperations();if(0===t.length)return console.log("\u2705 Nenhuma opera\xe7\xe3o pendente"),void(this.isSyncing=!1);console.log("\ud83d\udd04 Sincronizando ".concat(t.length," opera\xe7\xf5es..."));let n=0,r=0;for(const o of t)try{await qC.updateSyncOperation(o.id,{status:"processing"}),await this.executeOperation(o),await qC.removeSyncOperation(o.id),n++,console.log("\u2705 Sincronizado: ".concat(o.type))}catch(e){console.error("\u274c Falha ao sincronizar ".concat(o.type,":"),e);const t=o.retries+1;t>=5?(await qC.updateSyncOperation(o.id,{status:"failed",retries:t,lastError:e.message}),r++):await qC.updateSyncOperation(o.id,{status:"pending",retries:t,lastError:e.message,nextRetry:Date.now()+1e3*Math.pow(2,t)})}await qC.addSyncLog({operation:"SYNC_BATCH",itemsSynced:n,itemsFailed:r,totalOperations:t.length}),console.log("\u2705 Sincroniza\xe7\xe3o conclu\xedda: ".concat(n," sucesso, ").concat(r," falhas")),this.emit("syncComplete",{successCount:n,failCount:r})}catch(e){console.error("\u274c Erro na sincroniza\xe7\xe3o:",e),this.emit("syncError",e)}finally{this.isSyncing=!1}}}async executeOperation(e){const{type:t,entityType:n,entityId:r,data:o}=e;switch(t){case"CREATE_DECK":return await this.createDeckOnFirebase(o);case"UPDATE_DECK":return await this.updateDeckOnFirebase(r,o);case"DELETE_DECK":return await this.deleteDeckOnFirebase(r);case"CREATE_CARD":return await this.createCardOnFirebase(o);case"UPDATE_CARD":return await this.updateCardOnFirebase(r,o);case"DELETE_CARD":return await this.deleteCardOnFirebase(r);default:throw new Error("Tipo de opera\xe7\xe3o desconhecido: ".concat(t))}}async createDeckOnFirebase(e){try{const{_synced:t,_pending:n,_localChanges:r,_version:o,_updatedAt:a}=e,l=i(e,ZC),c=await GC(VC(0,"decks"),(0,s.A)((0,s.A)({},l),{},{created_at:JC(),updated_at:JC()})),u=await qC.getDeck(e.id);return u&&(await qC.deleteDeck(e.id),await qC.saveDeck((0,s.A)((0,s.A)({},u),{},{id:c.id}),{synced:!0})),console.log("\u2705 Deck criado no Firebase:",c.id),c.id}catch(t){if("resource-exhausted"===t.code)throw console.log("\u26a0\ufe0f Quota do Firebase excedida - opera\xe7\xe3o adiada"),new Error("QUOTA_EXCEEDED");throw t}}async updateDeckOnFirebase(e,t){try{const{_synced:n,_pending:r,_localChanges:o,_version:a,_updatedAt:l}=t,c=i(t,eA),u=WC(0,"decks",e);await QC(u,(0,s.A)((0,s.A)({},c),{},{updated_at:JC()}));const d=await qC.getDeck(e);d&&await qC.saveDeck(d,{synced:!0}),console.log("\u2705 Deck atualizado no Firebase:",e)}catch(n){if("resource-exhausted"===n.code)throw new Error("QUOTA_EXCEEDED");throw n}}async deleteDeckOnFirebase(e){try{const t=WC(0,"decks",e);await YC(t),console.log("\u2705 Deck deletado no Firebase:",e)}catch(t){if("resource-exhausted"===t.code)throw new Error("QUOTA_EXCEEDED");throw t}}async createCardOnFirebase(e){try{const{_synced:t,_pending:n,_version:r,_updatedAt:o}=e,a=i(e,tA),l=await GC(VC(0,"cards"),(0,s.A)((0,s.A)({},a),{},{created_at:JC()})),c=await qC.getCard(e.id);return c&&(await qC.deleteCard(e.id),await qC.saveCard((0,s.A)((0,s.A)({},c),{},{id:l.id}),{synced:!0})),console.log("\u2705 Carta criada no Firebase:",l.id),l.id}catch(t){if("resource-exhausted"===t.code)throw new Error("QUOTA_EXCEEDED");throw t}}async updateCardOnFirebase(e,t){try{const{_synced:n,_pending:r,_version:o,_updatedAt:a}=t,s=i(t,nA),l=WC(0,"cards",e);await QC(l,s);const c=await qC.getCard(e);c&&await qC.saveCard(c,{synced:!0}),console.log("\u2705 Carta atualizada no Firebase:",e)}catch(n){if("resource-exhausted"===n.code)throw new Error("QUOTA_EXCEEDED");throw n}}async deleteCardOnFirebase(e){try{const t=WC(0,"cards",e);await YC(t),console.log("\u2705 Carta deletada no Firebase:",e)}catch(t){if("resource-exhausted"===t.code)throw new Error("QUOTA_EXCEEDED");throw t}}async pullFromFirebase(e){if(navigator.onLine){console.log("\u2b07\ufe0f Baixando dados do Firebase...");try{const t=$C(VC(0,"decks"),XC("userId","==",e)),n=await HC(t);for(const e of n.docs){const t=(0,s.A)({id:e.id},e.data()),n=await qC.getDeck(e.id);n?await this.resolveConflict("deck",n,t):(await qC.saveDeck(t,{synced:!0}),console.log("\u2b07\ufe0f Deck baixado:",e.id))}const r=n.docs.map(e=>e.id);for(const e of r){const t=$C(VC(0,"cards"),XC("deck_id","==",e)),n=await HC(t);for(const e of n.docs){const t=(0,s.A)({id:e.id},e.data()),n=await qC.getCard(e.id);n?await this.resolveConflict("card",n,t):(await qC.saveCard(t,{synced:!0}),console.log("\u2b07\ufe0f Carta baixada:",e.id))}}console.log("\u2705 Pull do Firebase conclu\xeddo"),this.emit("pullComplete")}catch(t){throw console.error("\u274c Erro no pull do Firebase:",t),t}}else console.log("\ud83d\udcf4 Offline - pull adiado")}async resolveConflict(e,t,n){var r,o,a,i;const s=t._updatedAt||(null===(r=t.updated_at)||void 0===r||null===(o=r.toMillis)||void 0===o?void 0:o.call(r))||0,l=(null===(a=n.updated_at)||void 0===a||null===(i=a.toMillis)||void 0===i?void 0:i.call(a))||n._updatedAt||0;console.log("\u2696\ufe0f Resolvendo conflito (".concat(e,"):"),{local:new Date(s),firebase:new Date(l)}),t._pending&&t._pending.length>0?console.log("\u2705 Local tem mudan\xe7as pendentes - mant\xe9m local"):l>s?(console.log("\u2705 Firebase mais recente - atualiza local"),"deck"===e?await qC.saveDeck(n,{synced:!0}):"card"===e&&await qC.saveCard(n,{synced:!0})):(console.log("\u2705 Local mais recente - mant\xe9m local"),"deck"===e?await qC.saveDeck(t,{synced:!0}):"card"===e&&await qC.saveCard(t,{synced:!0}))}async getStatus(){const e=await qC.getPendingSyncOperations(),t=await qC.getStats(),n=await qC.getSyncLogs(10);return{isOnline:navigator.onLine,isSyncing:this.isSyncing,pendingOperations:e.length,stats:t,recentLogs:n}}};"undefined"!==typeof window&&(window.syncManager=rA,console.log("\ud83d\udd04 SyncManager dispon\xedvel em window.syncManager"));const oA=rA;const aA=new class{constructor(){this.cache=new Map,this.listeners=new Map}async getUserProfile(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{forceRefresh:n=!1}=t;try{const t=await qC.getUserProfile(e);if(t&&!n)return console.log("\u26a1 Perfil carregado do cache"),this.refreshUserProfileInBackground(e),t;if(navigator.onLine){console.log("\ud83c\udf10 Buscando perfil do Firebase...");const t=await this.fetchUserProfileFromFirebase(e);if(t)return await qC.saveUserProfile(t),t}return t}catch(r){return console.error("\u274c Erro ao buscar perfil:",r),await qC.getUserProfile(e)}}async refreshUserProfileInBackground(e){if(navigator.onLine)try{const t=await this.fetchUserProfileFromFirebase(e);t&&(await qC.saveUserProfile(t),this.notifyListeners("user_".concat(e),t))}catch(t){console.error("\u274c Erro ao atualizar perfil em background:",t)}}async fetchUserProfileFromFirebase(e){const t=WC(0,"users",e),n=await KC(t);return n.exists()?(0,s.A)({userId:e},n.data()):null}async getUserDecks(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{forceRefresh:n=!1}=t;try{const t=await qC.getUserDecks(e);return t.length>0&&!n?(console.log("\u26a1 ".concat(t.length," decks carregados do cache")),this.refreshDecksInBackground(e),t):navigator.onLine?(console.log("\ud83c\udf10 Buscando decks do Firebase..."),await oA.pullFromFirebase(e),await qC.getUserDecks(e)):t}catch(r){return console.error("\u274c Erro ao buscar decks:",r),await qC.getUserDecks(e)}}async refreshDecksInBackground(e){if(navigator.onLine)try{await oA.pullFromFirebase(e);const t=await qC.getUserDecks(e);this.notifyListeners("decks_".concat(e),t)}catch(t){console.error("\u274c Erro ao atualizar decks em background:",t)}}async getDeck(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{forceRefresh:n=!1}=t;try{const t=await qC.getDeck(e);if(t&&!n)return console.log("\u26a1 Deck carregado do cache:",e),this.refreshDeckInBackground(e),t;if(navigator.onLine){console.log("\ud83c\udf10 Buscando deck do Firebase:",e);const t=await this.fetchDeckFromFirebase(e);if(t)return await qC.saveDeck(t,{synced:!0}),t}return t}catch(r){return console.error("\u274c Erro ao buscar deck:",r),await qC.getDeck(e)}}async refreshDeckInBackground(e){if(navigator.onLine)try{const t=await this.fetchDeckFromFirebase(e);t&&(await qC.saveDeck(t,{synced:!0}),this.notifyListeners("deck_".concat(e),t))}catch(t){console.error("\u274c Erro ao atualizar deck em background:",t)}}async fetchDeckFromFirebase(e){const t=WC(0,"decks",e),n=await KC(t);return n.exists()?(0,s.A)({id:e},n.data()):null}async getDeckCards(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{forceRefresh:n=!1}=t;try{const t=await qC.getDeckCards(e);if(t.length>0&&!n)return console.log("\u26a1 ".concat(t.length," cartas carregadas do cache")),this.refreshCardsInBackground(e),t;if(navigator.onLine){console.log("\ud83c\udf10 Buscando cartas do Firebase:",e);const t=await this.fetchCardsFromFirebase(e);for(const e of t)await qC.saveCard(e,{synced:!0});return t}return t}catch(r){return console.error("\u274c Erro ao buscar cartas:",r),await qC.getDeckCards(e)}}async refreshCardsInBackground(e){if(navigator.onLine)try{const t=await this.fetchCardsFromFirebase(e);for(const e of t)await qC.saveCard(e,{synced:!0});this.notifyListeners("cards_".concat(e),t)}catch(t){console.error("\u274c Erro ao atualizar cartas em background:",t)}}async fetchCardsFromFirebase(e){const t=$C(VC(0,"cards"),XC("deck_id","==",e));return(await HC(t)).docs.map(e=>(0,s.A)({id:e.id},e.data()))}async createDeck(e,t){try{const n="temp_".concat(Date.now(),"_").concat(Math.random().toString(36).substr(2,9)),r=(0,s.A)((0,s.A)({id:n,userId:t},e),{},{created_at:(new Date).toISOString(),updated_at:(new Date).toISOString()});return await qC.saveDeck(r,{synced:!1,pending:["CREATE"]}),await qC.addToSyncQueue({type:"CREATE_DECK",entityType:"decks",entityId:n,data:r}),console.log("\u2705 Deck criado localmente:",n),oA.syncNow(),r}catch(n){throw console.error("\u274c Erro ao criar deck:",n),n}}async updateDeck(e,t){try{const n=await qC.getDeck(e);if(!n)throw new Error("Deck ".concat(e," n\xe3o encontrado"));const r=(0,s.A)((0,s.A)((0,s.A)({},n),t),{},{updated_at:(new Date).toISOString()});return await qC.saveDeck(r,{synced:!1,pending:["UPDATE"]}),await qC.addToSyncQueue({type:"UPDATE_DECK",entityType:"decks",entityId:e,data:t}),console.log("\u2705 Deck atualizado localmente:",e),oA.syncNow(),r}catch(n){throw console.error("\u274c Erro ao atualizar deck:",n),n}}async deleteDeck(e){try{await qC.deleteDeck(e),await qC.addToSyncQueue({type:"DELETE_DECK",entityType:"decks",entityId:e}),console.log("\u2705 Deck deletado localmente:",e),oA.syncNow()}catch(t){throw console.error("\u274c Erro ao deletar deck:",t),t}}async addCard(e,t){try{const n="temp_".concat(Date.now(),"_").concat(Math.random().toString(36).substr(2,9)),r=(0,s.A)((0,s.A)({id:n,deck_id:e},t),{},{created_at:(new Date).toISOString()});return await qC.saveCard(r,{synced:!1,pending:["CREATE"]}),await qC.addToSyncQueue({type:"CREATE_CARD",entityType:"cards",entityId:n,data:r}),console.log("\u2705 Carta adicionada localmente:",n),oA.syncNow(),r}catch(n){throw console.error("\u274c Erro ao adicionar carta:",n),n}}async updateCard(e,t){try{const n=await qC.getCard(e);if(!n)throw new Error("Carta ".concat(e," n\xe3o encontrada"));const r=(0,s.A)((0,s.A)({},n),t);return await qC.saveCard(r,{synced:!1,pending:["UPDATE"]}),await qC.addToSyncQueue({type:"UPDATE_CARD",entityType:"cards",entityId:e,data:t}),console.log("\u2705 Carta atualizada localmente:",e),oA.syncNow(),r}catch(n){throw console.error("\u274c Erro ao atualizar carta:",n),n}}async deleteCard(e){try{await qC.deleteCard(e),await qC.addToSyncQueue({type:"DELETE_CARD",entityType:"cards",entityId:e}),console.log("\u2705 Carta deletada localmente:",e),oA.syncNow()}catch(t){throw console.error("\u274c Erro ao deletar carta:",t),t}}subscribe(e,t){return this.listeners.has(e)||this.listeners.set(e,new Set),this.listeners.get(e).add(t),()=>{const n=this.listeners.get(e);n&&n.delete(t)}}notifyListeners(e,t){const n=this.listeners.get(e);n&&n.forEach(e=>e(t))}clearCache(){this.cache.clear(),console.log("\ud83e\uddf9 Cache em mem\xf3ria limpo")}};"undefined"!==typeof window&&(window.queryManager=aA,console.log("\ud83d\udd0d QueryManager dispon\xedvel em window.queryManager"));const iA=new class{constructor(){this.initialized=!1}async initialize(){if(this.initialized)console.log("\u2705 Sistema j\xe1 inicializado");else{console.log("\ud83d\ude80 Inicializando sistema offline-first...");try{await qC.ensureReady(),console.log("\u2705 UnifiedStorage pronto");const e=xt.j2.currentUser;e&&await this.loadUserProfile(e),oA.startAutoSync(),console.log("\u2705 Auto-sync ativado"),navigator.onLine&&e&&(console.log("\ud83c\udf10 Fazendo pull inicial do Firebase..."),await oA.pullFromFirebase(e.uid)),this.initialized=!0,console.log("\ud83c\udf89 Sistema inicializado com sucesso!");const t=await qC.getStats();console.log("\ud83d\udcca Estat\xedsticas:",t)}catch(e){console.error("\u274c Erro ao inicializar sistema:",e)}}}async loadUserProfile(e){try{await qC.getUserProfile(e.uid)?console.log("\u2705 Perfil do usu\xe1rio carregado do cache"):(await qC.saveUserProfile({userId:e.uid,username:e.displayName||"Usu\xe1rio",email:e.email,photoURL:e.photoURL}),console.log("\u2705 Perfil do usu\xe1rio salvo em cache"))}catch(t){console.error("\u274c Erro ao carregar perfil:",t)}}async reinitialize(){this.initialized=!1,await this.initialize()}async getStatus(){const e=await qC.getStats(),t=await oA.getStatus();return{initialized:this.initialized,online:navigator.onLine,stats:e,sync:t}}};"undefined"!==typeof window&&(window.appInitializer=iA,console.log("\ud83d\ude80 AppInitializer dispon\xedvel em window.appInitializer"));const sA=iA;function lA(e){let{children:t}=e;const[n,o]=St(),[a,i]=r.useState(!1);return r.useEffect(()=>{const e=setTimeout(()=>{o&&(console.log("\u26a0\ufe0f ProtectedRoute - Timeout de seguran\xe7a atingido, for\xe7ando exibi\xe7\xe3o"),i(!0))},5e3);return()=>clearTimeout(e)},[o]),o&&!a?(0,kt.jsx)("div",{className:"flex items-center justify-center h-screen bg-black text-white",children:(0,kt.jsxs)("div",{className:"text-center",children:[(0,kt.jsx)("img",{src:"/logo192.png",alt:"Logo",className:"mx-auto mb-6 w-24 h-24"}),(0,kt.jsx)("div",{className:"mb-4 text-xl font-bold",children:"Carregando..."}),(0,kt.jsx)("div",{className:"text-sm text-gray-400",children:"Verificando autentica\xe7\xe3o..."})]})}):n?(0,kt.jsx)(kt.Fragment,{children:t}):(0,kt.jsx)(Ne,{to:"/login",replace:!0})}const cA=function(){console.log("\ud83d\ude80 App inicializando...");const[e,t]=St(),n=he();return console.log("\ud83d\udc64 App - user:",e?e.email:"sem usu\xe1rio","loading:",t),(0,r.useEffect)(()=>{console.log("\ud83d\udd27 Inicializando appInitializer...");try{sA.initialize(),console.log("\u2705 appInitializer inicializado")}catch(e){console.error("\u274c Erro no appInitializer:",e)}},[]),(0,r.useEffect)(()=>{e&&!t&&console.log("\u2705 Usu\xe1rio logado:",e.email)},[e,t]),(0,r.useEffect)(()=>{const r=new URLSearchParams(window.location.hash.substring(1)),o=r.get("access_token"),a=r.get("type");(o||"recovery"===a)&&(console.log("\ud83d\udd04 Callback OAuth detectado, processando tokens...",{type:a,hasUser:!!e,loading:t}),e&&!t&&(console.log("\u2705 Usu\xe1rio autenticado, redirecionando para home..."),window.history.replaceState(null,"",window.location.pathname),n("/",{replace:!0})))},[n,e,t]),(0,kt.jsxs)(kt.Fragment,{children:[(0,kt.jsxs)(Oe,{children:[(0,kt.jsx)(De,{path:"/login",element:(0,kt.jsx)(r.Suspense,{fallback:(0,kt.jsx)("div",{className:"flex items-center justify-center h-screen bg-gray-900 text-white",children:"Carregando login..."}),children:(0,kt.jsx)(TC,{})})}),(0,kt.jsx)(De,{path:"/signup",element:(0,kt.jsx)(r.Suspense,{fallback:(0,kt.jsx)("div",{className:"flex items-center justify-center h-screen bg-gray-900 text-white",children:"Carregando cadastro..."}),children:(0,kt.jsx)(NC,{})})}),(0,kt.jsx)(De,{path:"/",element:(0,kt.jsx)(lA,{children:(0,kt.jsx)(u_,{})})}),(0,kt.jsx)(De,{path:"/deckbuilder/:id",element:(0,kt.jsx)(lA,{children:(0,kt.jsx)(V_,{})})}),(0,kt.jsx)(De,{path:"/create",element:(0,kt.jsx)(lA,{children:(0,kt.jsx)(jC,{})})}),(0,kt.jsx)(De,{path:"/friend/:friendId/decks",element:(0,kt.jsx)(lA,{children:(0,kt.jsx)(DC,{})})}),(0,kt.jsx)(De,{path:"/collection",element:(0,kt.jsx)(lA,{children:(0,kt.jsx)(OC,{})})}),(0,kt.jsx)(De,{path:"/trade",element:(0,kt.jsx)(lA,{children:(0,kt.jsx)(IC,{})})}),(0,kt.jsx)(De,{path:"*",element:(0,kt.jsx)(Ne,{to:"/",replace:!0})})]}),!1]})},uA=e=>{e&&e instanceof Function&&n.e(453).then(n.bind(n,453)).then(t=>{let{getCLS:n,getFID:r,getFCP:o,getLCP:a,getTTFB:i}=t;n(e),r(e),o(e),a(e),i(e)})};var dA,hA,fA,pA,mA,gA,vA,yA,bA,wA,xA,SA,kA=(dA=new WeakMap,class extends It{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};super(),Tt(this,dA,void 0),this.config=e,Pt(dA,this,new Map)}build(e,t,n){var r;const o=t.queryKey,a=null!==(r=t.queryHash)&&void 0!==r?r:Gt(o,t);let i=this.get(a);return i||(i=new $n({client:e,queryKey:o,queryHash:a,options:e.defaultQueryOptions(t),state:n,defaultOptions:e.getQueryDefaults(o)}),this.add(i)),i}add(e){Dt(dA,this).has(e.queryHash)||(Dt(dA,this).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const t=Dt(dA,this).get(e.queryHash);t&&(e.destroy(),t===e&&Dt(dA,this).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){vn.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return Dt(dA,this).get(e)}getAll(){return[...Dt(dA,this).values()]}find(e){const t=(0,s.A)({exact:!0},e);return this.getAll().find(e=>Ht(t,e))}findAll(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t=this.getAll();return Object.keys(e).length>0?t.filter(t=>Ht(e,t)):t}notify(e){vn.batch(()=>{this.listeners.forEach(t=>{t(e)})})}onFocus(){vn.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){vn.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}}),_A=(hA=new WeakMap,fA=new WeakMap,pA=new WeakMap,class extends It{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};super(),Tt(this,hA,void 0),Tt(this,fA,void 0),Tt(this,pA,void 0),this.config=e,Pt(hA,this,new Set),Pt(fA,this,new Map),Pt(pA,this,0)}build(e,t,n){var r;const o=new Nr({client:e,mutationCache:this,mutationId:Pt(pA,this,(r=Dt(pA,this),++r)),options:e.defaultMutationOptions(t),state:n});return this.add(o),o}add(e){Dt(hA,this).add(e);const t=EA(e);if("string"===typeof t){const n=Dt(fA,this).get(t);n?n.push(e):Dt(fA,this).set(t,[e])}this.notify({type:"added",mutation:e})}remove(e){if(Dt(hA,this).delete(e)){const t=EA(e);if("string"===typeof t){const n=Dt(fA,this).get(t);if(n)if(n.length>1){const t=n.indexOf(e);-1!==t&&n.splice(t,1)}else n[0]===e&&Dt(fA,this).delete(t)}}this.notify({type:"removed",mutation:e})}canRun(e){const t=EA(e);if("string"===typeof t){const n=Dt(fA,this).get(t),r=null===n||void 0===n?void 0:n.find(e=>"pending"===e.state.status);return!r||r===e}return!0}runNext(e){const t=EA(e);if("string"===typeof t){var n,r;const o=null===(n=Dt(fA,this).get(t))||void 0===n?void 0:n.find(t=>t!==e&&t.state.isPaused);return null!==(r=null===o||void 0===o?void 0:o.continue())&&void 0!==r?r:Promise.resolve()}return Promise.resolve()}clear(){vn.batch(()=>{Dt(hA,this).forEach(e=>{this.notify({type:"removed",mutation:e})}),Dt(hA,this).clear(),Dt(fA,this).clear()})}getAll(){return Array.from(Dt(hA,this))}find(e){const t=(0,s.A)({exact:!0},e);return this.getAll().find(e=>Kt(t,e))}findAll(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.getAll().filter(t=>Kt(e,t))}notify(e){vn.batch(()=>{this.listeners.forEach(t=>{t(e)})})}resumePausedMutations(){const e=this.getAll().filter(e=>e.state.isPaused);return vn.batch(()=>Promise.all(e.map(e=>e.continue().catch(zt))))}});function EA(e){var t;return null===(t=e.options.scope)||void 0===t?void 0:t.id}function CA(e){return{onFetch:(t,n)=>{var r,o,a;const i=t.options,s=null===(r=t.fetchOptions)||void 0===r||null===(r=r.meta)||void 0===r||null===(r=r.fetchMore)||void 0===r?void 0:r.direction,l=(null===(o=t.state.data)||void 0===o?void 0:o.pages)||[],c=(null===(a=t.state.data)||void 0===a?void 0:a.pageParams)||[];let u={pages:[],pageParams:[]},d=0;const h=async()=>{let n=!1;const r=un(t.options,t.fetchOptions),o=async(e,o,a)=>{if(n)return Promise.reject();if(null==o&&e.pages.length)return Promise.resolve(e);const i=(()=>{const e={client:t.client,queryKey:t.queryKey,pageParam:o,direction:a?"backward":"forward",meta:t.options.meta};var r;return r=e,Object.defineProperty(r,"signal",{enumerable:!0,get:()=>(t.signal.aborted?n=!0:t.signal.addEventListener("abort",()=>{n=!0}),t.signal)}),e})(),s=await r(i),{maxPages:l}=t.options,c=a?on:rn;return{pages:c(e.pages,s,l),pageParams:c(e.pageParams,o,l)}};if(s&&l.length){const e="backward"===s,t={pages:l,pageParams:c},n=(e?jA:AA)(i,t);u=await o(t,n,e)}else{const t=null!==e&&void 0!==e?e:l.length;do{var a;const e=0===d?null!==(a=c[0])&&void 0!==a?a:i.initialPageParam:AA(i,u);if(d>0&&null==e)break;u=await o(u,e),d++}while(d<t)}return u};t.options.persister?t.fetchFn=()=>{var e,r;return null===(e=(r=t.options).persister)||void 0===e?void 0:e.call(r,h,{client:t.client,queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},n)}:t.fetchFn=h}}}function AA(e,t){let{pages:n,pageParams:r}=t;const o=n.length-1;return n.length>0?e.getNextPageParam(n[o],n,r[o],r):void 0}function jA(e,t){var n;let{pages:r,pageParams:o}=t;return r.length>0?null===(n=e.getPreviousPageParam)||void 0===n?void 0:n.call(e,r[0],r,o[0],o):void 0}var TA=(mA=new WeakMap,gA=new WeakMap,vA=new WeakMap,yA=new WeakMap,bA=new WeakMap,wA=new WeakMap,xA=new WeakMap,SA=new WeakMap,class{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Tt(this,mA,void 0),Tt(this,gA,void 0),Tt(this,vA,void 0),Tt(this,yA,void 0),Tt(this,bA,void 0),Tt(this,wA,void 0),Tt(this,xA,void 0),Tt(this,SA,void 0),Pt(mA,this,e.queryCache||new kA),Pt(gA,this,e.mutationCache||new _A),Pt(vA,this,e.defaultOptions||{}),Pt(yA,this,new Map),Pt(bA,this,new Map),Pt(wA,this,0)}mount(){var e;Pt(wA,this,(e=Dt(wA,this),e++,e)),1===Dt(wA,this)&&(Pt(xA,this,hn.subscribe(async e=>{e&&(await this.resumePausedMutations(),Dt(mA,this).onFocus())})),Pt(SA,this,yn.subscribe(async e=>{e&&(await this.resumePausedMutations(),Dt(mA,this).onOnline())})))}unmount(){var e,t,n;Pt(wA,this,(e=Dt(wA,this),e--,e)),0===Dt(wA,this)&&(null===(t=Dt(xA,this))||void 0===t||t.call(this),Pt(xA,this,void 0),null===(n=Dt(SA,this))||void 0===n||n.call(this),Pt(SA,this,void 0))}isFetching(e){return Dt(mA,this).findAll((0,s.A)((0,s.A)({},e),{},{fetchStatus:"fetching"})).length}isMutating(e){return Dt(gA,this).findAll((0,s.A)((0,s.A)({},e),{},{status:"pending"})).length}getQueryData(e){var t;const n=this.defaultQueryOptions({queryKey:e});return null===(t=Dt(mA,this).get(n.queryHash))||void 0===t?void 0:t.state.data}ensureQueryData(e){const t=this.defaultQueryOptions(e),n=Dt(mA,this).build(this,t),r=n.state.data;return void 0===r?this.fetchQuery(e):(e.revalidateIfStale&&n.isStaleByTime(Vt(t.staleTime,n))&&this.prefetchQuery(t),Promise.resolve(r))}getQueriesData(e){return Dt(mA,this).findAll(e).map(e=>{let{queryKey:t,state:n}=e;return[t,n.data]})}setQueryData(e,t,n){const r=this.defaultQueryOptions({queryKey:e}),o=Dt(mA,this).get(r.queryHash),a=function(e,t){return"function"===typeof e?e(t):e}(t,null===o||void 0===o?void 0:o.state.data);if(void 0!==a)return Dt(mA,this).build(this,r).setData(a,(0,s.A)((0,s.A)({},n),{},{manual:!0}))}setQueriesData(e,t,n){return vn.batch(()=>Dt(mA,this).findAll(e).map(e=>{let{queryKey:r}=e;return[r,this.setQueryData(r,t,n)]}))}getQueryState(e){var t;const n=this.defaultQueryOptions({queryKey:e});return null===(t=Dt(mA,this).get(n.queryHash))||void 0===t?void 0:t.state}removeQueries(e){const t=Dt(mA,this);vn.batch(()=>{t.findAll(e).forEach(e=>{t.remove(e)})})}resetQueries(e,t){const n=Dt(mA,this);return vn.batch(()=>(n.findAll(e).forEach(e=>{e.reset()}),this.refetchQueries((0,s.A)({type:"active"},e),t)))}cancelQueries(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=(0,s.A)({revert:!0},t),r=vn.batch(()=>Dt(mA,this).findAll(e).map(e=>e.cancel(n)));return Promise.all(r).then(zt).catch(zt)}invalidateQueries(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return vn.batch(()=>{var n,r;return Dt(mA,this).findAll(e).forEach(e=>{e.invalidate()}),"none"===(null===e||void 0===e?void 0:e.refetchType)?Promise.resolve():this.refetchQueries((0,s.A)((0,s.A)({},e),{},{type:null!==(n=null!==(r=null===e||void 0===e?void 0:e.refetchType)&&void 0!==r?r:null===e||void 0===e?void 0:e.type)&&void 0!==n?n:"active"}),t)})}refetchQueries(e){var t;let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const r=(0,s.A)((0,s.A)({},n),{},{cancelRefetch:null===(t=n.cancelRefetch)||void 0===t||t}),o=vn.batch(()=>Dt(mA,this).findAll(e).filter(e=>!e.isDisabled()&&!e.isStatic()).map(e=>{let t=e.fetch(void 0,r);return r.throwOnError||(t=t.catch(zt)),"paused"===e.state.fetchStatus?Promise.resolve():t}));return Promise.all(o).then(zt)}fetchQuery(e){const t=this.defaultQueryOptions(e);void 0===t.retry&&(t.retry=!1);const n=Dt(mA,this).build(this,t);return n.isStaleByTime(Vt(t.staleTime,n))?n.fetch(t):Promise.resolve(n.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(zt).catch(zt)}fetchInfiniteQuery(e){return e.behavior=CA(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(zt).catch(zt)}ensureInfiniteQueryData(e){return e.behavior=CA(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return yn.isOnline()?Dt(gA,this).resumePausedMutations():Promise.resolve()}getQueryCache(){return Dt(mA,this)}getMutationCache(){return Dt(gA,this)}getDefaultOptions(){return Dt(vA,this)}setDefaultOptions(e){Pt(vA,this,e)}setQueryDefaults(e,t){Dt(yA,this).set(Qt(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...Dt(yA,this).values()],n={};return t.forEach(t=>{Yt(e,t.queryKey)&&Object.assign(n,t.defaultOptions)}),n}setMutationDefaults(e,t){Dt(bA,this).set(Qt(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...Dt(bA,this).values()],n={};return t.forEach(t=>{Yt(e,t.mutationKey)&&Object.assign(n,t.defaultOptions)}),n}defaultQueryOptions(e){if(e._defaulted)return e;const t=(0,s.A)((0,s.A)((0,s.A)((0,s.A)({},Dt(vA,this).queries),this.getQueryDefaults(e.queryKey)),e),{},{_defaulted:!0});return t.queryHash||(t.queryHash=Gt(t.queryKey,t)),void 0===t.refetchOnReconnect&&(t.refetchOnReconnect="always"!==t.networkMode),void 0===t.throwOnError&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===cn&&(t.enabled=!1),t}defaultMutationOptions(e){return null!==e&&void 0!==e&&e._defaulted?e:(0,s.A)((0,s.A)((0,s.A)((0,s.A)({},Dt(vA,this).mutations),(null===e||void 0===e?void 0:e.mutationKey)&&this.getMutationDefaults(e.mutationKey)),e),{},{_defaulted:!0})}clear(){Dt(mA,this).clear(),Dt(gA,this).clear()}}),NA=function(){return null};const DA=["deckmaster_pending_sync"];async function PA(){console.log("\ud83d\udd04 Iniciando migra\xe7\xe3o localStorage \u2192 IndexedDB...");let e=0,t=0;for(const r of DA)try{const t=localStorage.getItem(r);if(t){let n;try{n=JSON.parse(t)}catch(FA){n=t}await Lr.default.setItem(r,n),localStorage.removeItem(r),e++,console.log("\u2705 Migrado: ".concat(r))}}catch(n){console.error("\u274c Erro ao migrar ".concat(r,":"),n),t++}return console.log("\n\ud83c\udf89 Migra\xe7\xe3o conclu\xedda!\n  \u2705 Itens migrados: ".concat(e,"\n  \u274c Erros: ").concat(t,"\n  ")),{migratedCount:e,errors:t}}"undefined"!==typeof window&&(window.migrateToIndexedDB=PA,window.clearDeckMasterLocalStorage=function(){console.log("\ud83d\uddd1\ufe0f Limpando localStorage do DeckMaster...");let e=0;return Object.keys(localStorage).forEach(t=>{t.startsWith("deckmaster_")&&(localStorage.removeItem(t),e++)}),console.log("\u2705 ".concat(e," itens removidos do localStorage")),e},console.log("\ud83d\udca1 Use window.migrateToIndexedDB() para migrar dados do localStorage"),console.log("\ud83d\udca1 Use window.clearDeckMasterLocalStorage() para limpar localStorage"));const OA=new class{constructor(){this.MAX_CACHE_AGE=6048e5,this.MAX_CACHE_ITEMS=100,this.CACHE_PREFIX="deckmaster_cache_",this.LAST_CLEANUP_KEY="deckmaster_last_cleanup",this.autoCleanup()}async autoCleanup(){try{const e=localStorage.getItem(this.LAST_CLEANUP_KEY),t=Date.now();if(e&&t-parseInt(e)<864e5)return void console.log("\u2705 Cache limpo recentemente, nenhuma a\xe7\xe3o necess\xe1ria");console.log("\ud83e\uddf9 Iniciando limpeza autom\xe1tica de cache..."),await this.cleanLocalStorage(),await this.cleanReactQueryCache(),await this.cleanOfflineQueue(),localStorage.setItem(this.LAST_CLEANUP_KEY,t.toString()),console.log("\u2705 Limpeza de cache conclu\xedda!")}catch(e){console.error("\u274c Erro na limpeza autom\xe1tica:",e)}}async cleanLocalStorage(){const e=[],t=Date.now();for(let n=0;n<localStorage.length;n++){const r=localStorage.key(n);if(r&&r.startsWith(this.CACHE_PREFIX))try{const n=JSON.parse(localStorage.getItem(r));n.timestamp&&t-n.timestamp>this.MAX_CACHE_AGE&&e.push(r)}catch(IA){e.push(r)}}e.forEach(e=>{localStorage.removeItem(e)}),e.length>0&&console.log("\ud83d\uddd1\ufe0f Removidos ".concat(e.length," itens antigos do localStorage"))}async cleanReactQueryCache(){if("undefined"===typeof window||!window.queryClient)return;const e=window.queryClient,t=e.getQueryCache().getAll(),n=Date.now();let r=0;t.forEach(t=>{const o=t.state;(o.dataUpdatedAt&&n-o.dataUpdatedAt>this.MAX_CACHE_AGE||"error"===o.status)&&(e.removeQueries({queryKey:t.queryKey}),r++)}),r>0&&console.log("\ud83d\uddd1\ufe0f Removidas ".concat(r," queries antigas do cache"))}async cleanOfflineQueue(){const e=(await Promise.resolve().then(n.bind(n,922))).default,t="deckmaster_pending_sync";try{const n=await e.getItem(t);if(!n||!Array.isArray(n))return;const r=Date.now(),o=6048e5,a=100;let i=n.filter(e=>e.timestamp&&r-e.timestamp<o);i.length>a&&(i=i.slice(-a)),i.length<n.length&&(await e.setItem(t,i),console.log("\ud83d\uddd1\ufe0f Fila offline reduzida de ".concat(n.length," para ").concat(i.length," itens")))}catch(r){console.error("Erro ao limpar fila offline:",r)}}async forceCleanup(){console.log("\ud83e\uddf9 For\xe7ando limpeza completa do cache...");const e=["firebase:authUser","firebase:host","firebaseui::"];for(let n=localStorage.length-1;n>=0;n--){const t=localStorage.key(n);t&&!e.some(e=>t.includes(e))&&localStorage.removeItem(t)}window.queryClient&&window.queryClient.clear();const t=(await Promise.resolve().then(n.bind(n,922))).default;await t.setItem("deckmaster_pending_sync",[]),console.log("\u2705 Limpeza completa conclu\xedda!"),console.log("\ud83d\udca1 Dica: Recarregue a p\xe1gina para aplicar as mudan\xe7as")}async checkStorageUsage(){if("storage"in navigator&&"estimate"in navigator.storage){const e=await navigator.storage.estimate(),t=e.usage||0,n=e.quota||0,r=(t/n*100).toFixed(2);return console.log("\ud83d\udcca Storage Usage: ".concat((t/1024/1024).toFixed(2),"MB / ").concat((n/1024/1024).toFixed(2),"MB (").concat(r,"%)")),parseFloat(r)>80?(console.warn("\u26a0\ufe0f Storage est\xe1 ".concat(r,"% cheio! Considere limpar dados antigos.")),{usage:t,quota:n,percentUsed:r,warning:!0}):{usage:t,quota:n,percentUsed:r,warning:!1}}return null}getCacheInfo(){const e={localStorage:{items:localStorage.length,keys:[]},reactQuery:{queries:0}};for(let t=0;t<localStorage.length;t++){const n=localStorage.key(t);n&&e.localStorage.keys.push(n)}if(window.queryClient){const t=window.queryClient.getQueryCache();e.reactQuery.queries=t.getAll().length}return e}};"undefined"!==typeof window&&(window.cacheManager={checkUsage:()=>OA.checkStorageUsage(),forceClean:()=>OA.forceCleanup(),getInfo:()=>OA.getCacheInfo()});try{const e="_firestore_test";localStorage.setItem(e,"test"),localStorage.removeItem(e),PA().catch(e=>{console.error("Erro na migra\xe7\xe3o:",e)})}catch(IA){console.warn("localStorage cheio, limpando dados antigos..."),localStorage.clear(),window.location.reload()}const RA=new TA({defaultOptions:{queries:{staleTime:3e5,gcTime:6e5,refetchOnWindowFocus:!1,refetchOnReconnect:!1,refetchOnMount:!1,retry:1,retryDelay:3e3}}});"undefined"!==typeof window&&(window.queryClient=RA,window.supabase=xt.ND,console.log("\u2705 Supabase exposto globalmente para debug"));a.createRoot(document.getElementById("root")).render((0,kt.jsx)(r.StrictMode,{children:(0,kt.jsxs)(Ct,{client:RA,children:[(0,kt.jsx)(ht,{children:(0,kt.jsx)(cA,{})}),(0,kt.jsx)(NA,{initialIsOpen:!1})]})})),uA()})();
//# sourceMappingURL=main.bd7028ce.js.map