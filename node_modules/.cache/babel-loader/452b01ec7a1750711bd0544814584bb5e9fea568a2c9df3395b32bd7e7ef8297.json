{"ast":null,"code":"// src/hooks/useUserProfile.js\nimport{useState,useEffect}from'react';import{supabase}from'../supabase';export function useUserProfile(user){const[profile,setProfile]=useState(null);const[loading,setLoading]=useState(true);const[error,setError]=useState(null);useEffect(()=>{async function fetchProfile(){if(!(user!==null&&user!==void 0&&user.id)){setProfile(null);setLoading(false);return;}try{console.log('üîÑ Buscando perfil do usu√°rio:',user.email);setLoading(true);const{data,error}=await supabase.from('users').select('*').eq('id',user.id).single();if(error){console.error('‚ùå Erro ao buscar perfil:',error);setError(error);}else{console.log('‚úÖ Perfil encontrado:',data);setProfile(data);}}catch(err){console.error('‚ùå Erro ao buscar perfil:',err);setError(err);}finally{setLoading(false);}}fetchProfile();},[user===null||user===void 0?void 0:user.id]);return{profile,loading,error};}","map":{"version":3,"names":["useState","useEffect","supabase","useUserProfile","user","profile","setProfile","loading","setLoading","error","setError","fetchProfile","id","console","log","email","data","from","select","eq","single","err"],"sources":["C:/Users/Lucas Araujo/Desktop/supabase/DeckMaster/src/hooks/useUserProfile.js"],"sourcesContent":["// src/hooks/useUserProfile.js\r\nimport { useState, useEffect } from 'react';\r\nimport { supabase } from '../supabase';\r\n\r\nexport function useUserProfile(user) {\r\n  const [profile, setProfile] = useState(null);\r\n  const [loading, setLoading] = useState(true);\r\n  const [error, setError] = useState(null);\r\n\r\n  useEffect(() => {\r\n    async function fetchProfile() {\r\n      if (!user?.id) {\r\n        setProfile(null);\r\n        setLoading(false);\r\n        return;\r\n      }\r\n\r\n      try {\r\n        console.log('üîÑ Buscando perfil do usu√°rio:', user.email);\r\n        setLoading(true);\r\n        \r\n        const { data, error } = await supabase\r\n          .from('users')\r\n          .select('*')\r\n          .eq('id', user.id)\r\n          .single();\r\n\r\n        if (error) {\r\n          console.error('‚ùå Erro ao buscar perfil:', error);\r\n          setError(error);\r\n        } else {\r\n          console.log('‚úÖ Perfil encontrado:', data);\r\n          setProfile(data);\r\n        }\r\n      } catch (err) {\r\n        console.error('‚ùå Erro ao buscar perfil:', err);\r\n        setError(err);\r\n      } finally {\r\n        setLoading(false);\r\n      }\r\n    }\r\n\r\n    fetchProfile();\r\n  }, [user?.id]);\r\n\r\n  return { profile, loading, error };\r\n}"],"mappings":"AAAA;AACA,OAASA,QAAQ,CAAEC,SAAS,KAAQ,OAAO,CAC3C,OAASC,QAAQ,KAAQ,aAAa,CAEtC,MAAO,SAAS,CAAAC,cAAcA,CAACC,IAAI,CAAE,CACnC,KAAM,CAACC,OAAO,CAAEC,UAAU,CAAC,CAAGN,QAAQ,CAAC,IAAI,CAAC,CAC5C,KAAM,CAACO,OAAO,CAAEC,UAAU,CAAC,CAAGR,QAAQ,CAAC,IAAI,CAAC,CAC5C,KAAM,CAACS,KAAK,CAAEC,QAAQ,CAAC,CAAGV,QAAQ,CAAC,IAAI,CAAC,CAExCC,SAAS,CAAC,IAAM,CACd,cAAe,CAAAU,YAAYA,CAAA,CAAG,CAC5B,GAAI,EAACP,IAAI,SAAJA,IAAI,WAAJA,IAAI,CAAEQ,EAAE,EAAE,CACbN,UAAU,CAAC,IAAI,CAAC,CAChBE,UAAU,CAAC,KAAK,CAAC,CACjB,OACF,CAEA,GAAI,CACFK,OAAO,CAACC,GAAG,CAAC,gCAAgC,CAAEV,IAAI,CAACW,KAAK,CAAC,CACzDP,UAAU,CAAC,IAAI,CAAC,CAEhB,KAAM,CAAEQ,IAAI,CAAEP,KAAM,CAAC,CAAG,KAAM,CAAAP,QAAQ,CACnCe,IAAI,CAAC,OAAO,CAAC,CACbC,MAAM,CAAC,GAAG,CAAC,CACXC,EAAE,CAAC,IAAI,CAAEf,IAAI,CAACQ,EAAE,CAAC,CACjBQ,MAAM,CAAC,CAAC,CAEX,GAAIX,KAAK,CAAE,CACTI,OAAO,CAACJ,KAAK,CAAC,0BAA0B,CAAEA,KAAK,CAAC,CAChDC,QAAQ,CAACD,KAAK,CAAC,CACjB,CAAC,IAAM,CACLI,OAAO,CAACC,GAAG,CAAC,sBAAsB,CAAEE,IAAI,CAAC,CACzCV,UAAU,CAACU,IAAI,CAAC,CAClB,CACF,CAAE,MAAOK,GAAG,CAAE,CACZR,OAAO,CAACJ,KAAK,CAAC,0BAA0B,CAAEY,GAAG,CAAC,CAC9CX,QAAQ,CAACW,GAAG,CAAC,CACf,CAAC,OAAS,CACRb,UAAU,CAAC,KAAK,CAAC,CACnB,CACF,CAEAG,YAAY,CAAC,CAAC,CAChB,CAAC,CAAE,CAACP,IAAI,SAAJA,IAAI,iBAAJA,IAAI,CAAEQ,EAAE,CAAC,CAAC,CAEd,MAAO,CAAEP,OAAO,CAAEE,OAAO,CAAEE,KAAM,CAAC,CACpC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}