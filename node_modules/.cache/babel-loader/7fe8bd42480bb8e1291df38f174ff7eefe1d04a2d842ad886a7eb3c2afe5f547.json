{"ast":null,"code":"import React,{useRef,memo}from\"react\";import{jsx as _jsx}from\"react/jsx-runtime\";function CardItem(_ref){var _card$image_uris,_card$card_faces,_card$card_faces$,_card$card_faces$$ima;let{card,onLongPress,onDoubleClick}=_ref;const touchStartX=useRef(0);const touchStartY=useRef(0);// Swipe para direita: abre zoom\nconst handleTouchStart=e=>{touchStartX.current=e.touches[0].clientX;touchStartY.current=e.touches[0].clientY;};const handleTouchEnd=e=>{const touchEndX=e.changedTouches[0].clientX;const touchEndY=e.changedTouches[0].clientY;const diffX=touchEndX-touchStartX.current;const diffY=Math.abs(touchEndY-touchStartY.current);// Swipe para direita: abrir zoom (apenas se movimento horizontal > vertical)\nif(diffX>100&&diffY<50){onLongPress(card);}};// Clique simples também abre\nconst handleClick=()=>{onLongPress(card);};// Duplo clique abre seletor de deck\nconst handleDoubleClick=()=>{if(onDoubleClick){onDoubleClick(card);}};return/*#__PURE__*/_jsx(\"div\",{className:\"relative cursor-pointer\",onTouchStart:handleTouchStart,onTouchEnd:handleTouchEnd,onClick:handleClick,onDoubleClick:handleDoubleClick,children:/*#__PURE__*/_jsx(\"img\",{src:((_card$image_uris=card.image_uris)===null||_card$image_uris===void 0?void 0:_card$image_uris.small)||((_card$card_faces=card.card_faces)===null||_card$card_faces===void 0?void 0:(_card$card_faces$=_card$card_faces[0])===null||_card$card_faces$===void 0?void 0:(_card$card_faces$$ima=_card$card_faces$.image_uris)===null||_card$card_faces$$ima===void 0?void 0:_card$card_faces$$ima.small),alt:card.name,className:\"w-full rounded shadow\",loading:\"lazy\",decoding:\"async\"})});}// Memoiza componente - só re-renderiza se card.id mudar\nexport default/*#__PURE__*/memo(CardItem,(prevProps,nextProps)=>{return prevProps.card.id===nextProps.card.id;});","map":{"version":3,"names":["React","useRef","memo","jsx","_jsx","CardItem","_ref","_card$image_uris","_card$card_faces","_card$card_faces$","_card$card_faces$$ima","card","onLongPress","onDoubleClick","touchStartX","touchStartY","handleTouchStart","e","current","touches","clientX","clientY","handleTouchEnd","touchEndX","changedTouches","touchEndY","diffX","diffY","Math","abs","handleClick","handleDoubleClick","className","onTouchStart","onTouchEnd","onClick","children","src","image_uris","small","card_faces","alt","name","loading","decoding","prevProps","nextProps","id"],"sources":["C:/Users/Lucas Araujo/Desktop/supabase/DeckMaster/src/components/advanced-search/CardItem.tsx"],"sourcesContent":["import React, { useRef, memo } from \"react\";\r\n\r\ninterface CardItemProps {\r\n  card: any;\r\n  onLongPress: (card: any) => void;\r\n  onDoubleClick?: (card: any) => void;\r\n}\r\n\r\nfunction CardItem({ card, onLongPress, onDoubleClick }: CardItemProps) {\r\n  const touchStartX = useRef(0);\r\n  const touchStartY = useRef(0);\r\n\r\n  // Swipe para direita: abre zoom\r\n  const handleTouchStart = (e: React.TouchEvent) => {\r\n    touchStartX.current = e.touches[0].clientX;\r\n    touchStartY.current = e.touches[0].clientY;\r\n  };\r\n\r\n  const handleTouchEnd = (e: React.TouchEvent) => {\r\n    const touchEndX = e.changedTouches[0].clientX;\r\n    const touchEndY = e.changedTouches[0].clientY;\r\n    const diffX = touchEndX - touchStartX.current;\r\n    const diffY = Math.abs(touchEndY - touchStartY.current);\r\n\r\n    // Swipe para direita: abrir zoom (apenas se movimento horizontal > vertical)\r\n    if (diffX > 100 && diffY < 50) {\r\n      onLongPress(card);\r\n    }\r\n  };\r\n\r\n  // Clique simples também abre\r\n  const handleClick = () => {\r\n    onLongPress(card);\r\n  };\r\n\r\n  // Duplo clique abre seletor de deck\r\n  const handleDoubleClick = () => {\r\n    if (onDoubleClick) {\r\n      onDoubleClick(card);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div\r\n      className=\"relative cursor-pointer\"\r\n      onTouchStart={handleTouchStart}\r\n      onTouchEnd={handleTouchEnd}\r\n      onClick={handleClick}\r\n      onDoubleClick={handleDoubleClick}\r\n    >\r\n      <img\r\n        src={card.image_uris?.small || card.card_faces?.[0]?.image_uris?.small}\r\n        alt={card.name}\r\n        className=\"w-full rounded shadow\"\r\n        loading=\"lazy\"\r\n        decoding=\"async\"\r\n      />\r\n    </div>\r\n  );\r\n}\r\n\r\n// Memoiza componente - só re-renderiza se card.id mudar\r\nexport default memo(CardItem, (prevProps, nextProps) => {\r\n  return prevProps.card.id === nextProps.card.id;\r\n});\r\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,MAAM,CAAEC,IAAI,KAAQ,OAAO,CAAC,OAAAC,GAAA,IAAAC,IAAA,yBAQ5C,QAAS,CAAAC,QAAQA,CAAAC,IAAA,CAAsD,KAAAC,gBAAA,CAAAC,gBAAA,CAAAC,iBAAA,CAAAC,qBAAA,IAArD,CAAEC,IAAI,CAAEC,WAAW,CAAEC,aAA6B,CAAC,CAAAP,IAAA,CACnE,KAAM,CAAAQ,WAAW,CAAGb,MAAM,CAAC,CAAC,CAAC,CAC7B,KAAM,CAAAc,WAAW,CAAGd,MAAM,CAAC,CAAC,CAAC,CAE7B;AACA,KAAM,CAAAe,gBAAgB,CAAIC,CAAmB,EAAK,CAChDH,WAAW,CAACI,OAAO,CAAGD,CAAC,CAACE,OAAO,CAAC,CAAC,CAAC,CAACC,OAAO,CAC1CL,WAAW,CAACG,OAAO,CAAGD,CAAC,CAACE,OAAO,CAAC,CAAC,CAAC,CAACE,OAAO,CAC5C,CAAC,CAED,KAAM,CAAAC,cAAc,CAAIL,CAAmB,EAAK,CAC9C,KAAM,CAAAM,SAAS,CAAGN,CAAC,CAACO,cAAc,CAAC,CAAC,CAAC,CAACJ,OAAO,CAC7C,KAAM,CAAAK,SAAS,CAAGR,CAAC,CAACO,cAAc,CAAC,CAAC,CAAC,CAACH,OAAO,CAC7C,KAAM,CAAAK,KAAK,CAAGH,SAAS,CAAGT,WAAW,CAACI,OAAO,CAC7C,KAAM,CAAAS,KAAK,CAAGC,IAAI,CAACC,GAAG,CAACJ,SAAS,CAAGV,WAAW,CAACG,OAAO,CAAC,CAEvD;AACA,GAAIQ,KAAK,CAAG,GAAG,EAAIC,KAAK,CAAG,EAAE,CAAE,CAC7Bf,WAAW,CAACD,IAAI,CAAC,CACnB,CACF,CAAC,CAED;AACA,KAAM,CAAAmB,WAAW,CAAGA,CAAA,GAAM,CACxBlB,WAAW,CAACD,IAAI,CAAC,CACnB,CAAC,CAED;AACA,KAAM,CAAAoB,iBAAiB,CAAGA,CAAA,GAAM,CAC9B,GAAIlB,aAAa,CAAE,CACjBA,aAAa,CAACF,IAAI,CAAC,CACrB,CACF,CAAC,CAED,mBACEP,IAAA,QACE4B,SAAS,CAAC,yBAAyB,CACnCC,YAAY,CAAEjB,gBAAiB,CAC/BkB,UAAU,CAAEZ,cAAe,CAC3Ba,OAAO,CAAEL,WAAY,CACrBjB,aAAa,CAAEkB,iBAAkB,CAAAK,QAAA,cAEjChC,IAAA,QACEiC,GAAG,CAAE,EAAA9B,gBAAA,CAAAI,IAAI,CAAC2B,UAAU,UAAA/B,gBAAA,iBAAfA,gBAAA,CAAiBgC,KAAK,KAAA/B,gBAAA,CAAIG,IAAI,CAAC6B,UAAU,UAAAhC,gBAAA,kBAAAC,iBAAA,CAAfD,gBAAA,CAAkB,CAAC,CAAC,UAAAC,iBAAA,kBAAAC,qBAAA,CAApBD,iBAAA,CAAsB6B,UAAU,UAAA5B,qBAAA,iBAAhCA,qBAAA,CAAkC6B,KAAK,CAAC,CACvEE,GAAG,CAAE9B,IAAI,CAAC+B,IAAK,CACfV,SAAS,CAAC,uBAAuB,CACjCW,OAAO,CAAC,MAAM,CACdC,QAAQ,CAAC,OAAO,CACjB,CAAC,CACC,CAAC,CAEV,CAEA;AACA,2BAAe1C,IAAI,CAACG,QAAQ,CAAE,CAACwC,SAAS,CAAEC,SAAS,GAAK,CACtD,MAAO,CAAAD,SAAS,CAAClC,IAAI,CAACoC,EAAE,GAAKD,SAAS,CAACnC,IAAI,CAACoC,EAAE,CAChD,CAAC,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}