{"ast":null,"code":"import React,{useEffect,useState}from\"react\";import{useParams,useNavigate}from\"react-router-dom\";import{deckOperations}from\"../lib/supabaseOperations\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function FriendDecksPage(){const{friendId}=useParams();const navigate=useNavigate();const[decks,setDecks]=useState([]);const[isLoading,setIsLoading]=useState(true);const[error,setError]=useState(null);useEffect(()=>{async function fetchDecks(){setIsLoading(true);setError(null);try{console.log(\"[FriendDecksPage] friendId recebido:\",friendId);const result=await deckOperations.getUserDecks(friendId);console.log(\"[FriendDecksPage] decks retornados:\",result);setDecks(result);}catch(err){setError(\"Erro ao carregar decks do amigo.\");console.error(\"[FriendDecksPage] erro:\",err);}finally{setIsLoading(false);}}if(friendId)fetchDecks();},[friendId]);return/*#__PURE__*/_jsxs(\"div\",{className:\"min-h-screen bg-gradient-to-br from-gray-950 via-gray-900 to-purple-950 flex flex-col items-center pt-20 px-4 text-white\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>navigate(-1),className:\"absolute top-6 left-6 px-4 py-2 rounded bg-gray-700 text-white hover:bg-gray-600\",children:\"\\u2190 Voltar\"}),/*#__PURE__*/_jsx(\"h1\",{className:\"mb-6 text-3xl font-bold\",children:\"Decks do Amigo\"}),isLoading&&/*#__PURE__*/_jsx(\"p\",{children:\"Carregando decks...\"}),error&&/*#__PURE__*/_jsx(\"div\",{className:\"mb-4 w-full max-w-md text-red-400\",children:error}),!isLoading&&decks.length===0&&!error&&/*#__PURE__*/_jsx(\"p\",{children:\"Nenhum deck encontrado para este usu\\xE1rio.\"}),decks.length>0&&/*#__PURE__*/_jsx(\"div\",{className:\"w-full max-w-lg overflow-y-auto max-h-[calc(100vh-200px)] pb-24 scrollbar-hide space-y-6\",children:decks.map(deck=>/*#__PURE__*/_jsxs(\"div\",{className:\"relative overflow-hidden rounded-xl shadow-lg min-h-[240px] flex-shrink-0 cursor-pointer\",onClick:()=>navigate(\"/deckbuilder/\".concat(deck.id)),children:[/*#__PURE__*/_jsx(\"div\",{className:\"h-56 w-full bg-cover bg-center\",style:{backgroundImage:\"url(\".concat(deck.cover_image_url||\"https://placehold.co/400x200\",\")\")}}),/*#__PURE__*/_jsxs(\"div\",{className:\"absolute bottom-0 left-0 right-0 bg-gradient-to-t from-black/90 to-transparent p-5\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-2xl font-bold\",children:deck.name}),/*#__PURE__*/_jsx(\"p\",{className:\"text-base text-gray-300\",children:deck.format})]})]},deck.id))})]});}export default FriendDecksPage;","map":{"version":3,"names":["React","useEffect","useState","useParams","useNavigate","deckOperations","jsx","_jsx","jsxs","_jsxs","FriendDecksPage","friendId","navigate","decks","setDecks","isLoading","setIsLoading","error","setError","fetchDecks","console","log","result","getUserDecks","err","className","children","onClick","length","map","deck","concat","id","style","backgroundImage","cover_image_url","name","format"],"sources":["C:/Users/Lucas Araujo/Desktop/supabase/DeckMaster/src/pages/FriendDecksPage.jsx"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\r\nimport { useParams, useNavigate } from \"react-router-dom\";\r\nimport { deckOperations } from \"../lib/supabaseOperations\";\r\n\r\nfunction FriendDecksPage() {\r\n  const { friendId } = useParams();\r\n  const navigate = useNavigate();\r\n  const [decks, setDecks] = useState([]);\r\n  const [isLoading, setIsLoading] = useState(true);\r\n  const [error, setError] = useState(null);\r\n\r\n  useEffect(() => {\r\n    async function fetchDecks() {\r\n      setIsLoading(true);\r\n      setError(null);\r\n      try {\r\n        console.log(\"[FriendDecksPage] friendId recebido:\", friendId);\r\n        const result = await deckOperations.getUserDecks(friendId);\r\n        console.log(\"[FriendDecksPage] decks retornados:\", result);\r\n        setDecks(result);\r\n      } catch (err) {\r\n        setError(\"Erro ao carregar decks do amigo.\");\r\n        console.error(\"[FriendDecksPage] erro:\", err);\r\n      } finally {\r\n        setIsLoading(false);\r\n      }\r\n    }\r\n    if (friendId) fetchDecks();\r\n  }, [friendId]);\r\n\r\n  return (\r\n    <div className=\"min-h-screen bg-gradient-to-br from-gray-950 via-gray-900 to-purple-950 flex flex-col items-center pt-20 px-4 text-white\">\r\n      <button\r\n        onClick={() => navigate(-1)}\r\n        className=\"absolute top-6 left-6 px-4 py-2 rounded bg-gray-700 text-white hover:bg-gray-600\"\r\n      >\r\n        ← Voltar\r\n      </button>\r\n      <h1 className=\"mb-6 text-3xl font-bold\">Decks do Amigo</h1>\r\n      {isLoading && <p>Carregando decks...</p>}\r\n      {error && <div className=\"mb-4 w-full max-w-md text-red-400\">{error}</div>}\r\n      {!isLoading && decks.length === 0 && !error && (\r\n        <p>Nenhum deck encontrado para este usuário.</p>\r\n      )}\r\n      {decks.length > 0 && (\r\n        <div className=\"w-full max-w-lg overflow-y-auto max-h-[calc(100vh-200px)] pb-24 scrollbar-hide space-y-6\">\r\n          {decks.map((deck) => (\r\n            <div\r\n              key={deck.id}\r\n              className=\"relative overflow-hidden rounded-xl shadow-lg min-h-[240px] flex-shrink-0 cursor-pointer\"\r\n              onClick={() => navigate(`/deckbuilder/${deck.id}`)}\r\n            >\r\n              <div\r\n                className=\"h-56 w-full bg-cover bg-center\"\r\n                style={{\r\n                  backgroundImage: `url(${deck.cover_image_url || \"https://placehold.co/400x200\"})`,\r\n                }}\r\n              />\r\n              <div className=\"absolute bottom-0 left-0 right-0 bg-gradient-to-t from-black/90 to-transparent p-5\">\r\n                <h2 className=\"text-2xl font-bold\">{deck.name}</h2>\r\n                <p className=\"text-base text-gray-300\">{deck.format}</p>\r\n              </div>\r\n            </div>\r\n          ))}\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default FriendDecksPage;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}