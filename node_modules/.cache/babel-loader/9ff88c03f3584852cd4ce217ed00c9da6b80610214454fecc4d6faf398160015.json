{"ast":null,"code":"// src/components/deck/DoubleClickTransparencyManager.js\n// Gerencia atualização de transparência via duplo clique, sem interferir em outros campos\nimport{useCallback}from'react';export function useDoubleClickTransparency(updateCard,refetchCards){// Handler para duplo clique em card\nreturn useCallback(async(card,deckCards)=>{const transparent=card.is_transparent===true||card.is_transparent==='true';console.log('[DoubleClick] Antes do update:',{cardId:card.id,is_transparent:card.is_transparent,transparent,updatePayload:{is_transparent:!transparent}});await updateCard({cardId:card.id,updates:{is_transparent:!transparent}});console.log('[DoubleClick] updateCard chamado, aguardando refetch...');setTimeout(async()=>{if(typeof refetchCards==='function'){await refetchCards();console.log('[DoubleClick] refetchCards chamado, aguardando atualização dos dados...');setTimeout(()=>{const updated=deckCards.find(c=>c.id===card.id);console.log('[DoubleClick] Depois do update (refetch):',{cardId:card.id,is_transparent:updated===null||updated===void 0?void 0:updated.is_transparent,typeof:typeof(updated===null||updated===void 0?void 0:updated.is_transparent),deckCards:deckCards.map(c=>({id:c.id,is_transparent:c.is_transparent}))});},300);}},400);},[updateCard,refetchCards]);}","map":{"version":3,"names":["useCallback","useDoubleClickTransparency","updateCard","refetchCards","card","deckCards","transparent","is_transparent","console","log","cardId","id","updatePayload","updates","setTimeout","updated","find","c","typeof","map"],"sources":["C:/Users/Lucas Araujo/Desktop/supabase/DeckMaster/src/components/deck/DoubleClickTransparencyManager.js"],"sourcesContent":["// src/components/deck/DoubleClickTransparencyManager.js\r\n// Gerencia atualização de transparência via duplo clique, sem interferir em outros campos\r\n\r\nimport { useCallback } from 'react';\r\n\r\nexport function useDoubleClickTransparency(updateCard, refetchCards) {\r\n  // Handler para duplo clique em card\r\n  return useCallback(async (card, deckCards) => {\r\n    const transparent = card.is_transparent === true || card.is_transparent === 'true';\r\n    console.log('[DoubleClick] Antes do update:', {\r\n      cardId: card.id,\r\n      is_transparent: card.is_transparent,\r\n      transparent,\r\n      updatePayload: { is_transparent: !transparent }\r\n    });\r\n    await updateCard({ cardId: card.id, updates: { is_transparent: !transparent } });\r\n    console.log('[DoubleClick] updateCard chamado, aguardando refetch...');\r\n    setTimeout(async () => {\r\n      if (typeof refetchCards === 'function') {\r\n        await refetchCards();\r\n        console.log('[DoubleClick] refetchCards chamado, aguardando atualização dos dados...');\r\n        setTimeout(() => {\r\n          const updated = deckCards.find(c => c.id === card.id);\r\n          console.log('[DoubleClick] Depois do update (refetch):', {\r\n            cardId: card.id,\r\n            is_transparent: updated?.is_transparent,\r\n            typeof: typeof updated?.is_transparent,\r\n            deckCards: deckCards.map(c => ({ id: c.id, is_transparent: c.is_transparent }))\r\n          });\r\n        }, 300);\r\n      }\r\n    }, 400);\r\n  }, [updateCard, refetchCards]);\r\n}\r\n"],"mappings":"AAAA;AACA;AAEA,OAASA,WAAW,KAAQ,OAAO,CAEnC,MAAO,SAAS,CAAAC,0BAA0BA,CAACC,UAAU,CAAEC,YAAY,CAAE,CACnE;AACA,MAAO,CAAAH,WAAW,CAAC,MAAOI,IAAI,CAAEC,SAAS,GAAK,CAC5C,KAAM,CAAAC,WAAW,CAAGF,IAAI,CAACG,cAAc,GAAK,IAAI,EAAIH,IAAI,CAACG,cAAc,GAAK,MAAM,CAClFC,OAAO,CAACC,GAAG,CAAC,gCAAgC,CAAE,CAC5CC,MAAM,CAAEN,IAAI,CAACO,EAAE,CACfJ,cAAc,CAAEH,IAAI,CAACG,cAAc,CACnCD,WAAW,CACXM,aAAa,CAAE,CAAEL,cAAc,CAAE,CAACD,WAAY,CAChD,CAAC,CAAC,CACF,KAAM,CAAAJ,UAAU,CAAC,CAAEQ,MAAM,CAAEN,IAAI,CAACO,EAAE,CAAEE,OAAO,CAAE,CAAEN,cAAc,CAAE,CAACD,WAAY,CAAE,CAAC,CAAC,CAChFE,OAAO,CAACC,GAAG,CAAC,yDAAyD,CAAC,CACtEK,UAAU,CAAC,SAAY,CACrB,GAAI,MAAO,CAAAX,YAAY,GAAK,UAAU,CAAE,CACtC,KAAM,CAAAA,YAAY,CAAC,CAAC,CACpBK,OAAO,CAACC,GAAG,CAAC,yEAAyE,CAAC,CACtFK,UAAU,CAAC,IAAM,CACf,KAAM,CAAAC,OAAO,CAAGV,SAAS,CAACW,IAAI,CAACC,CAAC,EAAIA,CAAC,CAACN,EAAE,GAAKP,IAAI,CAACO,EAAE,CAAC,CACrDH,OAAO,CAACC,GAAG,CAAC,2CAA2C,CAAE,CACvDC,MAAM,CAAEN,IAAI,CAACO,EAAE,CACfJ,cAAc,CAAEQ,OAAO,SAAPA,OAAO,iBAAPA,OAAO,CAAER,cAAc,CACvCW,MAAM,CAAE,OAAOH,OAAO,SAAPA,OAAO,iBAAPA,OAAO,CAAER,cAAc,EACtCF,SAAS,CAAEA,SAAS,CAACc,GAAG,CAACF,CAAC,GAAK,CAAEN,EAAE,CAAEM,CAAC,CAACN,EAAE,CAAEJ,cAAc,CAAEU,CAAC,CAACV,cAAe,CAAC,CAAC,CAChF,CAAC,CAAC,CACJ,CAAC,CAAE,GAAG,CAAC,CACT,CACF,CAAC,CAAE,GAAG,CAAC,CACT,CAAC,CAAE,CAACL,UAAU,CAAEC,YAAY,CAAC,CAAC,CAChC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}