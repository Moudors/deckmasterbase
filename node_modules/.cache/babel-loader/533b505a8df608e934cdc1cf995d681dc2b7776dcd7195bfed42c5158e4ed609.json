{"ast":null,"code":"import React,{useState}from\"react\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";export default function CardZoomModal(_ref){var _currentFace$image_ur,_card$image_uris;let{card,onClose,onAddToDeck}=_ref;const[faceIndex,setFaceIndex]=useState(0);// Swipe para cartas dupla face\nlet touchStartX=0;function handleTouchStart(e){touchStartX=e.touches[0].clientX;}function handleTouchEnd(e){const touchEndX=e.changedTouches[0].clientX;if(card.card_faces&&card.card_faces.length>1){if(touchStartX-touchEndX>50){setFaceIndex(prev=>(prev+1)%card.card_faces.length);}else if(touchEndX-touchStartX>50){setFaceIndex(prev=>prev===0?card.card_faces.length-1:prev-1);}}}const currentFace=card.card_faces?card.card_faces[faceIndex]:card;function handleAddClick(){if(onAddToDeck){onAddToDeck(card);}}return/*#__PURE__*/_jsx(\"div\",{className:\"fixed inset-0 bg-black/70 backdrop-blur-sm flex items-center justify-center z-50\",onClick:onClose,children:/*#__PURE__*/_jsxs(\"div\",{className:\"relative flex flex-col items-center\",onClick:e=>e.stopPropagation(),children:[/*#__PURE__*/_jsx(\"div\",{className:\"relative w-80 sm:w-96 overflow-hidden rounded-lg shadow-lg\",children:/*#__PURE__*/_jsx(\"img\",{src:((_currentFace$image_ur=currentFace.image_uris)===null||_currentFace$image_ur===void 0?void 0:_currentFace$image_ur.normal)||((_card$image_uris=card.image_uris)===null||_card$image_uris===void 0?void 0:_card$image_uris.normal),alt:card.name,className:\"w-full rounded-lg\",loading:\"lazy\",decoding:\"async\",onTouchStart:handleTouchStart,onTouchEnd:handleTouchEnd})}),onAddToDeck&&/*#__PURE__*/_jsx(\"button\",{onClick:handleAddClick,className:\"mt-4 w-full py-2 bg-orange-600 text-white font-bold rounded hover:bg-orange-700 transition-all\",children:\"Adicionar ao Deck\"})]})});}","map":{"version":3,"names":["React","useState","jsx","_jsx","jsxs","_jsxs","CardZoomModal","_ref","_currentFace$image_ur","_card$image_uris","card","onClose","onAddToDeck","faceIndex","setFaceIndex","touchStartX","handleTouchStart","e","touches","clientX","handleTouchEnd","touchEndX","changedTouches","card_faces","length","prev","currentFace","handleAddClick","className","onClick","children","stopPropagation","src","image_uris","normal","alt","name","loading","decoding","onTouchStart","onTouchEnd"],"sources":["C:/Users/Lucas Araujo/Desktop/supabase/DeckMaster/src/components/advanced-search/CardZoomModal.tsx"],"sourcesContent":["import React, { useState } from \"react\";\r\n\r\ninterface CardZoomModalProps {\r\n  card: any;\r\n  onClose: () => void;\r\n  onAddToDeck?: (card: any) => void;\r\n}\r\n\r\nexport default function CardZoomModal({ card, onClose, onAddToDeck }: CardZoomModalProps) {\r\n  const [faceIndex, setFaceIndex] = useState(0);\r\n\r\n  // Swipe para cartas dupla face\r\n  let touchStartX = 0;\r\n  function handleTouchStart(e: React.TouchEvent) {\r\n    touchStartX = e.touches[0].clientX;\r\n  }\r\n  function handleTouchEnd(e: React.TouchEvent) {\r\n    const touchEndX = e.changedTouches[0].clientX;\r\n    if (card.card_faces && card.card_faces.length > 1) {\r\n      if (touchStartX - touchEndX > 50) {\r\n        setFaceIndex((prev) => (prev + 1) % card.card_faces.length);\r\n      } else if (touchEndX - touchStartX > 50) {\r\n        setFaceIndex((prev) =>\r\n          prev === 0 ? card.card_faces.length - 1 : prev - 1\r\n        );\r\n      }\r\n    }\r\n  }\r\n\r\n  const currentFace = card.card_faces ? card.card_faces[faceIndex] : card;\r\n\r\n  function handleAddClick() {\r\n    if (onAddToDeck) {\r\n      onAddToDeck(card);\r\n    }\r\n  }\r\n\r\n  return (\r\n    <div\r\n      className=\"fixed inset-0 bg-black/70 backdrop-blur-sm flex items-center justify-center z-50\"\r\n      onClick={onClose}\r\n    >\r\n      <div\r\n        className=\"relative flex flex-col items-center\"\r\n        onClick={(e) => e.stopPropagation()}\r\n      >\r\n        {/* Carta */}\r\n        <div className=\"relative w-80 sm:w-96 overflow-hidden rounded-lg shadow-lg\">\r\n          <img\r\n            src={currentFace.image_uris?.normal || card.image_uris?.normal}\r\n            alt={card.name}\r\n            className=\"w-full rounded-lg\"\r\n            loading=\"lazy\"\r\n            decoding=\"async\"\r\n            onTouchStart={handleTouchStart}\r\n            onTouchEnd={handleTouchEnd}\r\n          />\r\n        </div>\r\n\r\n        {/* Bot√£o de adicionar */}\r\n        {onAddToDeck && (\r\n          <button\r\n            onClick={handleAddClick}\r\n            className=\"mt-4 w-full py-2 bg-orange-600 text-white font-bold rounded hover:bg-orange-700 transition-all\"\r\n          >\r\n            Adicionar ao Deck\r\n          </button>\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,KAAQ,OAAO,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAQxC,cAAe,SAAS,CAAAC,aAAaA,CAAAC,IAAA,CAAqD,KAAAC,qBAAA,CAAAC,gBAAA,IAApD,CAAEC,IAAI,CAAEC,OAAO,CAAEC,WAAgC,CAAC,CAAAL,IAAA,CACtF,KAAM,CAACM,SAAS,CAAEC,YAAY,CAAC,CAAGb,QAAQ,CAAC,CAAC,CAAC,CAE7C;AACA,GAAI,CAAAc,WAAW,CAAG,CAAC,CACnB,QAAS,CAAAC,gBAAgBA,CAACC,CAAmB,CAAE,CAC7CF,WAAW,CAAGE,CAAC,CAACC,OAAO,CAAC,CAAC,CAAC,CAACC,OAAO,CACpC,CACA,QAAS,CAAAC,cAAcA,CAACH,CAAmB,CAAE,CAC3C,KAAM,CAAAI,SAAS,CAAGJ,CAAC,CAACK,cAAc,CAAC,CAAC,CAAC,CAACH,OAAO,CAC7C,GAAIT,IAAI,CAACa,UAAU,EAAIb,IAAI,CAACa,UAAU,CAACC,MAAM,CAAG,CAAC,CAAE,CACjD,GAAIT,WAAW,CAAGM,SAAS,CAAG,EAAE,CAAE,CAChCP,YAAY,CAAEW,IAAI,EAAK,CAACA,IAAI,CAAG,CAAC,EAAIf,IAAI,CAACa,UAAU,CAACC,MAAM,CAAC,CAC7D,CAAC,IAAM,IAAIH,SAAS,CAAGN,WAAW,CAAG,EAAE,CAAE,CACvCD,YAAY,CAAEW,IAAI,EAChBA,IAAI,GAAK,CAAC,CAAGf,IAAI,CAACa,UAAU,CAACC,MAAM,CAAG,CAAC,CAAGC,IAAI,CAAG,CACnD,CAAC,CACH,CACF,CACF,CAEA,KAAM,CAAAC,WAAW,CAAGhB,IAAI,CAACa,UAAU,CAAGb,IAAI,CAACa,UAAU,CAACV,SAAS,CAAC,CAAGH,IAAI,CAEvE,QAAS,CAAAiB,cAAcA,CAAA,CAAG,CACxB,GAAIf,WAAW,CAAE,CACfA,WAAW,CAACF,IAAI,CAAC,CACnB,CACF,CAEA,mBACEP,IAAA,QACEyB,SAAS,CAAC,kFAAkF,CAC5FC,OAAO,CAAElB,OAAQ,CAAAmB,QAAA,cAEjBzB,KAAA,QACEuB,SAAS,CAAC,qCAAqC,CAC/CC,OAAO,CAAGZ,CAAC,EAAKA,CAAC,CAACc,eAAe,CAAC,CAAE,CAAAD,QAAA,eAGpC3B,IAAA,QAAKyB,SAAS,CAAC,4DAA4D,CAAAE,QAAA,cACzE3B,IAAA,QACE6B,GAAG,CAAE,EAAAxB,qBAAA,CAAAkB,WAAW,CAACO,UAAU,UAAAzB,qBAAA,iBAAtBA,qBAAA,CAAwB0B,MAAM,KAAAzB,gBAAA,CAAIC,IAAI,CAACuB,UAAU,UAAAxB,gBAAA,iBAAfA,gBAAA,CAAiByB,MAAM,CAAC,CAC/DC,GAAG,CAAEzB,IAAI,CAAC0B,IAAK,CACfR,SAAS,CAAC,mBAAmB,CAC7BS,OAAO,CAAC,MAAM,CACdC,QAAQ,CAAC,OAAO,CAChBC,YAAY,CAAEvB,gBAAiB,CAC/BwB,UAAU,CAAEpB,cAAe,CAC5B,CAAC,CACC,CAAC,CAGLR,WAAW,eACVT,IAAA,WACE0B,OAAO,CAAEF,cAAe,CACxBC,SAAS,CAAC,gGAAgG,CAAAE,QAAA,CAC3G,mBAED,CAAQ,CACT,EACE,CAAC,CACH,CAAC,CAEV","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}